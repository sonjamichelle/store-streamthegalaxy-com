if(window.jQuery){(function(a){if((!a.support.opacity&&!a.support.style)){try{document.execCommand("BackgroundImageCache",false,true)}catch(b){}}a.fn.rating=function(d){if(this.length==0){return this}if(typeof arguments[0]=="string"){if(this.length>1){var c=arguments;return this.each(function(){a.fn.rating.apply(a(this),c)})}a.fn.rating[arguments[0]].apply(this,a.makeArray(arguments).slice(1)||[]);return this}var d=a.extend({},a.fn.rating.options,d||{});a.fn.rating.calls++;this.not(".star-rating-applied").addClass("star-rating-applied").each(function(){var g,l=a(this);var e=(this.name||"unnamed-rating").replace(/\[|\]/g,"_").replace(/^\_+|\_+$/g,"");var f=a(this.form||document.body);var k=f.data("rating");if(!k||k.call!=a.fn.rating.calls){k={count:0,call:a.fn.rating.calls}}var n=k[e]||f.data("rating"+e);if(n){g=n.data("rating")}if(n&&g){g.count++}else{g=a.extend({},d||{},(a.metadata?l.metadata():(a.meta?l.data():null))||{},{count:0,stars:[],inputs:[]});g.serial=k.count++;n=a('<span class="star-rating-control"/>');l.before(n);n.addClass("rating-to-be-drawn");if(l.attr("disabled")||l.hasClass("disabled")){g.readOnly=true}if(l.hasClass("required")){g.required=true}n.append(g.cancel=a('<div class="rating-cancel"><a title="'+g.cancel+'">'+g.cancelValue+"</a></div>").on("mouseover",function(){a(this).rating("drain");a(this).addClass("star-rating-hover")}).on("mouseout",function(){a(this).rating("draw");a(this).removeClass("star-rating-hover")}).on("click",function(){a(this).rating("select")}).data("rating",g))}var j=a('<div role="text" aria-label="'+this.title+'" class="star-rating rater-'+g.serial+'"><a title="'+(this.title||this.value)+'">'+this.value+"</a></div>");n.append(j);if(this.id){j.attr("id",this.id)}if(this.className){j.addClass(this.className)}if(g.half){g.split=2}if(typeof g.split=="number"&&g.split>0){var i=(a.fn.width?j.width():0)||g.starWidth;var h=(g.count%g.split),m=Math.floor(i/g.split);j.width(m).find("a").css({"margin-left":"-"+(h*m)+"px"})}if(g.readOnly){j.addClass("star-rating-readonly")}else{j.addClass("star-rating-live").on("mouseover",function(){a(this).rating("fill");a(this).rating("focus")}).on("mouseout",function(){a(this).rating("draw");a(this).rating("blur")}).on("click",function(){a(this).rating("select")})}if(this.checked){g.current=j}if(this.nodeName=="A"){if(a(this).hasClass("selected")){g.current=j}}l.hide();l.on("change.rating",function(o){if(o.selfTriggered){return false}a(this).rating("select")});j.data("rating.input",l.data("rating.star",j));g.stars[g.stars.length]=j[0];g.inputs[g.inputs.length]=l[0];g.rater=k[e]=n;g.context=f;l.data("rating",g);n.data("rating",g);j.data("rating",g);f.data("rating",k);f.data("rating"+e,n)});a(".rating-to-be-drawn").rating("draw").removeClass("rating-to-be-drawn");return this};a.extend(a.fn.rating,{calls:0,focus:function(){var d=this.data("rating");if(!d){return this}if(!d.focus){return this}var c=a(this).data("rating.input")||a(this.tagName=="INPUT"?this:null);if(d.focus){d.focus.apply(c[0],[c.val(),a("a",c.data("rating.star"))[0]])}},blur:function(){var d=this.data("rating");if(!d){return this}if(!d.blur){return this}var c=a(this).data("rating.input")||a(this.tagName=="INPUT"?this:null);if(d.blur){d.blur.apply(c[0],[c.val(),a("a",c.data("rating.star"))[0]])}},fill:function(){var c=this.data("rating");if(!c){return this}if(c.readOnly){return}this.rating("drain");this.prevAll().addBack().filter(".rater-"+c.serial).addClass("star-rating-hover")},drain:function(){var c=this.data("rating");if(!c){return this}if(c.readOnly){return}c.rater.children().filter(".rater-"+c.serial).removeClass("star-rating-on").removeClass("star-rating-hover")},draw:function(){var e=this.data("rating");if(!e){return this}this.rating("drain");var d=a(e.current);var c=d.length?d.prevAll().addBack().filter(".rater-"+e.serial):null;if(c){c.addClass("star-rating-on")}e.cancel[e.readOnly||e.required?"hide":"show"]();this.siblings()[e.readOnly?"addClass":"removeClass"]("star-rating-readonly")},select:function(d,g){var f=this.data("rating");if(!f){return this}if(f.readOnly){return}f.current=null;if(typeof d!="undefined"||this.length>1){if(typeof d=="number"){return a(f.stars[d]).rating("select",undefined,g)}if(typeof d=="string"){a.each(f.stars,function(){if(a(this).data("rating.input").val()==d){a(this).rating("select",undefined,g)}});return this}}else{f.current=this[0].tagName=="INPUT"?this.data("rating.star"):(this.is(".rater-"+f.serial)?this:null)}this.data("rating",f);this.rating("draw");var e=a(f.current?f.current.data("rating.input"):null);var c=a(f.inputs).filter(":checked");var h=a(f.inputs).not(e);h.prop("checked",false);e.prop("checked",true);a(e.length?e:c).trigger({type:"change",selfTriggered:true});if((g||g==undefined)&&f.callback){f.callback.apply(e[0],[e.val(),a("a",f.current)[0]])}return this},readOnly:function(c,d){var e=this.data("rating");if(!e){return this}e.readOnly=c||c==undefined?true:false;if(d){a(e.inputs).attr("disabled","disabled")}else{a(e.inputs).removeAttr("disabled")}this.data("rating",e);this.rating("draw")},disable:function(){this.rating("readOnly",true,true)},enable:function(){this.rating("readOnly",false,false)}});a.fn.rating.options={cancel:"Cancel Rating",cancelValue:"",split:0,starWidth:16};a(function(){a("input[type=radio].star").rating()})})(jQuery)};(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory);}else if(typeof module==="object"&&module.exports){module.exports=factory(require("jquery"));}else{factory(jQuery);}}(function($){$.extend($.fn,{validate:function(options){if(!this.length){if(options&&options.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.");}
return;}
var validator=$.data(this[0],"validator");if(validator){return validator;}
this.attr("novalidate","novalidate");validator=new $.validator(options,this[0]);$.data(this[0],"validator",validator);if(validator.settings.onsubmit){this.on("click.validate",":submit",function(event){validator.submitButton=event.currentTarget;if($(this).hasClass("cancel")){validator.cancelSubmit=true;}
if($(this).attr("formnovalidate")!==undefined){validator.cancelSubmit=true;}});this.on("submit.validate",function(event){if(validator.settings.debug){event.preventDefault();}
function handle(){var hidden,result;if(validator.submitButton&&(validator.settings.submitHandler||validator.formSubmitted)){hidden=$("<input type='hidden'/>").attr("name",validator.submitButton.name).val($(validator.submitButton).val()).appendTo(validator.currentForm);}
if(validator.settings.submitHandler){result=validator.settings.submitHandler.call(validator,validator.currentForm,event);if(hidden){hidden.remove();}
if(result!==undefined){return result;}
return false;}
return true;}
if(validator.cancelSubmit){validator.cancelSubmit=false;return handle();}
if(validator.form()){if(validator.pendingRequest){validator.formSubmitted=true;return false;}
return handle();}else{validator.focusInvalid();return false;}});}
return validator;},valid:function(){var valid,validator,errorList;if($(this[0]).is("form")){valid=this.validate().form();}else{errorList=[];valid=true;validator=$(this[0].form).validate();this.each(function(){valid=validator.element(this)&&valid;if(!valid){errorList=errorList.concat(validator.errorList);}});validator.errorList=errorList;}
return valid;},rules:function(command,argument){var element=this[0],settings,staticRules,existingRules,data,param,filtered;if(element==null){return;}
if(!element.form&&element.hasAttribute("contenteditable")){element.form=this.closest("form")[0];element.name=this.attr("name");}
if(element.form==null){return;}
if(command){settings=$.data(element.form,"validator").settings;staticRules=settings.rules;existingRules=$.validator.staticRules(element);switch(command){case"add":$.extend(existingRules,$.validator.normalizeRule(argument));delete existingRules.messages;staticRules[element.name]=existingRules;if(argument.messages){settings.messages[element.name]=$.extend(settings.messages[element.name],argument.messages);}
break;case"remove":if(!argument){delete staticRules[element.name];return existingRules;}
filtered={};$.each(argument.split(/\s/),function(index,method){filtered[method]=existingRules[method];delete existingRules[method];});return filtered;}}
data=$.validator.normalizeRules($.extend({},$.validator.classRules(element),$.validator.attributeRules(element),$.validator.dataRules(element),$.validator.staticRules(element)),element);if(data.required){param=data.required;delete data.required;data=$.extend({required:param},data);}
if(data.remote){param=data.remote;delete data.remote;data=$.extend(data,{remote:param});}
return data;}});$.extend($.expr.pseudos||$.expr[":"],{blank:function(a){return!$.trim(""+$(a).val());},filled:function(a){var val=$(a).val();return val!==null&&!!$.trim(""+val);},unchecked:function(a){return!$(a).prop("checked");}});$.validator=function(options,form){this.settings=$.extend(true,{},$.validator.defaults,options);this.currentForm=form;this.init();};$.validator.format=function(source,params){if(arguments.length===1){return function(){var args=$.makeArray(arguments);args.unshift(source);return $.validator.format.apply(this,args);};}
if(params===undefined){return source;}
if(arguments.length>2&&params.constructor!==Array){params=$.makeArray(arguments).slice(1);}
if(params.constructor!==Array){params=[params];}
$.each(params,function(i,n){source=source.replace(new RegExp("\\{"+i+"\\}","g"),function(){return n;});});return source;};$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:false,focusInvalid:true,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(element){this.lastActive=element;if(this.settings.focusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,element,this.settings.errorClass,this.settings.validClass);}
this.hideThese(this.errorsFor(element));}},onfocusout:function(element){if(!this.checkable(element)&&(element.name in this.submitted||!this.optional(element))){this.element(element);}},onkeyup:function(element,event){var excludedKeys=[16,17,18,20,35,36,37,38,39,40,45,144,225];if(event.which===9&&this.elementValue(element)===""||$.inArray(event.keyCode,excludedKeys)!==-1){return;}else if(element.name in this.submitted||element.name in this.invalid){this.element(element);}},onclick:function(element){if(element.name in this.submitted){this.element(element);}else if(element.parentNode.name in this.submitted){this.element(element.parentNode);}},highlight:function(element,errorClass,validClass){if(element.type==="radio"){this.findByName(element.name).addClass(errorClass).removeClass(validClass);}else{$(element).addClass(errorClass).removeClass(validClass);}},unhighlight:function(element,errorClass,validClass){if(element.type==="radio"){this.findByName(element.name).removeClass(errorClass).addClass(validClass);}else{$(element).removeClass(errorClass).addClass(validClass);}}},setDefaults:function(settings){$.extend($.validator.defaults,settings);},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:$.validator.format("Please enter no more than {0} characters."),minlength:$.validator.format("Please enter at least {0} characters."),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long."),range:$.validator.format("Please enter a value between {0} and {1}."),max:$.validator.format("Please enter a value less than or equal to {0}."),min:$.validator.format("Please enter a value greater than or equal to {0}."),step:$.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=$(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var groups=(this.groups={}),rules;$.each(this.settings.groups,function(key,value){if(typeof value==="string"){value=value.split(/\s/);}
$.each(value,function(index,name){groups[name]=key;});});rules=this.settings.rules;$.each(rules,function(key,value){rules[key]=$.validator.normalizeRule(value);});function delegate(event){if(!this.form&&this.hasAttribute("contenteditable")){this.form=$(this).closest("form")[0];this.name=$(this).attr("name");}
var validator=$.data(this.form,"validator"),eventType="on"+event.type.replace(/^validate/,""),settings=validator.settings;if(settings[eventType]&&!$(this).is(settings.ignore)){settings[eventType].call(validator,this,event);}}
$(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], "+"[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], "+"[type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], "+"[type='radio'], [type='checkbox'], [contenteditable], [type='button']",delegate).on("click.validate","select, option, [type='radio'], [type='checkbox']",delegate);if(this.settings.invalidHandler){$(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler);}},form:function(){this.checkForm();$.extend(this.submitted,this.errorMap);this.invalid=$.extend({},this.errorMap);if(!this.valid()){$(this.currentForm).triggerHandler("invalid-form",[this]);}
this.showErrors();return this.valid();},checkForm:function(){this.prepareForm();for(var i=0,elements=(this.currentElements=this.elements());elements[i];i++){this.check(elements[i]);}
return this.valid();},element:function(element){var cleanElement=this.clean(element),checkElement=this.validationTargetFor(cleanElement),v=this,result=true,rs,group;if(checkElement===undefined){delete this.invalid[cleanElement.name];}else{this.prepareElement(checkElement);this.currentElements=$(checkElement);group=this.groups[checkElement.name];if(group){$.each(this.groups,function(name,testgroup){if(testgroup===group&&name!==checkElement.name){cleanElement=v.validationTargetFor(v.clean(v.findByName(name)));if(cleanElement&&cleanElement.name in v.invalid){v.currentElements.push(cleanElement);result=v.check(cleanElement)&&result;}}});}
rs=this.check(checkElement)!==false;result=result&&rs;if(rs){this.invalid[checkElement.name]=false;}else{this.invalid[checkElement.name]=true;}
if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers);}
this.showErrors();$(element).attr("aria-invalid",!rs);}
return result;},showErrors:function(errors){if(errors){var validator=this;$.extend(this.errorMap,errors);this.errorList=$.map(this.errorMap,function(message,name){return{message:message,element:validator.findByName(name)[0]};});this.successList=$.grep(this.successList,function(element){return!(element.name in errors);});}
if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList);}else{this.defaultShowErrors();}},resetForm:function(){if($.fn.resetForm){$(this.currentForm).resetForm();}
this.invalid={};this.submitted={};this.prepareForm();this.hideErrors();var elements=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(elements);},resetElements:function(elements){var i;if(this.settings.unhighlight){for(i=0;elements[i];i++){this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,"");this.findByName(elements[i].name).removeClass(this.settings.validClass);}}else{elements.removeClass(this.settings.errorClass).removeClass(this.settings.validClass);}},numberOfInvalids:function(){return this.objectLength(this.invalid);},objectLength:function(obj){var count=0,i;for(i in obj){if(obj[i]!==undefined&&obj[i]!==null&&obj[i]!==false){count++;}}
return count;},hideErrors:function(){this.hideThese(this.toHide);},hideThese:function(errors){errors.not(this.containers).text("");this.addWrapper(errors).hide();},valid:function(){return this.size()===0;},size:function(){return this.errorList.length;},focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin");}catch(e){}}},findLastActive:function(){var lastActive=this.lastActive;return lastActive&&$.grep(this.errorList,function(n){return n.element.name===lastActive.name;}).length===1&&lastActive;},elements:function(){var validator=this,rulesCache={};return $(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var name=this.name||$(this).attr("name");if(!name&&validator.settings.debug&&window.console){console.error("%o has no name assigned",this);}
if(this.hasAttribute("contenteditable")){this.form=$(this).closest("form")[0];this.name=name;}
if(name in rulesCache||!validator.objectLength($(this).rules())){return false;}
rulesCache[name]=true;return true;});},clean:function(selector){return $(selector)[0];},errors:function(){var errorClass=this.settings.errorClass.split(" ").join(".");return $(this.settings.errorElement+"."+errorClass,this.errorContext);},resetInternals:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([]);},reset:function(){this.resetInternals();this.currentElements=$([]);},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers);},prepareElement:function(element){this.reset();this.toHide=this.errorsFor(element);},elementValue:function(element){var $element=$(element),type=element.type,val,idx;if(type==="radio"||type==="checkbox"){return this.findByName(element.name).filter(":checked").val();}else if(type==="number"&&typeof element.validity!=="undefined"){return element.validity.badInput?"NaN":$element.val();}
if(element.hasAttribute("contenteditable")){val=$element.text();}else{val=$element.val();}
if(type==="file"){if(val.substr(0,12)==="C:\\fakepath\\"){return val.substr(12);}
idx=val.lastIndexOf("/");if(idx>=0){return val.substr(idx+1);}
idx=val.lastIndexOf("\\");if(idx>=0){return val.substr(idx+1);}
return val;}
if(typeof val==="string"){return val.replace(/\r/g,"");}
return val;},check:function(element){element=this.validationTargetFor(this.clean(element));var rules=$(element).rules(),rulesCount=$.map(rules,function(n,i){return i;}).length,dependencyMismatch=false,val=this.elementValue(element),result,method,rule,normalizer;if(typeof rules.normalizer==="function"){normalizer=rules.normalizer;}else if(typeof this.settings.normalizer==="function"){normalizer=this.settings.normalizer;}
if(normalizer){val=normalizer.call(element,val);if(typeof val!=="string"){throw new TypeError("The normalizer should return a string value.");}
delete rules.normalizer;}
for(method in rules){rule={method:method,parameters:rules[method]};try{result=$.validator.methods[method].call(this,val,element,rule.parameters);if(result==="dependency-mismatch"&&rulesCount===1){dependencyMismatch=true;continue;}
dependencyMismatch=false;if(result==="pending"){this.toHide=this.toHide.not(this.errorsFor(element));return;}
if(!result){this.formatAndAdd(element,rule);return false;}}catch(e){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+element.id+", check the '"+rule.method+"' method.",e);}
if(e instanceof TypeError){e.message+=".  Exception occurred when checking element "+element.id+", check the '"+rule.method+"' method.";}
throw e;}}
if(dependencyMismatch){return;}
if(this.objectLength(rules)){this.successList.push(element);}
return true;},customDataMessage:function(element,method){return $(element).data("msg"+method.charAt(0).toUpperCase()+
method.substring(1).toLowerCase())||$(element).data("msg");},customMessage:function(name,method){var m=this.settings.messages[name];return m&&(m.constructor===String?m:m[method]);},findDefined:function(){for(var i=0;i<arguments.length;i++){if(arguments[i]!==undefined){return arguments[i];}}
return undefined;},defaultMessage:function(element,rule){if(typeof rule==="string"){rule={method:rule};}
var message=this.findDefined(this.customMessage(element.name,rule.method),this.customDataMessage(element,rule.method),!this.settings.ignoreTitle&&element.title||undefined,$.validator.messages[rule.method],"<strong>Warning: No message defined for "+element.name+"</strong>"),theregex=/\$?\{(\d+)\}/g;if(typeof message==="function"){message=message.call(this,rule.parameters,element);}else if(theregex.test(message)){message=$.validator.format(message.replace(theregex,"{$1}"),rule.parameters);}
return message;},formatAndAdd:function(element,rule){var message=this.defaultMessage(element,rule);this.errorList.push({message:message,element:element,method:rule.method});this.errorMap[element.name]=message;this.submitted[element.name]=message;},addWrapper:function(toToggle){if(this.settings.wrapper){toToggle=toToggle.add(toToggle.parent(this.settings.wrapper));}
return toToggle;},defaultShowErrors:function(){var i,elements,error;for(i=0;this.errorList[i];i++){error=this.errorList[i];if(this.settings.highlight){this.settings.highlight.call(this,error.element,this.settings.errorClass,this.settings.validClass);}
this.showLabel(error.element,error.message);}
if(this.errorList.length){this.toShow=this.toShow.add(this.containers);}
if(this.settings.success){for(i=0;this.successList[i];i++){this.showLabel(this.successList[i]);}}
if(this.settings.unhighlight){for(i=0,elements=this.validElements();elements[i];i++){this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,this.settings.validClass);}}
this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show();},validElements:function(){return this.currentElements.not(this.invalidElements());},invalidElements:function(){return $(this.errorList).map(function(){return this.element;});},showLabel:function(element,message){var place,group,errorID,v,error=this.errorsFor(element),elementID=this.idOrName(element),describedBy=$(element).attr("aria-describedby");if(error.length){error.removeClass(this.settings.validClass).addClass(this.settings.errorClass);error.html(message);}else{error=$("<"+this.settings.errorElement+">").attr("id",elementID+"-error").addClass(this.settings.errorClass).html(message||"");place=error;if(this.settings.wrapper){place=error.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();}
if(this.labelContainer.length){this.labelContainer.append(place);}else if(this.settings.errorPlacement){this.settings.errorPlacement.call(this,place,$(element));}else{place.insertAfter(element);}
if(error.is("label")){error.attr("for",elementID);}else if(error.parents("label[for='"+this.escapeCssMeta(elementID)+"']").length===0){errorID=error.attr("id");if(!describedBy){describedBy=errorID;}else if(!describedBy.match(new RegExp("\\b"+this.escapeCssMeta(errorID)+"\\b"))){describedBy+=" "+errorID;}
$(element).attr("aria-describedby",describedBy);group=this.groups[element.name];if(group){v=this;$.each(v.groups,function(name,testgroup){if(testgroup===group){$("[name='"+v.escapeCssMeta(name)+"']",v.currentForm).attr("aria-describedby",error.attr("id"));}});}}}
if(!message&&this.settings.success){error.text("");if(typeof this.settings.success==="string"){error.addClass(this.settings.success);}else{this.settings.success(error,element);}}
this.toShow=this.toShow.add(error);},errorsFor:function(element){var name=this.escapeCssMeta(this.idOrName(element)),describer=$(element).attr("aria-describedby"),selector="label[for='"+name+"'], label[for='"+name+"'] *";if(describer){selector=selector+", #"+this.escapeCssMeta(describer).replace(/\s+/g,", #");}
return this.errors().filter(selector);},escapeCssMeta:function(string){return string.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1");},idOrName:function(element){return this.groups[element.name]||(this.checkable(element)?element.name:element.id||element.name);},validationTargetFor:function(element){if(this.checkable(element)){element=this.findByName(element.name);}
return $(element).not(this.settings.ignore)[0];},checkable:function(element){return(/radio|checkbox/i).test(element.type);},findByName:function(name){return $(this.currentForm).find("[name='"+this.escapeCssMeta(name)+"']");},getLength:function(value,element){switch(element.nodeName.toLowerCase()){case"select":return $("option:selected",element).length;case"input":if(this.checkable(element)){return this.findByName(element.name).filter(":checked").length;}}
return value.length;},depend:function(param,element){return this.dependTypes[typeof param]?this.dependTypes[typeof param](param,element):true;},dependTypes:{"boolean":function(param){return param;},"string":function(param,element){return!!$(param,element.form).length;},"function":function(param,element){return param(element);}},optional:function(element){var val=this.elementValue(element);return!$.validator.methods.required.call(this,val,element)&&"dependency-mismatch";},startRequest:function(element){if(!this.pending[element.name]){this.pendingRequest++;$(element).addClass(this.settings.pendingClass);this.pending[element.name]=true;}},stopRequest:function(element,valid){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0;}
delete this.pending[element.name];$(element).removeClass(this.settings.pendingClass);if(valid&&this.pendingRequest===0&&this.formSubmitted&&this.form()){$(this.currentForm).submit();if(this.submitButton){$("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove();}
this.formSubmitted=false;}else if(!valid&&this.pendingRequest===0&&this.formSubmitted){$(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false;}},previousValue:function(element,method){method=typeof method==="string"&&method||"remote";return $.data(element,"previousValue")||$.data(element,"previousValue",{old:null,valid:true,message:this.defaultMessage(element,{method:method})});},destroy:function(){this.resetForm();$(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur");}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(className,rules){if(className.constructor===String){this.classRuleSettings[className]=rules;}else{$.extend(this.classRuleSettings,className);}},classRules:function(element){var rules={},classes=$(element).attr("class");if(classes){$.each(classes.split(" "),function(){if(this in $.validator.classRuleSettings){$.extend(rules,$.validator.classRuleSettings[this]);}});}
return rules;},normalizeAttributeRule:function(rules,type,method,value){if(/min|max|step/.test(method)&&(type===null||/number|range|text/.test(type))){value=Number(value);if(isNaN(value)){value=undefined;}}
if(value||value===0){rules[method]=value;}else if(type===method&&type!=="range"){rules[method]=true;}},attributeRules:function(element){var rules={},$element=$(element),type=element.getAttribute("type"),method,value;for(method in $.validator.methods){if(method==="required"){value=element.getAttribute(method);if(value===""){value=true;}
value=!!value;}else{value=$element.attr(method);}
this.normalizeAttributeRule(rules,type,method,value);}
if(rules.maxlength&&/-1|2147483647|524288/.test(rules.maxlength)){delete rules.maxlength;}
return rules;},dataRules:function(element){var rules={},$element=$(element),type=element.getAttribute("type"),method,value;for(method in $.validator.methods){value=$element.data("rule"+method.charAt(0).toUpperCase()+method.substring(1).toLowerCase());this.normalizeAttributeRule(rules,type,method,value);}
return rules;},staticRules:function(element){var rules={},validator=$.data(element.form,"validator");if(validator.settings.rules){rules=$.validator.normalizeRule(validator.settings.rules[element.name])||{};}
return rules;},normalizeRules:function(rules,element){$.each(rules,function(prop,val){if(val===false){delete rules[prop];return;}
if(val.param||val.depends){var keepRule=true;switch(typeof val.depends){case"string":keepRule=!!$(val.depends,element.form).length;break;case"function":keepRule=val.depends.call(element,element);break;}
if(keepRule){rules[prop]=val.param!==undefined?val.param:true;}else{$.data(element.form,"validator").resetElements($(element));delete rules[prop];}}});$.each(rules,function(rule,parameter){rules[rule]=$.isFunction(parameter)&&rule!=="normalizer"?parameter(element):parameter;});$.each(["minlength","maxlength"],function(){if(rules[this]){rules[this]=Number(rules[this]);}});$.each(["rangelength","range"],function(){var parts;if(rules[this]){if($.isArray(rules[this])){rules[this]=[Number(rules[this][0]),Number(rules[this][1])];}else if(typeof rules[this]==="string"){parts=rules[this].replace(/[\[\]]/g,"").split(/[\s,]+/);rules[this]=[Number(parts[0]),Number(parts[1])];}}});if($.validator.autoCreateRanges){if(rules.min!=null&&rules.max!=null){rules.range=[rules.min,rules.max];delete rules.min;delete rules.max;}
if(rules.minlength!=null&&rules.maxlength!=null){rules.rangelength=[rules.minlength,rules.maxlength];delete rules.minlength;delete rules.maxlength;}}
return rules;},normalizeRule:function(data){if(typeof data==="string"){var transformed={};$.each(data.split(/\s/),function(){transformed[this]=true;});data=transformed;}
return data;},addMethod:function(name,method,message){$.validator.methods[name]=method;$.validator.messages[name]=message!==undefined?message:$.validator.messages[name];if(method.length<3){$.validator.addClassRules(name,$.validator.normalizeRule(name));}},methods:{required:function(value,element,param){if(!this.depend(param,element)){return"dependency-mismatch";}
if(element.nodeName.toLowerCase()==="select"){var val=$(element).val();return val&&val.length>0;}
if(this.checkable(element)){return this.getLength(value,element)>0;}
return value.length>0;},email:function(value,element){return this.optional(element)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(value);},url:function(value,element){return this.optional(element)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(value);},date:function(value,element){return this.optional(element)||!/Invalid|NaN/.test(new Date(value).toString());},dateISO:function(value,element){return this.optional(element)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(value);},number:function(value,element){return this.optional(element)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(value);},digits:function(value,element){return this.optional(element)||/^\d+$/.test(value);},minlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength(value,element);return this.optional(element)||length>=param;},maxlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength(value,element);return this.optional(element)||length<=param;},rangelength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength(value,element);return this.optional(element)||(length>=param[0]&&length<=param[1]);},min:function(value,element,param){return this.optional(element)||value>=param;},max:function(value,element,param){return this.optional(element)||value<=param;},range:function(value,element,param){return this.optional(element)||(value>=param[0]&&value<=param[1]);},step:function(value,element,param){var type=$(element).attr("type"),errorMessage="Step attribute on input type "+type+" is not supported.",supportedTypes=["text","number","range"],re=new RegExp("\\b"+type+"\\b"),notSupported=type&&!re.test(supportedTypes.join()),decimalPlaces=function(num){var match=(""+num).match(/(?:\.(\d+))?$/);if(!match){return 0;}
return match[1]?match[1].length:0;},toInt=function(num){return Math.round(num*Math.pow(10,decimals));},valid=true,decimals;if(notSupported){throw new Error(errorMessage);}
decimals=decimalPlaces(param);if(decimalPlaces(value)>decimals||toInt(value)%toInt(param)!==0){valid=false;}
return this.optional(element)||valid;},equalTo:function(value,element,param){var target=$(param);if(this.settings.onfocusout&&target.not(".validate-equalTo-blur").length){target.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){$(element).valid();});}
return value===target.val();},remote:function(value,element,param,method){if(this.optional(element)){return"dependency-mismatch";}
method=typeof method==="string"&&method||"remote";var previous=this.previousValue(element,method),validator,data,optionDataString;if(!this.settings.messages[element.name]){this.settings.messages[element.name]={};}
previous.originalMessage=previous.originalMessage||this.settings.messages[element.name][method];this.settings.messages[element.name][method]=previous.message;param=typeof param==="string"&&{url:param}||param;optionDataString=$.param($.extend({data:value},param.data));if(previous.old===optionDataString){return previous.valid;}
previous.old=optionDataString;validator=this;this.startRequest(element);data={};data[element.name]=value;$.ajax($.extend(true,{mode:"abort",port:"validate"+element.name,dataType:"json",data:data,context:validator.currentForm,success:function(response){var valid=response===true||response==="true",errors,message,submitted;validator.settings.messages[element.name][method]=previous.originalMessage;if(valid){submitted=validator.formSubmitted;validator.resetInternals();validator.toHide=validator.errorsFor(element);validator.formSubmitted=submitted;validator.successList.push(element);validator.invalid[element.name]=false;validator.showErrors();}else{errors={};message=response||validator.defaultMessage(element,{method:method,parameters:value});errors[element.name]=previous.message=message;validator.invalid[element.name]=true;validator.showErrors(errors);}
previous.valid=valid;validator.stopRequest(element,valid);}},param));return"pending";}}});var pendingRequests={},ajax;if($.ajaxPrefilter){$.ajaxPrefilter(function(settings,_,xhr){var port=settings.port;if(settings.mode==="abort"){if(pendingRequests[port]){pendingRequests[port].abort();}
pendingRequests[port]=xhr;}});}else{ajax=$.ajax;$.ajax=function(settings){var mode=("mode"in settings?settings:$.ajaxSettings).mode,port=("port"in settings?settings:$.ajaxSettings).port;if(mode==="abort"){if(pendingRequests[port]){pendingRequests[port].abort();}
pendingRequests[port]=ajax.apply(this,arguments);return pendingRequests[port];}
return ajax.apply(this,arguments);};}
return $;}));(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){factory(require('jquery'));}else{factory(jQuery);}}(function($){var pluses=/\+/g;function encode(s){return config.raw?s:encodeURIComponent(s);}
function decode(s){return config.raw?s:decodeURIComponent(s);}
function stringifyCookieValue(value){return encode(config.json?JSON.stringify(value):String(value));}
function parseCookieValue(s){if(s.indexOf('"')===0){s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,'\\');}
try{s=decodeURIComponent(s.replace(pluses,' '));return config.json?JSON.parse(s):s;}catch(e){}}
function read(s,converter){var value=config.raw?s:parseCookieValue(s);return $.isFunction(converter)?converter(value):value;}
var config=$.cookie=function(key,value,options){if(value!==undefined&&!$.isFunction(value)){options=$.extend({},config.defaults,options);if(typeof options.expires==='number'){var days=options.expires,t=options.expires=new Date();t.setTime(+t+days*864e+5);}
return(document.cookie=[encode(key),'=',stringifyCookieValue(value),options.expires?'; expires='+options.expires.toUTCString():'',options.path?'; path='+options.path:'',options.domain?'; domain='+options.domain:'',options.secure?'; secure':''].join(''));}
var result=key?undefined:{};var cookies=document.cookie?document.cookie.split('; '):[];for(var i=0,l=cookies.length;i<l;i++){var parts=cookies[i].split('=');var name=decode(parts.shift());var cookie=parts.join('=');if(key&&key===name){result=read(cookie,value);break;}
if(!key&&(cookie=read(cookie))!==undefined){result[name]=cookie;}}
return result;};config.defaults={};$.removeCookie=function(key,options){if($.cookie(key)===undefined){return false;}
$.cookie(key,'',$.extend({},options,{expires:-1}));return!$.cookie(key);};}));;(function($){var defaults={mode:'horizontal',slideSelector:'',infiniteLoop:true,hideControlOnEnd:false,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:false,captions:false,ticker:false,tickerHover:false,adaptiveHeight:false,adaptiveHeightSpeed:500,video:false,useCSS:true,preloadImages:'visible',responsive:true,slideZIndex:50,wrapperClass:'bx-wrapper',touchEnabled:true,swipeThreshold:50,oneToOneTouch:true,preventDefaultSwipeX:true,preventDefaultSwipeY:false,ariaLive:true,ariaHidden:true,keyboardEnabled:false,pager:true,pagerType:'full',pagerShortSeparator:' / ',pagerSelector:null,buildPager:null,pagerCustom:null,controls:true,nextText:'Next',prevText:'Prev',nextSelector:null,prevSelector:null,autoControls:false,startText:'Start',stopText:'Stop',autoControlsCombine:false,autoControlsSelector:null,auto:false,pause:4000,autoStart:true,autoDirection:'next',stopAutoOnClick:false,autoHover:false,autoDelay:0,autoSlideForOnePage:false,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:false,onSliderLoad:function(){return true;},onSlideBefore:function(){return true;},onSlideAfter:function(){return true;},onSlideNext:function(){return true;},onSlidePrev:function(){return true;},onSliderResize:function(){return true;}};$.fn.bxSlider=function(options){if(this.length===0){return this;}
if(this.length>1){this.each(function(){$(this).bxSlider(options);});return this;}
var slider={},el=this,windowWidth=$(window).width(),windowHeight=$(window).height();if($(el).data('bxSlider')){return;}
var init=function(){if($(el).data('bxSlider')){return;}
slider.settings=$.extend({},defaults,options);slider.settings.slideWidth=parseInt(slider.settings.slideWidth);slider.children=el.children(slider.settings.slideSelector);if(slider.children.length<slider.settings.minSlides){slider.settings.minSlides=slider.children.length;}
if(slider.children.length<slider.settings.maxSlides){slider.settings.maxSlides=slider.children.length;}
if(slider.settings.randomStart){slider.settings.startSlide=Math.floor(Math.random()*slider.children.length);}
slider.active={index:slider.settings.startSlide};slider.carousel=slider.settings.minSlides>1||slider.settings.maxSlides>1?true:false;if(slider.carousel){slider.settings.preloadImages='all';}
slider.minThreshold=(slider.settings.minSlides*slider.settings.slideWidth)+((slider.settings.minSlides-1)*slider.settings.slideMargin);slider.maxThreshold=(slider.settings.maxSlides*slider.settings.slideWidth)+((slider.settings.maxSlides-1)*slider.settings.slideMargin);slider.working=false;slider.controls={};slider.interval=null;slider.animProp=slider.settings.mode==='vertical'?'top':'left';slider.usingCSS=slider.settings.useCSS&&slider.settings.mode!=='fade'&&(function(){var div=document.createElement('div'),props=['WebkitPerspective','MozPerspective','OPerspective','msPerspective'];for(var i=0;i<props.length;i++){if(div.style[props[i]]!==undefined){slider.cssPrefix=props[i].replace('Perspective','').toLowerCase();slider.animProp='-'+slider.cssPrefix+'-transform';return true;}}
return false;}());if(slider.settings.mode==='vertical'){slider.settings.maxSlides=slider.settings.minSlides;}
el.data('origStyle',el.attr('style'));el.children(slider.settings.slideSelector).each(function(){$(this).data('origStyle',$(this).attr('style'));});setup();};var setup=function(){var preloadSelector=slider.children.eq(slider.settings.startSlide);el.wrap('<div class="'+slider.settings.wrapperClass+'"><div class="bx-viewport"></div></div>');slider.viewport=el.parent();if(slider.settings.ariaLive&&!slider.settings.ticker){slider.viewport.attr('aria-live','polite');}
slider.loader=$('<div class="bx-loading" />');slider.viewport.prepend(slider.loader);el.css({width:slider.settings.mode==='horizontal'?(slider.children.length*1000+215)+'%':'auto',position:'relative'});if(slider.usingCSS&&slider.settings.easing){el.css('-'+slider.cssPrefix+'-transition-timing-function',slider.settings.easing);}else if(!slider.settings.easing){slider.settings.easing='swing';}
slider.viewport.css({width:'100%',overflow:'hidden',position:'relative'});slider.viewport.parent().css({maxWidth:getViewportMaxWidth()});slider.children.css({float:slider.settings.mode==='horizontal'?'left':'none',listStyle:'none',position:'relative'});slider.children.css('width',getSlideWidth());if(slider.settings.mode==='horizontal'&&slider.settings.slideMargin>0){slider.children.css('marginRight',slider.settings.slideMargin);}
if(slider.settings.mode==='vertical'&&slider.settings.slideMargin>0){slider.children.css('marginBottom',slider.settings.slideMargin);}
if(slider.settings.mode==='fade'){slider.children.css({position:'absolute',zIndex:0,display:'none'});slider.children.eq(slider.settings.startSlide).css({zIndex:slider.settings.slideZIndex,display:'block'});}
slider.controls.el=$('<div class="bx-controls" />');if(slider.settings.captions){appendCaptions();}
slider.active.last=slider.settings.startSlide===getPagerQty()-1;if(slider.settings.video){el.fitVids();}
if(slider.settings.preloadImages==='all'||slider.settings.ticker){preloadSelector=slider.children;}
if(!slider.settings.ticker){if(slider.settings.controls){appendControls();}
if(slider.settings.auto&&slider.settings.autoControls){appendControlsAuto();}
if(slider.settings.pager){appendPager();}
if(slider.settings.controls||slider.settings.autoControls||slider.settings.pager){slider.viewport.after(slider.controls.el);}}else{slider.settings.pager=false;}
loadElements(preloadSelector,start);};var loadElements=function(selector,callback){var total=selector.find('img:not([src=""]), iframe').length,count=0;if(total===0){callback();return;}
selector.find('img:not([src=""]), iframe').each(function(){$(this).one('load error',function(){if(++count===total){callback();}}).each(function(){if(this.complete){$(this).trigger('load');}});});};var start=function(){if(slider.settings.infiniteLoop&&slider.settings.mode!=='fade'&&!slider.settings.ticker){var slice=slider.settings.mode==='vertical'?slider.settings.minSlides:slider.settings.maxSlides,sliceAppend=slider.children.slice(0,slice).clone(true).addClass('bx-clone'),slicePrepend=slider.children.slice(-slice).clone(true).addClass('bx-clone');if(slider.settings.ariaHidden){sliceAppend.attr('aria-hidden',true);slicePrepend.attr('aria-hidden',true);}
el.append(sliceAppend).prepend(slicePrepend);}
slider.loader.remove();setSlidePosition();if(slider.settings.mode==='vertical'){slider.settings.adaptiveHeight=true;}
slider.viewport.height(getViewportHeight());el.redrawSlider();slider.settings.onSliderLoad.call(el,slider.active.index);slider.initialized=true;if(slider.settings.responsive){$(window).bind('resize',resizeWindow);}
if(slider.settings.auto&&slider.settings.autoStart&&(getPagerQty()>1||slider.settings.autoSlideForOnePage)){initAuto();}
if(slider.settings.ticker){initTicker();}
if(slider.settings.pager){updatePagerActive(slider.settings.startSlide);}
if(slider.settings.controls){updateDirectionControls();}
if(slider.settings.touchEnabled&&!slider.settings.ticker){initTouch();}
if(slider.settings.keyboardEnabled&&!slider.settings.ticker){$(document).keydown(keyPress);}};var getViewportHeight=function(){var height=0;var children=$();if(slider.settings.mode!=='vertical'&&!slider.settings.adaptiveHeight){children=slider.children;}else{if(!slider.carousel){children=slider.children.eq(slider.active.index);}else{var currentIndex=slider.settings.moveSlides===1?slider.active.index:slider.active.index*getMoveBy();children=slider.children.eq(currentIndex);for(i=1;i<=slider.settings.maxSlides-1;i++){if(currentIndex+i>=slider.children.length){children=children.add(slider.children.eq(i-1));}else{children=children.add(slider.children.eq(currentIndex+i));}}}}
if(slider.settings.mode==='vertical'){children.each(function(index){height+=$(this).outerHeight();});if(slider.settings.slideMargin>0){height+=slider.settings.slideMargin*(slider.settings.minSlides-1);}}else{height=Math.max.apply(Math,children.map(function(){return $(this).outerHeight(false);}).get());}
if(slider.viewport.css('box-sizing')==='border-box'){height+=parseFloat(slider.viewport.css('padding-top'))+parseFloat(slider.viewport.css('padding-bottom'))+
parseFloat(slider.viewport.css('border-top-width'))+parseFloat(slider.viewport.css('border-bottom-width'));}else if(slider.viewport.css('box-sizing')==='padding-box'){height+=parseFloat(slider.viewport.css('padding-top'))+parseFloat(slider.viewport.css('padding-bottom'));}
return height;};var getViewportMaxWidth=function(){var width='100%';if(slider.settings.slideWidth>0){if(slider.settings.mode==='horizontal'){width=(slider.settings.maxSlides*slider.settings.slideWidth)+((slider.settings.maxSlides-1)*slider.settings.slideMargin);}else{width=slider.settings.slideWidth;}}
return width;};var getSlideWidth=function(){var newElWidth=slider.settings.slideWidth,wrapWidth=slider.viewport.width();if(slider.settings.slideWidth===0||(slider.settings.slideWidth>wrapWidth&&!slider.carousel)||slider.settings.mode==='vertical'){newElWidth=wrapWidth;}else if(slider.settings.maxSlides>1&&slider.settings.mode==='horizontal'){if(wrapWidth>slider.maxThreshold){return newElWidth;}else if(wrapWidth<slider.minThreshold){newElWidth=(wrapWidth-(slider.settings.slideMargin*(slider.settings.minSlides-1)))/slider.settings.minSlides;}else if(slider.settings.shrinkItems){newElWidth=Math.floor((wrapWidth+slider.settings.slideMargin)/(Math.ceil((wrapWidth+slider.settings.slideMargin)/(newElWidth+slider.settings.slideMargin)))-slider.settings.slideMargin);}}
return newElWidth;};var getNumberSlidesShowing=function(){var slidesShowing=1,childWidth=null;if(slider.settings.mode==='horizontal'&&slider.settings.slideWidth>0){if(slider.viewport.width()<slider.minThreshold){slidesShowing=slider.settings.minSlides;}else if(slider.viewport.width()>slider.maxThreshold){slidesShowing=slider.settings.maxSlides;}else{childWidth=slider.children.first().width()+slider.settings.slideMargin;slidesShowing=Math.floor((slider.viewport.width()+
slider.settings.slideMargin)/childWidth);}}else if(slider.settings.mode==='vertical'){slidesShowing=slider.settings.minSlides;}
return slidesShowing;};var getPagerQty=function(){var pagerQty=0,breakPoint=0,counter=0;if(slider.settings.moveSlides>0){if(slider.settings.infiniteLoop){pagerQty=Math.ceil(slider.children.length/getMoveBy());}else{while(breakPoint<slider.children.length){++pagerQty;breakPoint=counter+getNumberSlidesShowing();counter+=slider.settings.moveSlides<=getNumberSlidesShowing()?slider.settings.moveSlides:getNumberSlidesShowing();}}}else{pagerQty=Math.ceil(slider.children.length/getNumberSlidesShowing());}
return pagerQty;};var getMoveBy=function(){if(slider.settings.moveSlides>0&&slider.settings.moveSlides<=getNumberSlidesShowing()){return slider.settings.moveSlides;}
return getNumberSlidesShowing();};var setSlidePosition=function(){var position,lastChild,lastShowingIndex;if(slider.children.length>slider.settings.maxSlides&&slider.active.last&&!slider.settings.infiniteLoop){if(slider.settings.mode==='horizontal'){lastChild=slider.children.last();position=lastChild.position();setPositionProperty(-(position.left-(slider.viewport.width()-lastChild.outerWidth())),'reset',0);}else if(slider.settings.mode==='vertical'){lastShowingIndex=slider.children.length-slider.settings.minSlides;position=slider.children.eq(lastShowingIndex).position();setPositionProperty(-position.top,'reset',0);}}else{position=slider.children.eq(slider.active.index*getMoveBy()).position();if(slider.active.index===getPagerQty()-1){slider.active.last=true;}
if(position!==undefined){if(slider.settings.mode==='horizontal'){setPositionProperty(-position.left,'reset',0);}
else if(slider.settings.mode==='vertical'){setPositionProperty(-position.top,'reset',0);}}}};var setPositionProperty=function(value,type,duration,params){var animateObj,propValue;if(slider.usingCSS){propValue=slider.settings.mode==='vertical'?'translate3d(0, '+value+'px, 0)':'translate3d('+value+'px, 0, 0)';el.css('-'+slider.cssPrefix+'-transition-duration',duration/1000+'s');if(type==='slide'){el.css(slider.animProp,propValue);if(duration!==0){el.bind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd',function(e){if(!$(e.target).is(el)){return;}
el.unbind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd');updateAfterSlideTransition();});}else{updateAfterSlideTransition();}}else if(type==='reset'){el.css(slider.animProp,propValue);}else if(type==='ticker'){el.css('-'+slider.cssPrefix+'-transition-timing-function','linear');el.css(slider.animProp,propValue);if(duration!==0){el.bind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd',function(e){if(!$(e.target).is(el)){return;}
el.unbind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd');setPositionProperty(params.resetValue,'reset',0);tickerLoop();});}else{setPositionProperty(params.resetValue,'reset',0);tickerLoop();}}}else{animateObj={};animateObj[slider.animProp]=value;if(type==='slide'){el.animate(animateObj,duration,slider.settings.easing,function(){updateAfterSlideTransition();});}else if(type==='reset'){el.css(slider.animProp,value);}else if(type==='ticker'){el.animate(animateObj,duration,'linear',function(){setPositionProperty(params.resetValue,'reset',0);tickerLoop();});}}};var populatePager=function(){var pagerHtml='',linkContent='',pagerQty=getPagerQty();for(var i=0;i<pagerQty;i++){linkContent='';if(slider.settings.buildPager&&$.isFunction(slider.settings.buildPager)||slider.settings.pagerCustom){linkContent=slider.settings.buildPager(i);slider.pagerEl.addClass('bx-custom-pager');}else{linkContent=i+1;slider.pagerEl.addClass('bx-default-pager');}
pagerHtml+='<div class="bx-pager-item"><a href="" data-slide-index="'+i+'" class="bx-pager-link">'+linkContent+'</a></div>';}
slider.pagerEl.html(pagerHtml);};var appendPager=function(){if(!slider.settings.pagerCustom){slider.pagerEl=$('<div class="bx-pager" />');if(slider.settings.pagerSelector){$(slider.settings.pagerSelector).html(slider.pagerEl);}else{slider.controls.el.addClass('bx-has-pager').append(slider.pagerEl);}
populatePager();}else{slider.pagerEl=$(slider.settings.pagerCustom);}
slider.pagerEl.on('click touchend','a',clickPagerBind);};var appendControls=function(){slider.controls.next=$('<a class="bx-next" href="">'+slider.settings.nextText+'</a>');slider.controls.prev=$('<a class="bx-prev" href="">'+slider.settings.prevText+'</a>');slider.controls.next.bind('click touchend',clickNextBind);slider.controls.prev.bind('click touchend',clickPrevBind);if(slider.settings.nextSelector){$(slider.settings.nextSelector).append(slider.controls.next);}
if(slider.settings.prevSelector){$(slider.settings.prevSelector).append(slider.controls.prev);}
if(!slider.settings.nextSelector&&!slider.settings.prevSelector){slider.controls.directionEl=$('<div class="bx-controls-direction" />');slider.controls.directionEl.append(slider.controls.prev).append(slider.controls.next);slider.controls.el.addClass('bx-has-controls-direction').append(slider.controls.directionEl);}};var appendControlsAuto=function(){slider.controls.start=$('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+slider.settings.startText+'</a></div>');slider.controls.stop=$('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+slider.settings.stopText+'</a></div>');slider.controls.autoEl=$('<div class="bx-controls-auto" />');slider.controls.autoEl.on('click','.bx-start',clickStartBind);slider.controls.autoEl.on('click','.bx-stop',clickStopBind);if(slider.settings.autoControlsCombine){slider.controls.autoEl.append(slider.controls.start);}else{slider.controls.autoEl.append(slider.controls.start).append(slider.controls.stop);}
if(slider.settings.autoControlsSelector){$(slider.settings.autoControlsSelector).html(slider.controls.autoEl);}else{slider.controls.el.addClass('bx-has-controls-auto').append(slider.controls.autoEl);}
updateAutoControls(slider.settings.autoStart?'stop':'start');};var appendCaptions=function(){slider.children.each(function(index){var title=$(this).find('img:first').attr('title');if(title!==undefined&&(''+title).length){$(this).append('<div class="bx-caption"><span>'+title+'</span></div>');}});};var clickNextBind=function(e){e.preventDefault();if(slider.controls.el.hasClass('disabled')){return;}
if(slider.settings.auto&&slider.settings.stopAutoOnClick){el.stopAuto();}
el.goToNextSlide();};var clickPrevBind=function(e){e.preventDefault();if(slider.controls.el.hasClass('disabled')){return;}
if(slider.settings.auto&&slider.settings.stopAutoOnClick){el.stopAuto();}
el.goToPrevSlide();};var clickStartBind=function(e){el.startAuto();e.preventDefault();};var clickStopBind=function(e){el.stopAuto();e.preventDefault();};var clickPagerBind=function(e){var pagerLink,pagerIndex;e.preventDefault();if(slider.controls.el.hasClass('disabled')){return;}
if(slider.settings.auto&&slider.settings.stopAutoOnClick){el.stopAuto();}
pagerLink=$(e.currentTarget);if(pagerLink.attr('data-slide-index')!==undefined){pagerIndex=parseInt(pagerLink.attr('data-slide-index'));if(pagerIndex!==slider.active.index){el.goToSlide(pagerIndex);}}};var updatePagerActive=function(slideIndex){var len=slider.children.length;if(slider.settings.pagerType==='short'){if(slider.settings.maxSlides>1){len=Math.ceil(slider.children.length/slider.settings.maxSlides);}
slider.pagerEl.html((slideIndex+1)+slider.settings.pagerShortSeparator+len);return;}
slider.pagerEl.find('a').removeClass('active');slider.pagerEl.each(function(i,el){$(el).find('a').eq(slideIndex).addClass('active');});};var updateAfterSlideTransition=function(){if(slider.settings.infiniteLoop){var position='';if(slider.active.index===0){position=slider.children.eq(0).position();}else if(slider.active.index===getPagerQty()-1&&slider.carousel){position=slider.children.eq((getPagerQty()-1)*getMoveBy()).position();}else if(slider.active.index===slider.children.length-1){position=slider.children.eq(slider.children.length-1).position();}
if(position){if(slider.settings.mode==='horizontal'){setPositionProperty(-position.left,'reset',0);}
else if(slider.settings.mode==='vertical'){setPositionProperty(-position.top,'reset',0);}}}
slider.working=false;slider.settings.onSlideAfter.call(el,slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index);};var updateAutoControls=function(state){if(slider.settings.autoControlsCombine){slider.controls.autoEl.html(slider.controls[state]);}else{slider.controls.autoEl.find('a').removeClass('active');slider.controls.autoEl.find('a:not(.bx-'+state+')').addClass('active');}};var updateDirectionControls=function(){if(getPagerQty()===1){slider.controls.prev.addClass('disabled');slider.controls.next.addClass('disabled');}else if(!slider.settings.infiniteLoop&&slider.settings.hideControlOnEnd){if(slider.active.index===0){slider.controls.prev.addClass('disabled');slider.controls.next.removeClass('disabled');}else if(slider.active.index===getPagerQty()-1){slider.controls.next.addClass('disabled');slider.controls.prev.removeClass('disabled');}else{slider.controls.prev.removeClass('disabled');slider.controls.next.removeClass('disabled');}}};var initAuto=function(){if(slider.settings.autoDelay>0){var timeout=setTimeout(el.startAuto,slider.settings.autoDelay);}else{el.startAuto();$(window).focus(function(){el.startAuto();}).blur(function(){el.stopAuto();});}
if(slider.settings.autoHover){el.hover(function(){if(slider.interval){el.stopAuto(true);slider.autoPaused=true;}},function(){if(slider.autoPaused){el.startAuto(true);slider.autoPaused=null;}});}};var initTicker=function(){var startPosition=0,position,transform,value,idx,ratio,property,newSpeed,totalDimens;if(slider.settings.autoDirection==='next'){el.append(slider.children.clone().addClass('bx-clone'));}else{el.prepend(slider.children.clone().addClass('bx-clone'));position=slider.children.first().position();startPosition=slider.settings.mode==='horizontal'?-position.left:-position.top;}
setPositionProperty(startPosition,'reset',0);slider.settings.pager=false;slider.settings.controls=false;slider.settings.autoControls=false;if(slider.settings.tickerHover){if(slider.usingCSS){idx=slider.settings.mode==='horizontal'?4:5;slider.viewport.hover(function(){transform=el.css('-'+slider.cssPrefix+'-transform');value=parseFloat(transform.split(',')[idx]);setPositionProperty(value,'reset',0);},function(){totalDimens=0;slider.children.each(function(index){totalDimens+=slider.settings.mode==='horizontal'?$(this).outerWidth(true):$(this).outerHeight(true);});ratio=slider.settings.speed/totalDimens;property=slider.settings.mode==='horizontal'?'left':'top';newSpeed=ratio*(totalDimens-(Math.abs(parseInt(value))));tickerLoop(newSpeed);});}else{slider.viewport.hover(function(){el.stop();},function(){totalDimens=0;slider.children.each(function(index){totalDimens+=slider.settings.mode==='horizontal'?$(this).outerWidth(true):$(this).outerHeight(true);});ratio=slider.settings.speed/totalDimens;property=slider.settings.mode==='horizontal'?'left':'top';newSpeed=ratio*(totalDimens-(Math.abs(parseInt(el.css(property)))));tickerLoop(newSpeed);});}}
tickerLoop();};var tickerLoop=function(resumeSpeed){var speed=resumeSpeed?resumeSpeed:slider.settings.speed,position={left:0,top:0},reset={left:0,top:0},animateProperty,resetValue,params;if(slider.settings.autoDirection==='next'){position=el.find('.bx-clone').first().position();}else{reset=slider.children.first().position();}
animateProperty=slider.settings.mode==='horizontal'?-position.left:-position.top;resetValue=slider.settings.mode==='horizontal'?-reset.left:-reset.top;params={resetValue:resetValue};setPositionProperty(animateProperty,'ticker',speed,params);};var isOnScreen=function(el){var win=$(window),viewport={top:win.scrollTop(),left:win.scrollLeft()},bounds=el.offset();viewport.right=viewport.left+win.width();viewport.bottom=viewport.top+win.height();bounds.right=bounds.left+el.outerWidth();bounds.bottom=bounds.top+el.outerHeight();return(!(viewport.right<bounds.left||viewport.left>bounds.right||viewport.bottom<bounds.top||viewport.top>bounds.bottom));};var keyPress=function(e){var activeElementTag=document.activeElement.tagName.toLowerCase(),tagFilters='input|textarea',p=new RegExp(activeElementTag,['i']),result=p.exec(tagFilters);if(result==null&&isOnScreen(el)){if(e.keyCode===39){clickNextBind(e);return false;}else if(e.keyCode===37){clickPrevBind(e);return false;}}};var initTouch=function(){slider.touch={start:{x:0,y:0},end:{x:0,y:0}};slider.viewport.bind('touchstart MSPointerDown pointerdown',onTouchStart);slider.viewport.on('click','.bxslider a',function(e){if(slider.viewport.hasClass('click-disabled')){e.preventDefault();slider.viewport.removeClass('click-disabled');}});};var onTouchStart=function(e){slider.controls.el.addClass('disabled');if(slider.working){e.preventDefault();slider.controls.el.removeClass('disabled');}else{slider.touch.originalPos=el.position();var orig=e.originalEvent,touchPoints=(typeof orig.changedTouches!=='undefined')?orig.changedTouches:[orig];slider.touch.start.x=touchPoints[0].pageX;slider.touch.start.y=touchPoints[0].pageY;if(slider.viewport.get(0).setPointerCapture&&orig.pointerId){slider.pointerId=orig.pointerId;slider.viewport.get(0).setPointerCapture(slider.pointerId);}
slider.viewport.bind('touchmove MSPointerMove pointermove',onTouchMove);slider.viewport.bind('touchend MSPointerUp pointerup',onTouchEnd);slider.viewport.bind('MSPointerCancel pointercancel',onPointerCancel);}};var onPointerCancel=function(e){setPositionProperty(slider.touch.originalPos.left,'reset',0);slider.controls.el.removeClass('disabled');slider.viewport.unbind('MSPointerCancel pointercancel',onPointerCancel);slider.viewport.unbind('touchmove MSPointerMove pointermove',onTouchMove);slider.viewport.unbind('touchend MSPointerUp pointerup',onTouchEnd);if(slider.viewport.get(0).releasePointerCapture){slider.viewport.get(0).releasePointerCapture(slider.pointerId);}};var onTouchMove=function(e){var orig=e.originalEvent,touchPoints=(typeof orig.changedTouches!=='undefined')?orig.changedTouches:[orig],xMovement=Math.abs(touchPoints[0].pageX-slider.touch.start.x),yMovement=Math.abs(touchPoints[0].pageY-slider.touch.start.y),value=0,change=0;if((xMovement*3)>yMovement&&slider.settings.preventDefaultSwipeX){e.preventDefault();}else if((yMovement*3)>xMovement&&slider.settings.preventDefaultSwipeY){e.preventDefault();}
if(slider.settings.mode!=='fade'&&slider.settings.oneToOneTouch){if(slider.settings.mode==='horizontal'){change=touchPoints[0].pageX-slider.touch.start.x;value=slider.touch.originalPos.left+change;}else{change=touchPoints[0].pageY-slider.touch.start.y;value=slider.touch.originalPos.top+change;}
setPositionProperty(value,'reset',0);}};var onTouchEnd=function(e){slider.viewport.unbind('touchmove MSPointerMove pointermove',onTouchMove);slider.controls.el.removeClass('disabled');var orig=e.originalEvent,touchPoints=(typeof orig.changedTouches!=='undefined')?orig.changedTouches:[orig],value=0,distance=0;slider.touch.end.x=touchPoints[0].pageX;slider.touch.end.y=touchPoints[0].pageY;if(slider.settings.mode==='fade'){distance=Math.abs(slider.touch.start.x-slider.touch.end.x);if(distance>=slider.settings.swipeThreshold){if(slider.touch.start.x>slider.touch.end.x){el.goToNextSlide();}else{el.goToPrevSlide();}
el.stopAuto();}}else{if(slider.settings.mode==='horizontal'){distance=slider.touch.end.x-slider.touch.start.x;value=slider.touch.originalPos.left;}else{distance=slider.touch.end.y-slider.touch.start.y;value=slider.touch.originalPos.top;}
if(!slider.settings.infiniteLoop&&((slider.active.index===0&&distance>0)||(slider.active.last&&distance<0))){setPositionProperty(value,'reset',200);}else{if(Math.abs(distance)>=slider.settings.swipeThreshold){if(distance<0){el.goToNextSlide();}else{el.goToPrevSlide();}
el.stopAuto();}else{setPositionProperty(value,'reset',200);}}}
slider.viewport.unbind('touchend MSPointerUp pointerup',onTouchEnd);if(slider.viewport.get(0).releasePointerCapture){slider.viewport.get(0).releasePointerCapture(slider.pointerId);}};var resizeWindow=function(e){if(!slider.initialized){return;}
if(slider.working){window.setTimeout(resizeWindow,10);}else{var windowWidthNew=$(window).width(),windowHeightNew=$(window).height();if(windowWidth!==windowWidthNew||windowHeight!==windowHeightNew){windowWidth=windowWidthNew;windowHeight=windowHeightNew;el.redrawSlider();slider.settings.onSliderResize.call(el,slider.active.index);}}};var applyAriaHiddenAttributes=function(startVisibleIndex){var numberOfSlidesShowing=getNumberSlidesShowing();if(slider.settings.ariaHidden&&!slider.settings.ticker){slider.children.attr('aria-hidden','true');slider.children.slice(startVisibleIndex,startVisibleIndex+numberOfSlidesShowing).attr('aria-hidden','false');}};var setSlideIndex=function(slideIndex){if(slideIndex<0){if(slider.settings.infiniteLoop){return getPagerQty()-1;}else{return slider.active.index;}}else if(slideIndex>=getPagerQty()){if(slider.settings.infiniteLoop){return 0;}else{return slider.active.index;}}else{return slideIndex;}};el.goToSlide=function(slideIndex,direction){var performTransition=true,moveBy=0,position={left:0,top:0},lastChild=null,lastShowingIndex,eq,value,requestEl;slider.oldIndex=slider.active.index;slider.active.index=setSlideIndex(slideIndex);if(slider.working||slider.active.index===slider.oldIndex){return;}
slider.working=true;performTransition=slider.settings.onSlideBefore.call(el,slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index);if(typeof(performTransition)!=='undefined'&&!performTransition){slider.active.index=slider.oldIndex;slider.working=false;return;}
if(direction==='next'){if(!slider.settings.onSlideNext.call(el,slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index)){performTransition=false;}}else if(direction==='prev'){if(!slider.settings.onSlidePrev.call(el,slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index)){performTransition=false;}}
slider.active.last=slider.active.index>=getPagerQty()-1;if(slider.settings.pager||slider.settings.pagerCustom){updatePagerActive(slider.active.index);}
if(slider.settings.controls){updateDirectionControls();}
if(slider.settings.mode==='fade'){if(slider.settings.adaptiveHeight&&slider.viewport.height()!==getViewportHeight()){slider.viewport.animate({height:getViewportHeight()},slider.settings.adaptiveHeightSpeed);}
slider.children.filter(':visible').fadeOut(slider.settings.speed).css({zIndex:0});slider.children.eq(slider.active.index).css('zIndex',slider.settings.slideZIndex+1).fadeIn(slider.settings.speed,function(){$(this).css('zIndex',slider.settings.slideZIndex);updateAfterSlideTransition();});}else{if(slider.settings.adaptiveHeight&&slider.viewport.height()!==getViewportHeight()){slider.viewport.animate({height:getViewportHeight()},slider.settings.adaptiveHeightSpeed);}
if(!slider.settings.infiniteLoop&&slider.carousel&&slider.active.last){if(slider.settings.mode==='horizontal'){lastChild=slider.children.eq(slider.children.length-1);position=lastChild.position();moveBy=slider.viewport.width()-lastChild.outerWidth();}else{lastShowingIndex=slider.children.length-slider.settings.minSlides;position=slider.children.eq(lastShowingIndex).position();}}else if(slider.carousel&&slider.active.last&&direction==='prev'){eq=slider.settings.moveSlides===1?slider.settings.maxSlides-getMoveBy():((getPagerQty()-1)*getMoveBy())-(slider.children.length-slider.settings.maxSlides);lastChild=el.children('.bx-clone').eq(eq);position=lastChild.position();}else if(direction==='next'&&slider.active.index===0){position=el.find('> .bx-clone').eq(slider.settings.maxSlides).position();slider.active.last=false;}else if(slideIndex>=0){requestEl=slideIndex*parseInt(getMoveBy());position=slider.children.eq(requestEl).position();}
if(typeof(position)!=='undefined'){value=slider.settings.mode==='horizontal'?-(position.left-moveBy):-position.top;setPositionProperty(value,'slide',slider.settings.speed);}else{slider.working=false;}}
if(slider.settings.ariaHidden){applyAriaHiddenAttributes(slider.active.index*getMoveBy());}};el.goToNextSlide=function(){if(!slider.settings.infiniteLoop&&slider.active.last){return;}
var pagerIndex=parseInt(slider.active.index)+1;el.goToSlide(pagerIndex,'next');};el.goToPrevSlide=function(){if(!slider.settings.infiniteLoop&&slider.active.index===0){return;}
var pagerIndex=parseInt(slider.active.index)-1;el.goToSlide(pagerIndex,'prev');};el.startAuto=function(preventControlUpdate){if(slider.interval){return;}
slider.interval=setInterval(function(){if(slider.settings.autoDirection==='next'){el.goToNextSlide();}else{el.goToPrevSlide();}},slider.settings.pause);if(slider.settings.autoControls&&preventControlUpdate!==true){updateAutoControls('stop');}};el.stopAuto=function(preventControlUpdate){if(!slider.interval){return;}
clearInterval(slider.interval);slider.interval=null;if(slider.settings.autoControls&&preventControlUpdate!==true){updateAutoControls('start');}};el.getCurrentSlide=function(){return slider.active.index;};el.getCurrentSlideElement=function(){return slider.children.eq(slider.active.index);};el.getSlideElement=function(index){return slider.children.eq(index);};el.getSlideCount=function(){return slider.children.length;};el.isWorking=function(){return slider.working;};el.redrawSlider=function(){slider.children.add(el.find('.bx-clone')).outerWidth(getSlideWidth());slider.viewport.css('height',getViewportHeight());if(!slider.settings.ticker){setSlidePosition();}
if(slider.active.last){slider.active.index=getPagerQty()-1;}
if(slider.active.index>=getPagerQty()){slider.active.last=true;}
if(slider.settings.pager&&!slider.settings.pagerCustom){populatePager();updatePagerActive(slider.active.index);}
if(slider.settings.ariaHidden){applyAriaHiddenAttributes(slider.active.index*getMoveBy());}};el.destroySlider=function(){if(!slider.initialized){return;}
slider.initialized=false;$('.bx-clone',this).remove();slider.children.each(function(){if($(this).data('origStyle')!==undefined){$(this).attr('style',$(this).data('origStyle'));}else{$(this).removeAttr('style');}});if($(this).data('origStyle')!==undefined){this.attr('style',$(this).data('origStyle'));}else{$(this).removeAttr('style');}
$(this).unwrap().unwrap();if(slider.controls.el){slider.controls.el.remove();}
if(slider.controls.next){slider.controls.next.remove();}
if(slider.controls.prev){slider.controls.prev.remove();}
if(slider.pagerEl&&slider.settings.controls&&!slider.settings.pagerCustom){slider.pagerEl.remove();}
$('.bx-caption',this).remove();if(slider.controls.autoEl){slider.controls.autoEl.remove();}
clearInterval(slider.interval);if(slider.settings.responsive){$(window).unbind('resize',resizeWindow);}
if(slider.settings.keyboardEnabled){$(document).unbind('keydown',keyPress);}
$(this).removeData('bxSlider');};el.reloadSlider=function(settings){if(settings!==undefined){options=settings;}
el.destroySlider();init();$(el).data('bxSlider',this);};init();$(el).data('bxSlider',this);return this;};})(jQuery);(function(){var $,AbstractChosen,Chosen,SelectParser,bind=function(fn,me){return function(){return fn.apply(me,arguments);};},extend=function(child,parent){for(var key in parent){if(hasProp.call(parent,key))child[key]=parent[key];}function ctor(){this.constructor=child;}ctor.prototype=parent.prototype;child.prototype=new ctor();child.__super__=parent.prototype;return child;},hasProp={}.hasOwnProperty;SelectParser=(function(){function SelectParser(){this.options_index=0;this.parsed=[];}
SelectParser.prototype.add_node=function(child){if(child.nodeName.toUpperCase()==="OPTGROUP"){return this.add_group(child);}else{return this.add_option(child);}};SelectParser.prototype.add_group=function(group){var group_position,i,len,option,ref,results1;group_position=this.parsed.length;this.parsed.push({array_index:group_position,group:true,label:group.label,title:group.title?group.title:void 0,children:0,disabled:group.disabled,classes:group.className});ref=group.childNodes;results1=[];for(i=0,len=ref.length;i<len;i++){option=ref[i];results1.push(this.add_option(option,group_position,group.disabled));}
return results1;};SelectParser.prototype.add_option=function(option,group_position,group_disabled){if(option.nodeName.toUpperCase()==="OPTION"){if(option.text!==""){if(group_position!=null){this.parsed[group_position].children+=1;}
this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:option.value,text:option.text,html:option.innerHTML,title:option.title?option.title:void 0,selected:option.selected,disabled:group_disabled===true?group_disabled:option.disabled,group_array_index:group_position,group_label:group_position!=null?this.parsed[group_position].label:null,classes:option.className,style:option.style.cssText});}else{this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:true});}
return this.options_index+=1;}};return SelectParser;})();SelectParser.select_to_array=function(select){var child,i,len,parser,ref;parser=new SelectParser();ref=select.childNodes;for(i=0,len=ref.length;i<len;i++){child=ref[i];parser.add_node(child);}
return parser.parsed;};AbstractChosen=(function(){function AbstractChosen(form_field,options1){this.form_field=form_field;this.options=options1!=null?options1:{};this.label_click_handler=bind(this.label_click_handler,this);if(!AbstractChosen.browser_is_supported()){return;}
this.is_multiple=this.form_field.multiple;this.set_default_text();this.set_default_values();this.setup();this.set_up_html();this.register_observers();this.on_ready();}
AbstractChosen.prototype.set_default_values=function(){this.click_test_action=(function(_this){return function(evt){return _this.test_active_click(evt);};})(this);this.activate_action=(function(_this){return function(evt){return _this.activate_field(evt);};})(this);this.active_field=false;this.mouse_on_container=false;this.results_showing=false;this.result_highlighted=null;this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className);this.allow_single_deselect=(this.options.allow_single_deselect!=null)&&(this.form_field.options[0]!=null)&&this.form_field.options[0].text===""?this.options.allow_single_deselect:false;this.disable_search_threshold=this.options.disable_search_threshold||0;this.disable_search=this.options.disable_search||false;this.enable_split_word_search=this.options.enable_split_word_search!=null?this.options.enable_split_word_search:true;this.group_search=this.options.group_search!=null?this.options.group_search:true;this.search_contains=this.options.search_contains||false;this.single_backstroke_delete=this.options.single_backstroke_delete!=null?this.options.single_backstroke_delete:true;this.max_selected_options=this.options.max_selected_options||Infinity;this.inherit_select_classes=this.options.inherit_select_classes||false;this.display_selected_options=this.options.display_selected_options!=null?this.options.display_selected_options:true;this.display_disabled_options=this.options.display_disabled_options!=null?this.options.display_disabled_options:true;this.include_group_label_in_selected=this.options.include_group_label_in_selected||false;this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY;this.case_sensitive_search=this.options.case_sensitive_search||false;return this.hide_results_on_select=this.options.hide_results_on_select!=null?this.options.hide_results_on_select:true;};AbstractChosen.prototype.set_default_text=function(){if(this.form_field.getAttribute("data-placeholder")){this.default_text=this.form_field.getAttribute("data-placeholder");}else if(this.is_multiple){this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||AbstractChosen.default_multiple_text;}else{this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||AbstractChosen.default_single_text;}
this.default_text=this.escape_html(this.default_text);return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||AbstractChosen.default_no_result_text;};AbstractChosen.prototype.choice_label=function(item){if(this.include_group_label_in_selected&&(item.group_label!=null)){return"<b class='group-name'>"+item.group_label+"</b>"+item.html;}else{return item.html;}};AbstractChosen.prototype.mouse_enter=function(){return this.mouse_on_container=true;};AbstractChosen.prototype.mouse_leave=function(){return this.mouse_on_container=false;};AbstractChosen.prototype.input_focus=function(evt){if(this.is_multiple){if(!this.active_field){return setTimeout(((function(_this){return function(){return _this.container_mousedown();};})(this)),50);}}else{if(!this.active_field){return this.activate_field();}}};AbstractChosen.prototype.input_blur=function(evt){if(!this.mouse_on_container){this.active_field=false;return setTimeout(((function(_this){return function(){return _this.blur_test();};})(this)),100);}};AbstractChosen.prototype.label_click_handler=function(evt){if(this.is_multiple){return this.container_mousedown(evt);}else{return this.activate_field();}};AbstractChosen.prototype.results_option_build=function(options){var content,data,data_content,i,len,ref,shown_results;content='';shown_results=0;ref=this.results_data;for(i=0,len=ref.length;i<len;i++){data=ref[i];data_content='';if(data.group){data_content=this.result_add_group(data);}else{data_content=this.result_add_option(data);}
if(data_content!==''){shown_results++;content+=data_content;}
if(options!=null?options.first:void 0){if(data.selected&&this.is_multiple){this.choice_build(data);}else if(data.selected&&!this.is_multiple){this.single_set_selected_text(this.choice_label(data));}}
if(shown_results>=this.max_shown_results){break;}}
return content;};AbstractChosen.prototype.result_add_option=function(option){var classes,option_el;if(!option.search_match){return'';}
if(!this.include_option_in_results(option)){return'';}
classes=[];if(!option.disabled&&!(option.selected&&this.is_multiple)){classes.push("active-result");}
if(option.disabled&&!(option.selected&&this.is_multiple)){classes.push("disabled-result");}
if(option.selected){classes.push("result-selected");}
if(option.group_array_index!=null){classes.push("group-option");}
if(option.classes!==""){classes.push(option.classes);}
option_el=document.createElement("li");option_el.className=classes.join(" ");option_el.style.cssText=option.style;option_el.setAttribute("data-option-array-index",option.array_index);option_el.innerHTML=option.highlighted_html||option.html;if(option.title){option_el.title=option.title;}
return this.outerHTML(option_el);};AbstractChosen.prototype.result_add_group=function(group){var classes,group_el;if(!(group.search_match||group.group_match)){return'';}
if(!(group.active_options>0)){return'';}
classes=[];classes.push("group-result");if(group.classes){classes.push(group.classes);}
group_el=document.createElement("li");group_el.className=classes.join(" ");group_el.innerHTML=group.highlighted_html||this.escape_html(group.label);if(group.title){group_el.title=group.title;}
return this.outerHTML(group_el);};AbstractChosen.prototype.results_update_field=function(){this.set_default_text();if(!this.is_multiple){this.results_reset_cleanup();}
this.result_clear_highlight();this.results_build();if(this.results_showing){return this.winnow_results();}};AbstractChosen.prototype.reset_single_select_options=function(){var i,len,ref,result,results1;ref=this.results_data;results1=[];for(i=0,len=ref.length;i<len;i++){result=ref[i];if(result.selected){results1.push(result.selected=false);}else{results1.push(void 0);}}
return results1;};AbstractChosen.prototype.results_toggle=function(){if(this.results_showing){return this.results_hide();}else{return this.results_show();}};AbstractChosen.prototype.results_search=function(evt){if(this.results_showing){return this.winnow_results();}else{return this.results_show();}};AbstractChosen.prototype.winnow_results=function(){var escapedQuery,fix,i,len,option,prefix,query,ref,regex,results,results_group,search_match,startpos,suffix,text;this.no_results_clear();results=0;query=this.get_search_text();escapedQuery=query.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");regex=this.get_search_regex(escapedQuery);ref=this.results_data;for(i=0,len=ref.length;i<len;i++){option=ref[i];option.search_match=false;results_group=null;search_match=null;option.highlighted_html='';if(this.include_option_in_results(option)){if(option.group){option.group_match=false;option.active_options=0;}
if((option.group_array_index!=null)&&this.results_data[option.group_array_index]){results_group=this.results_data[option.group_array_index];if(results_group.active_options===0&&results_group.search_match){results+=1;}
results_group.active_options+=1;}
text=option.group?option.label:option.text;if(!(option.group&&!this.group_search)){search_match=this.search_string_match(text,regex);option.search_match=search_match!=null;if(option.search_match&&!option.group){results+=1;}
if(option.search_match){if(query.length){startpos=search_match.index;prefix=text.slice(0,startpos);fix=text.slice(startpos,startpos+query.length);suffix=text.slice(startpos+query.length);option.highlighted_html=(this.escape_html(prefix))+"<em>"+(this.escape_html(fix))+"</em>"+(this.escape_html(suffix));}
if(results_group!=null){results_group.group_match=true;}}else if((option.group_array_index!=null)&&this.results_data[option.group_array_index].search_match){option.search_match=true;}}}}
this.result_clear_highlight();if(results<1&&query.length){this.update_results_content("");return this.no_results(query);}else{this.update_results_content(this.results_option_build());return this.winnow_results_set_highlight();}};AbstractChosen.prototype.get_search_regex=function(escaped_search_string){var regex_flag,regex_string;regex_string=this.search_contains?escaped_search_string:"(^|\\s|\\b)"+escaped_search_string+"[^\\s]*";if(!(this.enable_split_word_search||this.search_contains)){regex_string="^"+regex_string;}
regex_flag=this.case_sensitive_search?"":"i";return new RegExp(regex_string,regex_flag);};AbstractChosen.prototype.search_string_match=function(search_string,regex){var match;match=regex.exec(search_string);if(!this.search_contains&&(match!=null?match[1]:void 0)){match.index+=1;}
return match;};AbstractChosen.prototype.choices_count=function(){var i,len,option,ref;if(this.selected_option_count!=null){return this.selected_option_count;}
this.selected_option_count=0;ref=this.form_field.options;for(i=0,len=ref.length;i<len;i++){option=ref[i];if(option.selected){this.selected_option_count+=1;}}
return this.selected_option_count;};AbstractChosen.prototype.choices_click=function(evt){evt.preventDefault();this.activate_field();if(!(this.results_showing||this.is_disabled)){return this.results_show();}};AbstractChosen.prototype.keydown_checker=function(evt){var ref,stroke;stroke=(ref=evt.which)!=null?ref:evt.keyCode;this.search_field_scale();if(stroke!==8&&this.pending_backstroke){this.clear_backstroke();}
switch(stroke){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:if(this.results_showing&&!this.is_multiple){this.result_select(evt);}
this.mouse_on_container=false;break;case 13:if(this.results_showing){evt.preventDefault();}
break;case 27:if(this.results_showing){evt.preventDefault();}
break;case 32:if(this.disable_search){evt.preventDefault();}
break;case 38:evt.preventDefault();this.keyup_arrow();break;case 40:evt.preventDefault();this.keydown_arrow();break;}};AbstractChosen.prototype.keyup_checker=function(evt){var ref,stroke;stroke=(ref=evt.which)!=null?ref:evt.keyCode;this.search_field_scale();switch(stroke){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0){this.keydown_backstroke();}else if(!this.pending_backstroke){this.result_clear_highlight();this.results_search();}
break;case 13:evt.preventDefault();if(this.results_showing){this.result_select(evt);}
break;case 27:if(this.results_showing){this.results_hide();}
break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search();break;}};AbstractChosen.prototype.clipboard_event_checker=function(evt){if(this.is_disabled){return;}
return setTimeout(((function(_this){return function(){return _this.results_search();};})(this)),50);};AbstractChosen.prototype.container_width=function(){if(this.options.width!=null){return this.options.width;}else{return this.form_field.offsetWidth+"px";}};AbstractChosen.prototype.include_option_in_results=function(option){if(this.is_multiple&&(!this.display_selected_options&&option.selected)){return false;}
if(!this.display_disabled_options&&option.disabled){return false;}
if(option.empty){return false;}
return true;};AbstractChosen.prototype.search_results_touchstart=function(evt){this.touch_started=true;return this.search_results_mouseover(evt);};AbstractChosen.prototype.search_results_touchmove=function(evt){this.touch_started=false;return this.search_results_mouseout(evt);};AbstractChosen.prototype.search_results_touchend=function(evt){if(this.touch_started){return this.search_results_mouseup(evt);}};AbstractChosen.prototype.outerHTML=function(element){var tmp;if(element.outerHTML){return element.outerHTML;}
tmp=document.createElement("div");tmp.appendChild(element);return tmp.innerHTML;};AbstractChosen.prototype.get_single_html=function(){return"<a class=\"chosen-single chosen-default\">\n  <input class=\"chosen-search-input\" type=\"text\" autocomplete=\"off\" />\n  <span>"+this.default_text+"</span>\n  <div><b></b></div>\n</a>\n<div class=\"chosen-drop\">\n  <div class=\"chosen-search\">\n  </div>\n  <ul class=\"chosen-results\"></ul>\n</div>";};AbstractChosen.prototype.get_multi_html=function(){return"<ul class=\"chosen-choices\">\n  <li class=\"search-field\">\n    <input class=\"chosen-search-input\" type=\"text\" autocomplete=\"off\" value=\""+this.default_text+"\" />\n  </li>\n</ul>\n<div class=\"chosen-drop\">\n  <ul class=\"chosen-results\"></ul>\n</div>";};AbstractChosen.prototype.get_no_results_html=function(terms){return"<li class=\"no-results\">\n  "+this.results_none_found+" <span>"+(this.escape_html(terms))+"</span>\n</li>";};AbstractChosen.browser_is_supported=function(){if("Microsoft Internet Explorer"===window.navigator.appName){return document.documentMode>=8;}
if(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent)){return false;}
return true;};AbstractChosen.default_multiple_text="Select Some Options";AbstractChosen.default_single_text="Select an Option";AbstractChosen.default_no_result_text="No results match";return AbstractChosen;})();$=jQuery;$.fn.extend({chosen:function(options){if(!AbstractChosen.browser_is_supported()){return this;}
return this.each(function(input_field){var $this,chosen;$this=$(this);chosen=$this.data('chosen');if(options==='destroy'){if(chosen instanceof Chosen){chosen.destroy();}
return;}
if(!(chosen instanceof Chosen)){$this.data('chosen',new Chosen(this,options));}});}});Chosen=(function(superClass){extend(Chosen,superClass);function Chosen(){return Chosen.__super__.constructor.apply(this,arguments);}
Chosen.prototype.setup=function(){this.form_field_jq=$(this.form_field);return this.current_selectedIndex=this.form_field.selectedIndex;};Chosen.prototype.set_up_html=function(){var container_classes,container_props;container_classes=["chosen-container"];container_classes.push("chosen-container-"+(this.is_multiple?"multi":"single"));if(this.inherit_select_classes&&this.form_field.className){container_classes.push(this.form_field.className);}
if(this.is_rtl){container_classes.push("chosen-rtl");}
container_props={'class':container_classes.join(' '),'title':this.form_field.title};if(this.form_field.id.length){container_props.id=this.form_field.id.replace(/[^\w]/g,'_')+"_chosen";}
this.container=$("<div />",container_props);this.container.width(this.container_width());if(this.is_multiple){this.container.html(this.get_multi_html());}else{this.container.html(this.get_single_html());}
this.form_field_jq.hide().after(this.container);this.dropdown=this.container.find('div.chosen-drop').first();this.search_field=this.container.find('input').first();this.search_results=this.container.find('ul.chosen-results').first();this.search_field_scale();this.search_no_results=this.container.find('li.no-results').first();if(this.is_multiple){this.search_choices=this.container.find('ul.chosen-choices').first();this.search_container=this.container.find('li.search-field').first();}else{this.search_container=this.container.find('div.chosen-search').first();this.selected_item=this.container.find('.chosen-single').first();}
this.results_build();this.set_tab_index();return this.set_label_behavior();};Chosen.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this});};Chosen.prototype.register_observers=function(){this.container.on('touchstart.chosen',(function(_this){return function(evt){_this.container_mousedown(evt);};})(this));this.container.on('touchend.chosen',(function(_this){return function(evt){_this.container_mouseup(evt);};})(this));this.container.on('mousedown.chosen',(function(_this){return function(evt){_this.container_mousedown(evt);};})(this));this.container.on('mouseup.chosen',(function(_this){return function(evt){_this.container_mouseup(evt);};})(this));this.container.on('mouseenter.chosen',(function(_this){return function(evt){_this.mouse_enter(evt);};})(this));this.container.on('mouseleave.chosen',(function(_this){return function(evt){_this.mouse_leave(evt);};})(this));this.search_results.on('mouseup.chosen',(function(_this){return function(evt){_this.search_results_mouseup(evt);};})(this));this.search_results.on('mouseover.chosen',(function(_this){return function(evt){_this.search_results_mouseover(evt);};})(this));this.search_results.on('mouseout.chosen',(function(_this){return function(evt){_this.search_results_mouseout(evt);};})(this));this.search_results.on('mousewheel.chosen DOMMouseScroll.chosen',(function(_this){return function(evt){_this.search_results_mousewheel(evt);};})(this));this.search_results.on('touchstart.chosen',(function(_this){return function(evt){_this.search_results_touchstart(evt);};})(this));this.search_results.on('touchmove.chosen',(function(_this){return function(evt){_this.search_results_touchmove(evt);};})(this));this.search_results.on('touchend.chosen',(function(_this){return function(evt){_this.search_results_touchend(evt);};})(this));this.form_field_jq.on("chosen:updated.chosen",(function(_this){return function(evt){_this.results_update_field(evt);};})(this));this.form_field_jq.on("chosen:activate.chosen",(function(_this){return function(evt){_this.activate_field(evt);};})(this));this.form_field_jq.on("chosen:open.chosen",(function(_this){return function(evt){_this.container_mousedown(evt);};})(this));this.form_field_jq.on("chosen:close.chosen",(function(_this){return function(evt){_this.close_field(evt);};})(this));this.search_field.on('blur.chosen',(function(_this){return function(evt){_this.input_blur(evt);};})(this));this.search_field.on('keyup.chosen',(function(_this){return function(evt){_this.keyup_checker(evt);};})(this));this.search_field.on('keydown.chosen',(function(_this){return function(evt){_this.keydown_checker(evt);};})(this));this.search_field.on('focus.chosen',(function(_this){return function(evt){_this.input_focus(evt);};})(this));this.search_field.on('cut.chosen',(function(_this){return function(evt){_this.clipboard_event_checker(evt);};})(this));this.search_field.on('paste.chosen',(function(_this){return function(evt){_this.clipboard_event_checker(evt);};})(this));if(this.is_multiple){return this.search_choices.on('click.chosen',(function(_this){return function(evt){_this.choices_click(evt);};})(this));}else{return this.container.on('click.chosen',function(evt){evt.preventDefault();});}};Chosen.prototype.destroy=function(){$(this.container[0].ownerDocument).off('click.chosen',this.click_test_action);if(this.form_field_label.length>0){this.form_field_label.off('click.chosen');}
if(this.search_field[0].tabIndex){this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex;}
this.container.remove();this.form_field_jq.removeData('chosen');return this.form_field_jq.show();};Chosen.prototype.search_field_disabled=function(){this.is_disabled=this.form_field.disabled||this.form_field_jq.parents('fieldset').is(':disabled');this.container.toggleClass('chosen-disabled',this.is_disabled);this.search_field[0].disabled=this.is_disabled;if(!this.is_multiple){this.selected_item.off('focus.chosen',this.activate_field);}
if(this.is_disabled){return this.close_field();}else if(!this.is_multiple){return this.selected_item.on('focus.chosen',this.activate_field);}};Chosen.prototype.container_mousedown=function(evt){var ref;if(this.is_disabled){return;}
if(evt&&((ref=evt.type)==='mousedown'||ref==='touchstart')&&!this.results_showing){evt.preventDefault();}
if(!((evt!=null)&&($(evt.target)).hasClass("search-choice-close"))){if(!this.active_field){if(this.is_multiple){this.search_field.val("");}
$(this.container[0].ownerDocument).on('click.chosen',this.click_test_action);this.results_show();}else if(!this.is_multiple&&evt&&(($(evt.target)[0]===this.selected_item[0])||$(evt.target).parents("a.chosen-single").length)){evt.preventDefault();this.results_toggle();}
return this.activate_field();}};Chosen.prototype.container_mouseup=function(evt){if(evt.target.nodeName==="ABBR"&&!this.is_disabled){return this.results_reset(evt);}};Chosen.prototype.search_results_mousewheel=function(evt){var delta;if(evt.originalEvent){delta=evt.originalEvent.deltaY||-evt.originalEvent.wheelDelta||evt.originalEvent.detail;}
if(delta!=null){evt.preventDefault();if(evt.type==='DOMMouseScroll'){delta=delta*40;}
return this.search_results.scrollTop(delta+this.search_results.scrollTop());}};Chosen.prototype.blur_test=function(evt){if(!this.active_field&&this.container.hasClass("chosen-container-active")){return this.close_field();}};Chosen.prototype.close_field=function(){$(this.container[0].ownerDocument).off("click.chosen",this.click_test_action);this.active_field=false;this.results_hide();this.container.removeClass("chosen-container-active");this.clear_backstroke();this.show_search_field_default();this.search_field_scale();return this.search_field.blur();};Chosen.prototype.activate_field=function(){if(this.is_disabled){return;}
this.container.addClass("chosen-container-active");this.active_field=true;this.search_field.val(this.search_field.val());return this.search_field.focus();};Chosen.prototype.test_active_click=function(evt){var active_container;active_container=$(evt.target).closest('.chosen-container');if(active_container.length&&this.container[0]===active_container[0]){return this.active_field=true;}else{return this.close_field();}};Chosen.prototype.results_build=function(){this.parsing=true;this.selected_option_count=null;this.results_data=SelectParser.select_to_array(this.form_field);if(this.is_multiple){this.search_choices.find("li.search-choice").remove();}else if(!this.is_multiple){this.single_set_selected_text();if(this.disable_search||this.form_field.options.length<=this.disable_search_threshold){this.search_field[0].readOnly=true;this.container.addClass("chosen-container-single-nosearch");}else{this.search_field[0].readOnly=false;this.container.removeClass("chosen-container-single-nosearch");}}
this.update_results_content(this.results_option_build({first:true}));this.search_field_disabled();this.show_search_field_default();this.search_field_scale();return this.parsing=false;};Chosen.prototype.result_do_highlight=function(el){var high_bottom,high_top,maxHeight,visible_bottom,visible_top;if(el.length){this.result_clear_highlight();this.result_highlight=el;this.result_highlight.addClass("highlighted");maxHeight=parseInt(this.search_results.css("maxHeight"),10);visible_top=this.search_results.scrollTop();visible_bottom=maxHeight+visible_top;high_top=this.result_highlight.position().top+this.search_results.scrollTop();high_bottom=high_top+this.result_highlight.outerHeight();if(high_bottom>=visible_bottom){return this.search_results.scrollTop((high_bottom-maxHeight)>0?high_bottom-maxHeight:0);}else if(high_top<visible_top){return this.search_results.scrollTop(high_top);}}};Chosen.prototype.result_clear_highlight=function(){if(this.result_highlight){this.result_highlight.removeClass("highlighted");}
return this.result_highlight=null;};Chosen.prototype.results_show=function(){if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("chosen:maxselected",{chosen:this});return false;}
if(!this.is_multiple){this.search_container.append(this.search_field);}
this.container.addClass("chosen-with-drop");this.results_showing=true;this.search_field.focus();this.search_field.val(this.get_search_field_value());this.winnow_results();return this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this});};Chosen.prototype.update_results_content=function(content){return this.search_results.html(content);};Chosen.prototype.results_hide=function(){if(this.results_showing){this.result_clear_highlight();if(!this.is_multiple){this.selected_item.prepend(this.search_field);this.search_field.focus();}
this.container.removeClass("chosen-with-drop");this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this});}
return this.results_showing=false;};Chosen.prototype.set_tab_index=function(el){var ti;if(this.form_field.tabIndex){ti=this.form_field.tabIndex;this.form_field.tabIndex=-1;return this.search_field[0].tabIndex=ti;}};Chosen.prototype.set_label_behavior=function(){this.form_field_label=this.form_field_jq.parents("label");if(!this.form_field_label.length&&this.form_field.id.length){this.form_field_label=$("label[for='"+this.form_field.id+"']");}
if(this.form_field_label.length>0){return this.form_field_label.on('click.chosen',this.label_click_handler);}};Chosen.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices_count()<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default");}else{this.search_field.val("");return this.search_field.removeClass("default");}};Chosen.prototype.search_results_mouseup=function(evt){var target;target=$(evt.target).hasClass("active-result")?$(evt.target):$(evt.target).parents(".active-result").first();if(target.length){this.result_highlight=target;this.result_select(evt);return this.search_field.focus();}};Chosen.prototype.search_results_mouseover=function(evt){var target;target=$(evt.target).hasClass("active-result")?$(evt.target):$(evt.target).parents(".active-result").first();if(target){return this.result_do_highlight(target);}};Chosen.prototype.search_results_mouseout=function(evt){if($(evt.target).hasClass("active-result")||$(evt.target).parents('.active-result').first()){return this.result_clear_highlight();}};Chosen.prototype.choice_build=function(item){var choice,close_link;choice=$('<li />',{"class":"search-choice"}).html("<span>"+(this.choice_label(item))+"</span>");if(item.disabled){choice.addClass('search-choice-disabled');}else{close_link=$('<a />',{"class":'search-choice-close','data-option-array-index':item.array_index});close_link.on('click.chosen',(function(_this){return function(evt){return _this.choice_destroy_link_click(evt);};})(this));choice.append(close_link);}
return this.search_container.before(choice);};Chosen.prototype.choice_destroy_link_click=function(evt){evt.preventDefault();evt.stopPropagation();if(!this.is_disabled){return this.choice_destroy($(evt.target));}};Chosen.prototype.choice_destroy=function(link){if(this.result_deselect(link[0].getAttribute("data-option-array-index"))){if(this.active_field){this.search_field.focus();}else{this.show_search_field_default();}
if(this.is_multiple&&this.choices_count()>0&&this.get_search_field_value().length<1){this.results_hide();}
link.parents('li').first().remove();return this.search_field_scale();}};Chosen.prototype.results_reset=function(){this.reset_single_select_options();this.form_field.options[0].selected=true;this.single_set_selected_text();this.show_search_field_default();this.results_reset_cleanup();this.trigger_form_field_change();if(this.active_field){return this.results_hide();}};Chosen.prototype.results_reset_cleanup=function(){this.current_selectedIndex=this.form_field.selectedIndex;return this.selected_item.find("abbr").remove();};Chosen.prototype.result_select=function(evt){var high,item;if(this.result_highlight){high=this.result_highlight;this.result_clear_highlight();if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("chosen:maxselected",{chosen:this});return false;}
if(this.is_multiple){high.removeClass("active-result");}else{this.reset_single_select_options();}
high.addClass("result-selected");item=this.results_data[high[0].getAttribute("data-option-array-index")];item.selected=true;this.form_field.options[item.options_index].selected=true;this.selected_option_count=null;this.search_field.val("");if(this.is_multiple){this.choice_build(item);}else{this.single_set_selected_text(this.choice_label(item));}
if(this.is_multiple&&(!this.hide_results_on_select||(evt.metaKey||evt.ctrlKey))){this.winnow_results();}else{this.results_hide();this.show_search_field_default();}
if(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex){this.trigger_form_field_change({selected:this.form_field.options[item.options_index].value});}
this.current_selectedIndex=this.form_field.selectedIndex;evt.preventDefault();return this.search_field_scale();}};Chosen.prototype.single_set_selected_text=function(text){if(text==null){text=this.default_text;}
if(text===this.default_text){this.selected_item.addClass("chosen-default");}else{this.single_deselect_control_build();this.selected_item.removeClass("chosen-default");}
return this.selected_item.find("span").html(text);};Chosen.prototype.result_deselect=function(pos){var result_data;result_data=this.results_data[pos];if(!this.form_field.options[result_data.options_index].disabled){result_data.selected=false;this.form_field.options[result_data.options_index].selected=false;this.selected_option_count=null;this.result_clear_highlight();if(this.results_showing){this.winnow_results();}
this.trigger_form_field_change({deselected:this.form_field.options[result_data.options_index].value});this.search_field_scale();return true;}else{return false;}};Chosen.prototype.single_deselect_control_build=function(){if(!this.allow_single_deselect){return;}
if(!this.selected_item.find("abbr").length){this.selected_item.find("span").first().after("<abbr class=\"search-choice-close\"></abbr>");}
return this.selected_item.addClass("chosen-single-with-deselect");};Chosen.prototype.get_search_field_value=function(){return this.search_field.val();};Chosen.prototype.get_search_text=function(){return $.trim(this.get_search_field_value());};Chosen.prototype.escape_html=function(text){return $('<div/>').text(text).html();};Chosen.prototype.winnow_results_set_highlight=function(){var do_high,selected_results;selected_results=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[];do_high=selected_results.length?selected_results.first():this.search_results.find(".active-result").first();if(do_high!=null){return this.result_do_highlight(do_high);}};Chosen.prototype.no_results=function(terms){var no_results_html;no_results_html=this.get_no_results_html(terms);this.search_results.append(no_results_html);return this.form_field_jq.trigger("chosen:no_results",{chosen:this});};Chosen.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove();};Chosen.prototype.keydown_arrow=function(){var next_sib;if(this.results_showing&&this.result_highlight){next_sib=this.result_highlight.nextAll("li.active-result").first();if(next_sib){return this.result_do_highlight(next_sib);}}else{return this.results_show();}};Chosen.prototype.keyup_arrow=function(){var prev_sibs;if(!this.results_showing&&!this.is_multiple){return this.results_show();}else if(this.result_highlight){prev_sibs=this.result_highlight.prevAll("li.active-result");if(prev_sibs.length){return this.result_do_highlight(prev_sibs.first());}else{if(this.choices_count()>0){this.results_hide();}
return this.result_clear_highlight();}}};Chosen.prototype.keydown_backstroke=function(){var next_available_destroy;if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke();}else{next_available_destroy=this.search_container.siblings("li.search-choice").last();if(next_available_destroy.length&&!next_available_destroy.hasClass("search-choice-disabled")){this.pending_backstroke=next_available_destroy;if(this.single_backstroke_delete){return this.keydown_backstroke();}else{return this.pending_backstroke.addClass("search-choice-focus");}}}};Chosen.prototype.clear_backstroke=function(){if(this.pending_backstroke){this.pending_backstroke.removeClass("search-choice-focus");}
return this.pending_backstroke=null;};Chosen.prototype.search_field_scale=function(){var div,i,len,style,style_block,styles,width;if(!this.is_multiple){return;}
style_block={position:'absolute',left:'-1000px',top:'-1000px',display:'none',whiteSpace:'pre'};styles=['fontSize','fontStyle','fontWeight','fontFamily','lineHeight','textTransform','letterSpacing'];for(i=0,len=styles.length;i<len;i++){style=styles[i];style_block[style]=this.search_field.css(style);}
div=$('<div />').css(style_block);div.text(this.get_search_field_value());$('body').append(div);width=div.width()+25;div.remove();if(this.container.is(':visible')){width=Math.min(this.container.outerWidth()-10,width);}
return this.search_field.width(width);};Chosen.prototype.trigger_form_field_change=function(extra){this.form_field_jq.trigger("input",extra);return this.form_field_jq.trigger("change",extra);};return Chosen;})(AbstractChosen);}).call(this);(function($,window,document,undefined){'use strict';var header_helpers=function(class_array){var i=class_array.length;var head=$('head');while(i--){if(head.has('.'+class_array[i]).length===0){head.append('<meta class="'+class_array[i]+'" />');}}};header_helpers(['foundation-mq-small','foundation-mq-small-only','foundation-mq-medium','foundation-mq-medium-only','foundation-mq-large','foundation-mq-large-only','foundation-mq-xlarge','foundation-mq-xlarge-only','foundation-mq-xxlarge','foundation-data-attribute-namespace']);$(function(){if(typeof FastClick!=='undefined'){if(typeof document.body!=='undefined'){FastClick.attach(document.body);}}});var S=function(selector,context){if(typeof selector==='string'){if(context){var cont;if(context.jquery){cont=context[0];if(!cont){return context;}}else{cont=context;}
return $(cont.querySelectorAll(selector));}
return $(document.querySelectorAll(selector));}
return $(selector,context);};var attr_name=function(init){var arr=[];if(!init){arr.push('data');}
if(this.namespace.length>0){arr.push(this.namespace);}
arr.push(this.name);return arr.join('-');};var add_namespace=function(str){var parts=str.split('-'),i=parts.length,arr=[];while(i--){if(i!==0){arr.push(parts[i]);}else{if(this.namespace.length>0){arr.push(this.namespace,parts[i]);}else{arr.push(parts[i]);}}}
return arr.reverse().join('-');};var bindings=function(method,options){var self=this,bind=function(){var $this=S(this),should_bind_events=!$this.data(self.attr_name(true)+'-init');$this.data(self.attr_name(true)+'-init',$.extend({},self.settings,(options||method),self.data_options($this)));if(should_bind_events){self.events(this);}};if(S(this.scope).is('['+this.attr_name()+']')){bind.call(this.scope);}else{S('['+this.attr_name()+']',this.scope).each(bind);}
if(typeof method==='string'){return this[method].call(this,options);}};var single_image_loaded=function(image,callback){function loaded(){callback(image[0]);}
function bindLoad(){this.one('load',loaded);if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var src=this.attr('src'),param=src.match(/\?/)?'&':'?';param+='random='+(new Date()).getTime();this.attr('src',src+param);}}
if(!image.attr('src')){loaded();return;}
if(image[0].complete||image[0].readyState===4){loaded();}else{bindLoad.call(image);}};
/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */
window.matchMedia||(window.matchMedia=function(){"use strict";var styleMedia=(window.styleMedia||window.media);if(!styleMedia){var style=document.createElement('style'),script=document.getElementsByTagName('script')[0],info=null;style.type='text/css';style.id='matchmediajs-test';script.parentNode.insertBefore(style,script);info=('getComputedStyle'in window)&&window.getComputedStyle(style,null)||style.currentStyle;styleMedia={matchMedium:function(media){var text='@media '+media+'{ #matchmediajs-test { width: 1px; } }';if(style.styleSheet){style.styleSheet.cssText=text;}else{style.textContent=text;}
return info.width==='1px';}};}
return function(media){return{matches:styleMedia.matchMedium(media||'all'),media:media||'all'};};}());(function(jQuery){var animating,lastTime=0,vendors=['webkit','moz'],requestAnimationFrame=window.requestAnimationFrame,cancelAnimationFrame=window.cancelAnimationFrame,jqueryFxAvailable='undefined'!==typeof jQuery.fx;for(;lastTime<vendors.length&&!requestAnimationFrame;lastTime++){requestAnimationFrame=window[vendors[lastTime]+'RequestAnimationFrame'];cancelAnimationFrame=cancelAnimationFrame||window[vendors[lastTime]+'CancelAnimationFrame']||window[vendors[lastTime]+'CancelRequestAnimationFrame'];}
function raf(){if(animating){requestAnimationFrame(raf);if(jqueryFxAvailable){jQuery.fx.tick();}}}
if(requestAnimationFrame){window.requestAnimationFrame=requestAnimationFrame;window.cancelAnimationFrame=cancelAnimationFrame;if(jqueryFxAvailable){jQuery.fx.timer=function(timer){if(timer()&&jQuery.timers.push(timer)&&!animating){animating=true;raf();}};jQuery.fx.stop=function(){animating=false;};}}else{window.requestAnimationFrame=function(callback){var currTime=new Date().getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=window.setTimeout(function(){callback(currTime+timeToCall);},timeToCall);lastTime=currTime+timeToCall;return id;};window.cancelAnimationFrame=function(id){clearTimeout(id);};}}($));function removeQuotes(string){if(typeof string==='string'||string instanceof String){string=string.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,'');}
return string;}
window.Foundation={name:'Foundation',version:'5.5.2',media_queries:{'small':S('.foundation-mq-small').css('font-family').replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,''),'small-only':S('.foundation-mq-small-only').css('font-family').replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,''),'medium':S('.foundation-mq-medium').css('font-family').replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,''),'medium-only':S('.foundation-mq-medium-only').css('font-family').replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,''),'large':S('.foundation-mq-large').css('font-family').replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,''),'large-only':S('.foundation-mq-large-only').css('font-family').replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,''),'xlarge':S('.foundation-mq-xlarge').css('font-family').replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,''),'xlarge-only':S('.foundation-mq-xlarge-only').css('font-family').replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,''),'xxlarge':S('.foundation-mq-xxlarge').css('font-family').replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,'')},stylesheet:$('<style></style>').appendTo('head')[0].sheet,global:{namespace:undefined},init:function(scope,libraries,method,options,response){var args=[scope,method,options,response],responses=[];this.rtl=/rtl/i.test(S('html').attr('dir'));this.scope=scope||this.scope;this.set_namespace();if(libraries&&typeof libraries==='string'&&!/reflow/i.test(libraries)){if(this.libs.hasOwnProperty(libraries)){responses.push(this.init_lib(libraries,args));}}else{for(var lib in this.libs){responses.push(this.init_lib(lib,libraries));}}
S(window).load(function(){S(window).trigger('resize.fndtn.clearing').trigger('resize.fndtn.dropdown').trigger('resize.fndtn.equalizer').trigger('resize.fndtn.interchange').trigger('resize.fndtn.joyride').trigger('resize.fndtn.magellan').trigger('resize.fndtn.topbar').trigger('resize.fndtn.slider');});return scope;},init_lib:function(lib,args){if(this.libs.hasOwnProperty(lib)){this.patch(this.libs[lib]);if(args&&args.hasOwnProperty(lib)){if(typeof this.libs[lib].settings!=='undefined'){$.extend(true,this.libs[lib].settings,args[lib]);}else if(typeof this.libs[lib].defaults!=='undefined'){$.extend(true,this.libs[lib].defaults,args[lib]);}
return this.libs[lib].init.apply(this.libs[lib],[this.scope,args[lib]]);}
args=args instanceof Array?args:new Array(args);return this.libs[lib].init.apply(this.libs[lib],args);}
return function(){};},patch:function(lib){lib.scope=this.scope;lib.namespace=this.global.namespace;lib.rtl=this.rtl;lib['data_options']=this.utils.data_options;lib['attr_name']=attr_name;lib['add_namespace']=add_namespace;lib['bindings']=bindings;lib['S']=this.utils.S;},inherit:function(scope,methods){var methods_arr=methods.split(' '),i=methods_arr.length;while(i--){if(this.utils.hasOwnProperty(methods_arr[i])){scope[methods_arr[i]]=this.utils[methods_arr[i]];}}},set_namespace:function(){var namespace=(this.global.namespace===undefined)?$('.foundation-data-attribute-namespace').css('font-family'):this.global.namespace;this.global.namespace=(namespace===undefined||/false/i.test(namespace))?'':namespace;},libs:{},utils:{S:S,throttle:function(func,delay){var timer=null;return function(){var context=this,args=arguments;if(timer==null){timer=setTimeout(function(){func.apply(context,args);timer=null;},delay);}};},debounce:function(func,delay,immediate){var timeout,result;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate){result=func.apply(context,args);}};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,delay);if(callNow){result=func.apply(context,args);}
return result;};},data_options:function(el,data_attr_name){data_attr_name=data_attr_name||'options';var opts={},ii,p,opts_arr,data_options=function(el){var namespace=Foundation.global.namespace;if(namespace.length>0){return el.data(namespace+'-'+data_attr_name);}
return el.data(data_attr_name);};var cached_options=data_options(el);if(typeof cached_options==='object'){return cached_options;}
opts_arr=(cached_options||':').split(';');ii=opts_arr.length;function isNumber(o){return!isNaN(o-0)&&o!==null&&o!==''&&o!==false&&o!==true;}
function trim(str){if(typeof str==='string'){return $.trim(str);}
return str;}
while(ii--){p=opts_arr[ii].split(':');p=[p[0],p.slice(1).join(':')];if(/true/i.test(p[1])){p[1]=true;}
if(/false/i.test(p[1])){p[1]=false;}
if(isNumber(p[1])){if(p[1].indexOf('.')===-1){p[1]=parseInt(p[1],10);}else{p[1]=parseFloat(p[1]);}}
if(p.length===2&&p[0].length>0){opts[trim(p[0])]=trim(p[1]);}}
return opts;},register_media:function(media,media_class){if(Foundation.media_queries[media]===undefined){$('head').append('<meta class="'+media_class+'"/>');Foundation.media_queries[media]=removeQuotes($('.'+media_class).css('font-family'));}},add_custom_rule:function(rule,media){if(media===undefined&&Foundation.stylesheet){Foundation.stylesheet.insertRule(rule,Foundation.stylesheet.cssRules.length);}else{var query=Foundation.media_queries[media];if(query!==undefined){Foundation.stylesheet.insertRule('@media '+
Foundation.media_queries[media]+'{ '+rule+' }',Foundation.stylesheet.cssRules.length);}}},image_loaded:function(images,callback){var self=this,unloaded=images.length;function pictures_has_height(images){var pictures_number=images.length;for(var i=pictures_number-1;i>=0;i--){if(images.attr('height')===undefined){return false;};};return true;}
if(unloaded===0||pictures_has_height(images)){callback(images);}
images.each(function(){single_image_loaded(self.S(this),function(){unloaded-=1;if(unloaded===0){callback(images);}});});},random_str:function(){if(!this.fidx){this.fidx=0;}
this.prefix=this.prefix||[(this.name||'F'),(+new Date).toString(36)].join('-');return this.prefix+(this.fidx++).toString(36);},match:function(mq){return window.matchMedia(mq).matches;},is_small_up:function(){return this.match(Foundation.media_queries.small);},is_medium_up:function(){return this.match(Foundation.media_queries.medium);},is_large_up:function(){return this.match(Foundation.media_queries.large);},is_xlarge_up:function(){return this.match(Foundation.media_queries.xlarge);},is_xxlarge_up:function(){return this.match(Foundation.media_queries.xxlarge);},is_small_only:function(){return!this.is_medium_up()&&!this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up();},is_medium_only:function(){return this.is_medium_up()&&!this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up();},is_large_only:function(){return this.is_medium_up()&&this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up();},is_xlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&!this.is_xxlarge_up();},is_xxlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&this.is_xxlarge_up();}}};$.fn.foundation=function(){var args=Array.prototype.slice.call(arguments,0);return this.each(function(){Foundation.init.apply(Foundation,[this].concat(args));return this;});};}(jQuery,window,window.document));;(function($,window,document,undefined){'use strict';Foundation.libs.abide={name:'abide',version:'5.5.2',settings:{live_validate:true,validate_on_blur:true,focus_on_invalid:true,error_labels:true,error_class:'error',timeout:1000,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^[-+]?\d+$/,number:/^[-+]?\d*(?:[\.\,]\d+)?$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,url:/^(https?|ftp|file|ssh):\/\/([-;:&=\+\$,\w]+@{1})?([-A-Za-z0-9\.]+)+:?(\d+)?((\/[-\+~%\/\.\w]+)?\??([-\+=&;%@\.\w]+)?#?([\w]+)?)?/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,8}$/,datetime:/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,time:/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,month_day_year:/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,day_month_year:/^(0[1-9]|[12][0-9]|3[01])[- \/.](0[1-9]|1[012])[- \/.]\d{4}$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/},validators:{equalTo:function(el,required,parent){var from=document.getElementById(el.getAttribute(this.add_namespace('data-equalto'))).value,to=el.value,valid=(from===to);return valid;}}},timer:null,init:function(scope,method,options){this.bindings(method,options);},events:function(scope){var self=this,form=self.S(scope).attr('novalidate','novalidate'),settings=form.data(this.attr_name(true)+'-init')||{};this.invalid_attr=this.add_namespace('data-invalid');function validate(originalSelf,e){clearTimeout(self.timer);self.timer=setTimeout(function(){self.validate([originalSelf],e);}.bind(originalSelf),settings.timeout);}
form.off('.abide').on('submit.fndtn.abide',function(e){var is_ajax=/ajax/i.test(self.S(this).attr(self.attr_name()));return self.validate(self.S(this).find('input, textarea, select').not(":hidden, [data-abide-ignore]").get(),e,is_ajax);}).on('validate.fndtn.abide',function(e){if(settings.validate_on==='manual'){self.validate([e.target],e);}}).on('reset',function(e){return self.reset($(this),e);}).find('input, textarea, select').not(":hidden, [data-abide-ignore]").off('.abide').on('blur.fndtn.abide change.fndtn.abide',function(e){if(settings.validate_on_blur&&settings.validate_on_blur===true){validate(this,e);}
if(settings.validate_on==='change'){validate(this,e);}}).on('keydown.fndtn.abide',function(e){if(settings.live_validate&&settings.live_validate===true&&e.which!=9){validate(this,e);}
if(settings.validate_on==='tab'&&e.which===9){validate(this,e);}
else if(settings.validate_on==='change'){validate(this,e);}}).on('focus',function(e){if(navigator.userAgent.match(/iPad|iPhone|Android|BlackBerry|Windows Phone|webOS/i)){$('html, body').animate({scrollTop:$(e.target).offset().top},100);}});},reset:function(form,e){var self=this;form.removeAttr(self.invalid_attr);$('['+self.invalid_attr+']',form).removeAttr(self.invalid_attr);$('.'+self.settings.error_class,form).not('small').removeClass(self.settings.error_class);$(':input',form).not(':button, :submit, :reset, :hidden, [data-abide-ignore]').val('').removeAttr(self.invalid_attr);},validate:function(els,e,is_ajax){var validations=this.parse_patterns(els),validation_count=validations.length,form=this.S(els[0]).closest('form'),submit_event=/submit/.test(e.type);for(var i=0;i<validation_count;i++){if(!validations[i]&&(submit_event||is_ajax)){if(this.settings.focus_on_invalid){els[i].focus();}
form.trigger('invalid.fndtn.abide');this.S(els[i]).closest('form').attr(this.invalid_attr,'');return false;}}
if(submit_event||is_ajax){form.trigger('valid.fndtn.abide');}
form.removeAttr(this.invalid_attr);if(is_ajax){return false;}
return true;},parse_patterns:function(els){var i=els.length,el_patterns=[];while(i--){el_patterns.push(this.pattern(els[i]));}
return this.check_validation_and_apply_styles(el_patterns);},pattern:function(el){var type=el.getAttribute('type'),required=typeof el.getAttribute('required')==='string';var pattern=el.getAttribute('pattern')||'';if(this.settings.patterns.hasOwnProperty(pattern)&&pattern.length>0){return[el,this.settings.patterns[pattern],required];}else if(pattern.length>0){return[el,new RegExp(pattern),required];}
if(this.settings.patterns.hasOwnProperty(type)){return[el,this.settings.patterns[type],required];}
pattern=/.*/;return[el,pattern,required];},check_validation_and_apply_styles:function(el_patterns){var i=el_patterns.length,validations=[],form=this.S(el_patterns[0][0]).closest('[data-'+this.attr_name(true)+']'),settings=form.data(this.attr_name(true)+'-init')||{};while(i--){var el=el_patterns[i][0],required=el_patterns[i][2],value=el.value.trim(),direct_parent=this.S(el).parent(),validator=el.getAttribute(this.add_namespace('data-abide-validator')),is_radio=el.type==='radio',is_checkbox=el.type==='checkbox',label=this.S('label[for="'+el.getAttribute('id')+'"]'),valid_length=(required)?(el.value.length>0):true,el_validations=[];var parent,valid;if(el.getAttribute(this.add_namespace('data-equalto'))){validator='equalTo'}
if(!direct_parent.is('label')){parent=direct_parent;}else{parent=direct_parent.parent();}
if(is_radio&&required){el_validations.push(this.valid_radio(el,required));}else if(is_checkbox&&required){el_validations.push(this.valid_checkbox(el,required));}else if(validator){var validators=validator.split(' ');var last_valid=true,all_valid=true;for(var iv=0;iv<validators.length;iv++){valid=this.settings.validators[validators[iv]].apply(this,[el,required,parent])
el_validations.push(valid);all_valid=valid&&last_valid;last_valid=valid;}
if(all_valid){this.S(el).removeAttr(this.invalid_attr);parent.removeClass('error');if(label.length>0&&this.settings.error_labels){label.removeClass(this.settings.error_class).removeAttr('role');}
$(el).triggerHandler('valid');}else{this.S(el).attr(this.invalid_attr,'');parent.addClass('error');if(label.length>0&&this.settings.error_labels){label.addClass(this.settings.error_class).attr('role','alert');}
$(el).triggerHandler('invalid');}}else{if(el_patterns[i][1].test(value)&&valid_length||!required&&el.value.length<1||$(el).attr('disabled')){el_validations.push(true);}else{el_validations.push(false);}
el_validations=[el_validations.every(function(valid){return valid;})];if(el_validations[0]){this.S(el).removeAttr(this.invalid_attr);el.setAttribute('aria-invalid','false');el.removeAttribute('aria-describedby');parent.removeClass(this.settings.error_class);if(label.length>0&&this.settings.error_labels){label.removeClass(this.settings.error_class).removeAttr('role');}
$(el).triggerHandler('valid');}else{this.S(el).attr(this.invalid_attr,'');el.setAttribute('aria-invalid','true');var errorElem=parent.find('small.'+this.settings.error_class,'span.'+this.settings.error_class);var errorID=errorElem.length>0?errorElem[0].id:'';if(errorID.length>0){el.setAttribute('aria-describedby',errorID);}
parent.addClass(this.settings.error_class);if(label.length>0&&this.settings.error_labels){label.addClass(this.settings.error_class).attr('role','alert');}
$(el).triggerHandler('invalid');}}
validations=validations.concat(el_validations);}
return validations;},valid_checkbox:function(el,required){var el=this.S(el),valid=(el.is(':checked')||!required||el.get(0).getAttribute('disabled'));if(valid){el.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class);$(el).triggerHandler('valid');}else{el.attr(this.invalid_attr,'').parent().addClass(this.settings.error_class);$(el).triggerHandler('invalid');}
return valid;},valid_radio:function(el,required){var name=el.getAttribute('name'),group=this.S(el).closest('[data-'+this.attr_name(true)+']').find("[name='"+name+"']"),count=group.length,valid=false,disabled=false;for(var i=0;i<count;i++){if(group[i].getAttribute('disabled')){disabled=true;valid=true;}else{if(group[i].checked){valid=true;}else{if(disabled){valid=false;}}}}
for(var i=0;i<count;i++){if(valid){this.S(group[i]).removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class);$(group[i]).triggerHandler('valid');}else{this.S(group[i]).attr(this.invalid_attr,'').parent().addClass(this.settings.error_class);$(group[i]).triggerHandler('invalid');}}
return valid;},valid_equal:function(el,required,parent){var from=document.getElementById(el.getAttribute(this.add_namespace('data-equalto'))).value,to=el.value,valid=(from===to);if(valid){this.S(el).removeAttr(this.invalid_attr);parent.removeClass(this.settings.error_class);if(label.length>0&&settings.error_labels){label.removeClass(this.settings.error_class);}}else{this.S(el).attr(this.invalid_attr,'');parent.addClass(this.settings.error_class);if(label.length>0&&settings.error_labels){label.addClass(this.settings.error_class);}}
return valid;},valid_oneof:function(el,required,parent,doNotValidateOthers){var el=this.S(el),others=this.S('['+this.add_namespace('data-oneof')+']'),valid=others.filter(':checked').length>0;if(valid){el.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class);}else{el.attr(this.invalid_attr,'').parent().addClass(this.settings.error_class);}
if(!doNotValidateOthers){var _this=this;others.each(function(){_this.valid_oneof.call(_this,this,null,null,true);});}
return valid;},reflow:function(scope,options){var self=this,form=self.S('['+this.attr_name()+']').attr('novalidate','novalidate');self.S(form).each(function(idx,el){self.events(el);});}};}(jQuery,window,window.document));;(function($,window,document,undefined){'use strict';Foundation.libs.equalizer={name:'equalizer',version:'5.5.2',settings:{use_tallest:true,before_height_change:$.noop,after_height_change:$.noop,equalize_on_stack:false,act_on_hidden_el:false},init:function(scope,method,options){Foundation.inherit(this,'image_loaded');this.bindings(method,options);this.reflow();},events:function(){this.S(window).off('.equalizer').on('resize.fndtn.equalizer',function(e){this.reflow();}.bind(this));},equalize:function(equalizer){var isStacked=false,group=equalizer.data('equalizer'),settings=equalizer.data(this.attr_name(true)+'-init')||this.settings,vals,firstTopOffset;if(settings.act_on_hidden_el){vals=group?equalizer.find('['+this.attr_name()+'-watch="'+group+'"]'):equalizer.find('['+this.attr_name()+'-watch]');}
else{vals=group?equalizer.find('['+this.attr_name()+'-watch="'+group+'"]:visible'):equalizer.find('['+this.attr_name()+'-watch]:visible');}
if(vals.length===0){return;}
settings.before_height_change();equalizer.trigger('before-height-change.fndth.equalizer');vals.height('inherit');if(settings.equalize_on_stack===false){firstTopOffset=vals.first().offset().top;vals.each(function(){if($(this).offset().top!==firstTopOffset){isStacked=true;return false;}});if(isStacked){return;}}
var heights=vals.map(function(){return $(this).outerHeight(false)}).get();if(settings.use_tallest){var max=Math.max.apply(null,heights);vals.css('height',max);}else{var min=Math.min.apply(null,heights);vals.css('height',min);}
settings.after_height_change();equalizer.trigger('after-height-change.fndtn.equalizer');},reflow:function(){var self=this;this.S('['+this.attr_name()+']',this.scope).each(function(){var $eq_target=$(this),media_query=$eq_target.data('equalizer-mq'),ignore_media_query=true;if(media_query){media_query='is_'+media_query.replace(/-/g,'_');if(Foundation.utils.hasOwnProperty(media_query)){ignore_media_query=false;}}
self.image_loaded(self.S('img',this),function(){if(ignore_media_query||Foundation.utils[media_query]()){self.equalize($eq_target)}else{var vals=$eq_target.find('['+self.attr_name()+'-watch]:visible');vals.css('height','auto');}});});}};})(jQuery,window,window.document);;(function($,window,document,undefined){'use strict';Foundation.libs.interchange={name:'interchange',version:'5.5.2',cache:{},images_loaded:false,nodes_loaded:false,settings:{load_attr:'interchange',named_queries:{'default':'only screen','small':Foundation.media_queries['small'],'small-only':Foundation.media_queries['small-only'],'medium':Foundation.media_queries['medium'],'medium-only':Foundation.media_queries['medium-only'],'large':Foundation.media_queries['large'],'large-only':Foundation.media_queries['large-only'],'xlarge':Foundation.media_queries['xlarge'],'xlarge-only':Foundation.media_queries['xlarge-only'],'xxlarge':Foundation.media_queries['xxlarge'],'landscape':'only screen and (orientation: landscape)','portrait':'only screen and (orientation: portrait)','retina':'only screen and (-webkit-min-device-pixel-ratio: 2),'+'only screen and (min--moz-device-pixel-ratio: 2),'+'only screen and (-o-min-device-pixel-ratio: 2/1),'+'only screen and (min-device-pixel-ratio: 2),'+'only screen and (min-resolution: 192dpi),'+'only screen and (min-resolution: 2dppx)'},directives:{replace:function(el,path,trigger){if(el!==null&&/IMG/.test(el[0].nodeName)){var orig_path=el[0].src;if(new RegExp(path,'i').test(orig_path)){return;}
el.attr("src",path);return trigger(el[0].src);}
var last_path=el.data(this.data_attr+'-last-path'),self=this;if(last_path==path){return;}
if(/\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i.test(path)){$(el).css('background-image','url('+path+')');el.data('interchange-last-path',path);return trigger(path);}
return $.get(path,function(response){el.html(response);el.data(self.data_attr+'-last-path',path);trigger();});}}},init:function(scope,method,options){Foundation.inherit(this,'throttle random_str');this.data_attr=this.set_data_attr();$.extend(true,this.settings,method,options);this.bindings(method,options);this.reflow();},get_media_hash:function(){var mediaHash='';for(var queryName in this.settings.named_queries){mediaHash+=matchMedia(this.settings.named_queries[queryName]).matches.toString();}
return mediaHash;},events:function(){var self=this,prevMediaHash;$(window).off('.interchange').on('resize.fndtn.interchange',self.throttle(function(){var currMediaHash=self.get_media_hash();if(currMediaHash!==prevMediaHash){self.resize();}
prevMediaHash=currMediaHash;},50));return this;},resize:function(){var cache=this.cache;if(!this.images_loaded||!this.nodes_loaded){setTimeout($.proxy(this.resize,this),50);return;}
for(var uuid in cache){if(cache.hasOwnProperty(uuid)){var passed=this.results(uuid,cache[uuid]);if(passed){this.settings.directives[passed.scenario[1]].call(this,passed.el,passed.scenario[0],(function(passed){if(arguments[0]instanceof Array){var args=arguments[0];}else{var args=Array.prototype.slice.call(arguments,0);}
return function(){passed.el.trigger(passed.scenario[1],args);}}(passed)));}}}},results:function(uuid,scenarios){var count=scenarios.length;if(count>0){var el=this.S('['+this.add_namespace('data-uuid')+'="'+uuid+'"]');while(count--){var mq,rule=scenarios[count][2];if(this.settings.named_queries.hasOwnProperty(rule)){mq=matchMedia(this.settings.named_queries[rule]);}else{mq=matchMedia(rule);}
if(mq.matches){return{el:el,scenario:scenarios[count]};}}}
return false;},load:function(type,force_update){if(typeof this['cached_'+type]==='undefined'||force_update){this['update_'+type]();}
return this['cached_'+type];},update_images:function(){var images=this.S('img['+this.data_attr+']'),count=images.length,i=count,loaded_count=0,data_attr=this.data_attr;this.cache={};this.cached_images=[];this.images_loaded=(count===0);while(i--){loaded_count++;if(images[i]){var str=images[i].getAttribute(data_attr)||'';if(str.length>0){this.cached_images.push(images[i]);}}
if(loaded_count===count){this.images_loaded=true;this.enhance('images');}}
return this;},update_nodes:function(){var nodes=this.S('['+this.data_attr+']').not('img'),count=nodes.length,i=count,loaded_count=0,data_attr=this.data_attr;this.cached_nodes=[];this.nodes_loaded=(count===0);while(i--){loaded_count++;var str=nodes[i].getAttribute(data_attr)||'';if(str.length>0){this.cached_nodes.push(nodes[i]);}
if(loaded_count===count){this.nodes_loaded=true;this.enhance('nodes');}}
return this;},enhance:function(type){var i=this['cached_'+type].length;while(i--){this.object($(this['cached_'+type][i]));}
return $(window).trigger('resize.fndtn.interchange');},convert_directive:function(directive){var trimmed=this.trim(directive);if(trimmed.length>0){return trimmed;}
return'replace';},parse_scenario:function(scenario){var directive_match=scenario[0].match(/(.+),\s*(\w+)\s*$/),media_query=scenario[1].match(/(.*)\)/);if(directive_match){var path=directive_match[1],directive=directive_match[2];}else{var cached_split=scenario[0].split(/,\s*$/),path=cached_split[0],directive='';}
return[this.trim(path),this.convert_directive(directive),this.trim(media_query[1])];},object:function(el){var raw_arr=this.parse_data_attr(el),scenarios=[],i=raw_arr.length;if(i>0){while(i--){var scenario=raw_arr[i].split(/,\s?\(/);if(scenario.length>1){var params=this.parse_scenario(scenario);scenarios.push(params);}}}
return this.store(el,scenarios);},store:function(el,scenarios){var uuid=this.random_str(),current_uuid=el.data(this.add_namespace('uuid',true));if(this.cache[current_uuid]){return this.cache[current_uuid];}
el.attr(this.add_namespace('data-uuid'),uuid);return this.cache[uuid]=scenarios;},trim:function(str){if(typeof str==='string'){return $.trim(str);}
return str;},set_data_attr:function(init){if(init){if(this.namespace.length>0){return this.namespace+'-'+this.settings.load_attr;}
return this.settings.load_attr;}
if(this.namespace.length>0){return'data-'+this.namespace+'-'+this.settings.load_attr;}
return'data-'+this.settings.load_attr;},parse_data_attr:function(el){var raw=el.attr(this.attr_name()).split(/\[(.*?)\]/),i=raw.length,output=[];while(i--){if(raw[i].replace(/[\W\d]+/,'').length>4){output.push(raw[i]);}}
return output;},reflow:function(){this.load('images',true);this.load('nodes',true);}};}(jQuery,window,window.document));;(function($,window,document,undefined){'use strict';Foundation.libs.dropdown={name:'dropdown',version:'5.5.2',settings:{active_class:'open',disabled_class:'disabled',mega_class:'mega',align:'bottom',is_hover:false,hover_timeout:150,opened:function(){},closed:function(){}},init:function(scope,method,options){Foundation.inherit(this,'throttle');$.extend(true,this.settings,method,options);this.bindings(method,options);},events:function(scope){var self=this,S=self.S;S(this.scope).off('.dropdown').on('click.fndtn.dropdown','['+this.attr_name()+']',function(e){var settings=S(this).data(self.attr_name(true)+'-init')||self.settings;if(!settings.is_hover||Modernizr.touch){e.preventDefault();if(S(this).parent('[data-reveal-id]').length){e.stopPropagation();}
self.toggle($(this));}}).on('mouseenter.fndtn.dropdown','['+this.attr_name()+'], ['+this.attr_name()+'-content]',function(e){var $this=S(this),dropdown,target;clearTimeout(self.timeout);if($this.data(self.data_attr())){dropdown=S('#'+$this.data(self.data_attr()));target=$this;}else{dropdown=$this;target=S('['+self.attr_name()+'="'+dropdown.attr('id')+'"]');}
var settings=target.data(self.attr_name(true)+'-init')||self.settings;if(S(e.currentTarget).data(self.data_attr())&&settings.is_hover){self.closeall.call(self);}
if(settings.is_hover){self.open.apply(self,[dropdown,target]);}}).on('mouseleave.fndtn.dropdown','['+this.attr_name()+'], ['+this.attr_name()+'-content]',function(e){var $this=S(this);var settings;if($this.data(self.data_attr())){settings=$this.data(self.data_attr(true)+'-init')||self.settings;}else{var target=S('['+self.attr_name()+'="'+S(this).attr('id')+'"]'),settings=target.data(self.attr_name(true)+'-init')||self.settings;}
self.timeout=setTimeout(function(){if($this.data(self.data_attr())){if(settings.is_hover){self.close.call(self,S('#'+$this.data(self.data_attr())));}}else{if(settings.is_hover){self.close.call(self,$this);}}}.bind(this),settings.hover_timeout);}).on('click.fndtn.dropdown',function(e){var parent=S(e.target).closest('['+self.attr_name()+'-content]');var links=parent.find('a');if(links.length>0&&parent.attr('aria-autoclose')!=='false'){self.close.call(self,S('['+self.attr_name()+'-content]'));}
if(e.target!==document&&!$.contains(document.documentElement,e.target)){return;}
if(S(e.target).closest('['+self.attr_name()+']').length>0){return;}
if(!(S(e.target).data('revealId'))&&(parent.length>0&&(S(e.target).is('['+self.attr_name()+'-content]')||$.contains(parent.first()[0],e.target)))){e.stopPropagation();return;}
self.close.call(self,S('['+self.attr_name()+'-content]'));}).on('opened.fndtn.dropdown','['+self.attr_name()+'-content]',function(){self.settings.opened.call(this);}).on('closed.fndtn.dropdown','['+self.attr_name()+'-content]',function(){self.settings.closed.call(this);});S(window).off('.dropdown').on('resize.fndtn.dropdown',self.throttle(function(){self.resize.call(self);},50));this.resize();},close:function(dropdown){var self=this;dropdown.each(function(idx){var original_target=$('['+self.attr_name()+'='+dropdown[idx].id+']')||$('aria-controls='+dropdown[idx].id+']');original_target.attr('aria-expanded','false');if(self.S(this).hasClass(self.settings.active_class)){self.S(this).css(Foundation.rtl?'right':'left','-99999px').attr('aria-hidden','true').removeClass(self.settings.active_class).prev('['+self.attr_name()+']').removeClass(self.settings.active_class).removeData('target');self.S(this).trigger('closed.fndtn.dropdown',[dropdown]);}});dropdown.removeClass('f-open-'+this.attr_name(true));},closeall:function(){var self=this;$.each(self.S('.f-open-'+this.attr_name(true)),function(){self.close.call(self,self.S(this));});},open:function(dropdown,target){this.css(dropdown.addClass(this.settings.active_class),target);dropdown.prev('['+this.attr_name()+']').addClass(this.settings.active_class);dropdown.data('target',target.get(0)).trigger('opened.fndtn.dropdown',[dropdown,target]);dropdown.attr('aria-hidden','false');target.attr('aria-expanded','true');dropdown.focus();dropdown.addClass('f-open-'+this.attr_name(true));},data_attr:function(){if(this.namespace.length>0){return this.namespace+'-'+this.name;}
return this.name;},toggle:function(target){if(target.hasClass(this.settings.disabled_class)){return;}
var dropdown=this.S('#'+target.data(this.data_attr()));if(dropdown.length===0){return;}
this.close.call(this,this.S('['+this.attr_name()+'-content]').not(dropdown));if(dropdown.hasClass(this.settings.active_class)){this.close.call(this,dropdown);if(dropdown.data('target')!==target.get(0)){this.open.call(this,dropdown,target);}}else{this.open.call(this,dropdown,target);}},resize:function(){var dropdown=this.S('['+this.attr_name()+'-content].open');var target=$(dropdown.data("target"));if(dropdown.length&&target.length){this.css(dropdown,target);}},css:function(dropdown,target){var left_offset=Math.max((target.width()-dropdown.width())/2,8),settings=target.data(this.attr_name(true)+'-init')||this.settings,parentOverflow=dropdown.parent().css('overflow-y')||dropdown.parent().css('overflow');this.clear_idx();if(this.small()){var p=this.dirs.bottom.call(dropdown,target,settings);dropdown.attr('style','').removeClass('drop-left drop-right drop-top').css({position:'absolute',width:'95%','max-width':'none',top:p.top});dropdown.css(Foundation.rtl?'right':'left',left_offset);}
else if(parentOverflow!=='visible'){var offset=target[0].offsetTop+target[0].offsetHeight;dropdown.attr('style','').css({position:'absolute',top:offset});dropdown.css(Foundation.rtl?'right':'left',left_offset);}
else{this.style(dropdown,target,settings);}
return dropdown;},style:function(dropdown,target,settings){var css=$.extend({position:'absolute'},this.dirs[settings.align].call(dropdown,target,settings));dropdown.attr('style','').css(css);},dirs:{_base:function(t){var o_p=this.offsetParent(),o=o_p.offset(),p=t.offset();p.top-=o.top;p.left-=o.left;p.missRight=false;p.missTop=false;p.missLeft=false;p.leftRightFlag=false;var actualBodyWidth;if(document.getElementsByClassName('row')[0]){actualBodyWidth=document.getElementsByClassName('row')[0].clientWidth;}else{actualBodyWidth=window.innerWidth;}
var actualMarginWidth=(window.innerWidth-actualBodyWidth)/2;var actualBoundary=actualBodyWidth;if(!this.hasClass('mega')){if(t.offset().top<=this.outerHeight()){p.missTop=true;actualBoundary=window.innerWidth-actualMarginWidth;p.leftRightFlag=true;}
if(t.offset().left+this.outerWidth()>t.offset().left+actualMarginWidth&&t.offset().left-actualMarginWidth>this.outerWidth()){p.missRight=true;p.missLeft=false;}
if(t.offset().left-this.outerWidth()<=0){p.missLeft=true;p.missRight=false;}}
return p;},top:function(t,s){var self=Foundation.libs.dropdown,p=self.dirs._base.call(this,t);this.addClass('drop-top');if(p.missTop==true){p.top=p.top+t.outerHeight()+this.outerHeight();this.removeClass('drop-top');}
if(p.missRight==true){p.left=p.left-this.outerWidth()+t.outerWidth();}
if(t.outerWidth()<this.outerWidth()||self.small()||this.hasClass(s.mega_menu)){self.adjust_pip(this,t,s,p);}
if(Foundation.rtl){return{left:p.left-this.outerWidth()+t.outerWidth(),top:p.top-this.outerHeight()};}
return{left:p.left,top:p.top-this.outerHeight()};},bottom:function(t,s){var self=Foundation.libs.dropdown,p=self.dirs._base.call(this,t);if(p.missRight==true){p.left=p.left-this.outerWidth()+t.outerWidth();}
if(t.outerWidth()<this.outerWidth()||self.small()||this.hasClass(s.mega_menu)){self.adjust_pip(this,t,s,p);}
if(self.rtl){return{left:p.left-this.outerWidth()+t.outerWidth(),top:p.top+t.outerHeight()};}
return{left:p.left,top:p.top+t.outerHeight()};},left:function(t,s){var p=Foundation.libs.dropdown.dirs._base.call(this,t);this.addClass('drop-left');if(p.missLeft==true){p.left=p.left+this.outerWidth();p.top=p.top+t.outerHeight();this.removeClass('drop-left');}
return{left:p.left-this.outerWidth(),top:p.top};},right:function(t,s){var p=Foundation.libs.dropdown.dirs._base.call(this,t);this.addClass('drop-right');if(p.missRight==true){p.left=p.left-this.outerWidth();p.top=p.top+t.outerHeight();this.removeClass('drop-right');}else{p.triggeredRight=true;}
var self=Foundation.libs.dropdown;if(t.outerWidth()<this.outerWidth()||self.small()||this.hasClass(s.mega_menu)){self.adjust_pip(this,t,s,p);}
return{left:p.left+t.outerWidth(),top:p.top};}},adjust_pip:function(dropdown,target,settings,position){var sheet=Foundation.stylesheet,pip_offset_base=8;if(dropdown.hasClass(settings.mega_class)){pip_offset_base=position.left+(target.outerWidth()/2)-8;}else if(this.small()){pip_offset_base+=position.left-8;}
this.rule_idx=sheet.cssRules.length;var sel_before='.f-dropdown.open:before',sel_after='.f-dropdown.open:after',css_before='left: '+pip_offset_base+'px;',css_after='left: '+(pip_offset_base-1)+'px;';if(position.missRight==true){pip_offset_base=dropdown.outerWidth()-23;sel_before='.f-dropdown.open:before',sel_after='.f-dropdown.open:after',css_before='left: '+pip_offset_base+'px;',css_after='left: '+(pip_offset_base-1)+'px;';}
if(position.triggeredRight==true){sel_before='.f-dropdown.open:before',sel_after='.f-dropdown.open:after',css_before='left:-12px;',css_after='left:-14px;';}
if(sheet.insertRule){sheet.insertRule([sel_before,'{',css_before,'}'].join(' '),this.rule_idx);sheet.insertRule([sel_after,'{',css_after,'}'].join(' '),this.rule_idx+1);}else{sheet.addRule(sel_before,css_before,this.rule_idx);sheet.addRule(sel_after,css_after,this.rule_idx+1);}},clear_idx:function(){var sheet=Foundation.stylesheet;if(typeof this.rule_idx!=='undefined'){sheet.deleteRule(this.rule_idx);sheet.deleteRule(this.rule_idx);delete this.rule_idx;}},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches;},off:function(){this.S(this.scope).off('.fndtn.dropdown');this.S('html, body').off('.fndtn.dropdown');this.S(window).off('.fndtn.dropdown');this.S('[data-dropdown-content]').off('.fndtn.dropdown');},reflow:function(){}};}(jQuery,window,window.document));;(function($,window,document,undefined){'use strict';Foundation.libs.accordion={name:'accordion',version:'5.5.2',settings:{content_class:'content',active_class:'active',multi_expand:false,toggleable:true,callback:function(){}},init:function(scope,method,options){this.bindings(method,options);},events:function(instance){var self=this;var S=this.S;self.create(this.S(instance));S(this.scope).off('.fndtn.accordion').on('click.fndtn.accordion','['+this.attr_name()+'] > dd > a, ['+this.attr_name()+'] > li > a',function(e){var accordion=S(this).closest('['+self.attr_name()+']'),groupSelector=self.attr_name()+'='+accordion.attr(self.attr_name()),settings=accordion.data(self.attr_name(true)+'-init')||self.settings,target=S('#'+this.href.split('#')[1]),aunts=$('> dd, > li',accordion),siblings=aunts.children('.'+settings.content_class),active_content=siblings.filter('.'+settings.active_class);e.preventDefault();if(accordion.attr(self.attr_name())){siblings=siblings.add('['+groupSelector+'] dd > '+'.'+settings.content_class+', ['+groupSelector+'] li > '+'.'+settings.content_class);aunts=aunts.add('['+groupSelector+'] dd, ['+groupSelector+'] li');}
if(settings.toggleable&&target.is(active_content)){target.parent('dd, li').toggleClass(settings.active_class,false);target.toggleClass(settings.active_class,false);S(this).attr('aria-expanded',function(i,attr){return attr==='true'?'false':'true';});settings.callback(target);target.triggerHandler('toggled',[accordion]);accordion.triggerHandler('toggled',[target]);return;}
if(!settings.multi_expand){siblings.removeClass(settings.active_class);aunts.removeClass(settings.active_class);aunts.children('a').attr('aria-expanded','false');}
target.addClass(settings.active_class).parent().addClass(settings.active_class);settings.callback(target);target.triggerHandler('toggled',[accordion]);accordion.triggerHandler('toggled',[target]);S(this).attr('aria-expanded','true');});},create:function($instance){var self=this,accordion=$instance,aunts=$('> .accordion-navigation',accordion),settings=accordion.data(self.attr_name(true)+'-init')||self.settings;aunts.children('a').attr('aria-expanded','false');aunts.has('.'+settings.content_class+'.'+settings.active_class).children('a').attr('aria-expanded','true');if(settings.multi_expand){$instance.attr('aria-multiselectable','true');}},off:function(){},reflow:function(){}};}(jQuery,window,window.document));;(function($,window,document,undefined){'use strict';Foundation.libs.alert={name:'alert',version:'5.5.2',settings:{callback:function(){}},init:function(scope,method,options){this.bindings(method,options);},events:function(){var self=this,S=this.S;$(this.scope).off('.alert').on('click.fndtn.alert','['+this.attr_name()+'] .close',function(e){var alertBox=S(this).closest('['+self.attr_name()+']'),settings=alertBox.data(self.attr_name(true)+'-init')||self.settings;e.preventDefault();if(Modernizr.csstransitions){alertBox.addClass('alert-close');alertBox.on('transitionend webkitTransitionEnd oTransitionEnd',function(e){S(this).trigger('close.fndtn.alert').remove();settings.callback();});}else{alertBox.fadeOut(300,function(){S(this).trigger('close.fndtn.alert').remove();settings.callback();});}});},reflow:function(){}};}(jQuery,window,window.document));;(function($,window,document,undefined){'use strict';Foundation.libs.clearing={name:'clearing',version:'5.5.2',settings:{templates:{viewing:'<a href="#" class="clearing-close">&times;</a>'+'<div class="visible-img" style="display: none"><div class="clearing-touch-label"></div><img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" />'+'<p class="clearing-caption"></p><a href="#" class="clearing-main-prev"><span></span></a>'+'<a href="#" class="clearing-main-next"><span></span></a></div>'+'<img class="clearing-preload-next" style="display: none" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" />'+'<img class="clearing-preload-prev" style="display: none" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" />'},close_selectors:'.clearing-close, div.clearing-blackout',open_selectors:'',skip_selector:'',touch_label:'',init:false,locked:false},init:function(scope,method,options){var self=this;Foundation.inherit(this,'throttle image_loaded');this.bindings(method,options);if(self.S(this.scope).is('['+this.attr_name()+']')){this.assemble(self.S('li',this.scope));}else{self.S('['+this.attr_name()+']',this.scope).each(function(){self.assemble(self.S('li',this));});}},events:function(scope){var self=this,S=self.S,$scroll_container=$('.scroll-container');if($scroll_container.length>0){this.scope=$scroll_container;}
S(this.scope).off('.clearing').on('click.fndtn.clearing','ul['+this.attr_name()+'] li '+this.settings.open_selectors,function(e,current,target){var current=current||S(this),target=target||current,next=current.next('li'),settings=current.closest('['+self.attr_name()+']').data(self.attr_name(true)+'-init'),image=S(e.target);e.preventDefault();if(!settings){self.init();settings=current.closest('['+self.attr_name()+']').data(self.attr_name(true)+'-init');}
if(target.hasClass('visible')&&current[0]===target[0]&&next.length>0&&self.is_open(current)){target=next;image=S('img',target);}
self.open(image,current,target);self.update_paddles(target);}).on('click.fndtn.clearing','.clearing-main-next',function(e){self.nav(e,'next')}).on('click.fndtn.clearing','.clearing-main-prev',function(e){self.nav(e,'prev')}).on('click.fndtn.clearing',this.settings.close_selectors,function(e){Foundation.libs.clearing.close(e,this)});$(document).on('keydown.fndtn.clearing',function(e){self.keydown(e)});S(window).off('.clearing').on('resize.fndtn.clearing',function(){self.resize()});this.swipe_events(scope);},swipe_events:function(scope){var self=this,S=self.S;S(this.scope).on('touchstart.fndtn.clearing','.visible-img',function(e){if(!e.touches){e=e.originalEvent;}
var data={start_page_x:e.touches[0].pageX,start_page_y:e.touches[0].pageY,start_time:(new Date()).getTime(),delta_x:0,is_scrolling:undefined};S(this).data('swipe-transition',data);e.stopPropagation();}).on('touchmove.fndtn.clearing','.visible-img',function(e){if(!e.touches){e=e.originalEvent;}
if(e.touches.length>1||e.scale&&e.scale!==1){return;}
var data=S(this).data('swipe-transition');if(typeof data==='undefined'){data={};}
data.delta_x=e.touches[0].pageX-data.start_page_x;if(Foundation.rtl){data.delta_x=-data.delta_x;}
if(typeof data.is_scrolling==='undefined'){data.is_scrolling=!!(data.is_scrolling||Math.abs(data.delta_x)<Math.abs(e.touches[0].pageY-data.start_page_y));}
if(!data.is_scrolling&&!data.active){e.preventDefault();var direction=(data.delta_x<0)?'next':'prev';data.active=true;self.nav(e,direction);}}).on('touchend.fndtn.clearing','.visible-img',function(e){S(this).data('swipe-transition',{});e.stopPropagation();});},assemble:function($li){var $el=$li.parent();if($el.parent().hasClass('carousel')){return;}
$el.after('<div id="foundationClearingHolder"></div>');var grid=$el.detach(),grid_outerHTML='';if(grid[0]==null){return;}else{grid_outerHTML=grid[0].outerHTML;}
var holder=this.S('#foundationClearingHolder'),settings=$el.data(this.attr_name(true)+'-init'),data={grid:'<div class="carousel">'+grid_outerHTML+'</div>',viewing:settings.templates.viewing},wrapper='<div class="clearing-assembled"><div>'+data.viewing+
data.grid+'</div></div>',touch_label=this.settings.touch_label;if(Modernizr.touch){wrapper=$(wrapper).find('.clearing-touch-label').html(touch_label).end();}
holder.after(wrapper).remove();},open:function($image,current,target){var self=this,body=$(document.body),root=target.closest('.clearing-assembled'),container=self.S('div',root).first(),visible_image=self.S('.visible-img',container),image=self.S('img',visible_image).not($image),label=self.S('.clearing-touch-label',container),error=false,loaded={};$('body').on('touchmove',function(e){e.preventDefault();});image.error(function(){error=true;});function startLoad(){setTimeout(function(){this.image_loaded(image,function(){if(image.outerWidth()===1&&!error){startLoad.call(this);}else{cb.call(this,image);}}.bind(this));}.bind(this),100);}
function cb(image){var $image=$(image);$image.css('visibility','visible');$image.trigger('imageVisible');body.css('overflow','hidden');root.addClass('clearing-blackout');container.addClass('clearing-container');visible_image.show();this.fix_height(target).caption(self.S('.clearing-caption',visible_image),self.S('img',target)).center_and_label(image,label).shift(current,target,function(){target.closest('li').siblings().removeClass('visible');target.closest('li').addClass('visible');});visible_image.trigger('opened.fndtn.clearing')}
if(!this.locked()){visible_image.trigger('open.fndtn.clearing');loaded=this.load($image);if(loaded.interchange){image.attr('data-interchange',loaded.interchange).foundation('interchange','reflow');}else{image.attr('src',loaded.src).attr('data-interchange','');}
image.css('visibility','hidden');startLoad.call(this);}},close:function(e,el){e.preventDefault();var root=(function(target){if(/blackout/.test(target.selector)){return target;}else{return target.closest('.clearing-blackout');}}($(el))),body=$(document.body),container,visible_image;if(el===e.target&&root){body.css('overflow','');container=$('div',root).first();visible_image=$('.visible-img',container);visible_image.trigger('close.fndtn.clearing');this.settings.prev_index=0;$('ul['+this.attr_name()+']',root).attr('style','').closest('.clearing-blackout').removeClass('clearing-blackout');container.removeClass('clearing-container');visible_image.hide();visible_image.trigger('closed.fndtn.clearing');}
$('body').off('touchmove');return false;},is_open:function(current){return current.parent().prop('style').length>0;},keydown:function(e){var clearing=$('.clearing-blackout ul['+this.attr_name()+']'),NEXT_KEY=this.rtl?37:39,PREV_KEY=this.rtl?39:37,ESC_KEY=27;if(e.which===NEXT_KEY){this.go(clearing,'next');}
if(e.which===PREV_KEY){this.go(clearing,'prev');}
if(e.which===ESC_KEY){this.S('a.clearing-close').trigger('click.fndtn.clearing');}},nav:function(e,direction){var clearing=$('ul['+this.attr_name()+']','.clearing-blackout');e.preventDefault();this.go(clearing,direction);},resize:function(){var image=$('img','.clearing-blackout .visible-img'),label=$('.clearing-touch-label','.clearing-blackout');if(image.length){this.center_and_label(image,label);image.trigger('resized.fndtn.clearing')}},fix_height:function(target){var lis=target.parent().children(),self=this;lis.each(function(){var li=self.S(this),image=li.find('img');if(li.height()>image.outerHeight()){li.addClass('fix-height');}}).closest('ul').width(lis.length*100+'%');return this;},update_paddles:function(target){target=target.closest('li');var visible_image=target.closest('.carousel').siblings('.visible-img');if(target.next().length>0){this.S('.clearing-main-next',visible_image).removeClass('disabled');}else{this.S('.clearing-main-next',visible_image).addClass('disabled');}
if(target.prev().length>0){this.S('.clearing-main-prev',visible_image).removeClass('disabled');}else{this.S('.clearing-main-prev',visible_image).addClass('disabled');}},center_and_label:function(target,label){if(!this.rtl&&label.length>0){label.css({marginLeft:-(label.outerWidth()/2),marginTop:-(target.outerHeight()/2)-label.outerHeight()-10});}else{label.css({marginRight:-(label.outerWidth()/2),marginTop:-(target.outerHeight()/2)-label.outerHeight()-10,left:'auto',right:'50%'});}
return this;},load:function($image){var href,interchange,closest_a;if($image[0].nodeName==='A'){href=$image.attr('href');interchange=$image.data('clearing-interchange');}else{closest_a=$image.closest('a');href=closest_a.attr('href');interchange=closest_a.data('clearing-interchange');}
this.preload($image);return{'src':href?href:$image.attr('src'),'interchange':href?interchange:$image.data('clearing-interchange')}},preload:function($image){this.img($image.closest('li').next(),'next').img($image.closest('li').prev(),'prev');},img:function(img,sibling_type){if(img.length){var preload_img=$('.clearing-preload-'+sibling_type),new_a=this.S('a',img),src,interchange,image;if(new_a.length){src=new_a.attr('href');interchange=new_a.data('clearing-interchange');}else{image=this.S('img',img);src=image.attr('src');interchange=image.data('clearing-interchange');}
if(interchange){preload_img.attr('data-interchange',interchange);}else{preload_img.attr('src',src);preload_img.attr('data-interchange','');}}
return this;},caption:function(container,$image){var caption=$image.attr('data-caption');if(caption){container.html(caption).show();}else{container.text('').hide();}
return this;},go:function($ul,direction){var current=this.S('.visible',$ul),target=current[direction]();if(this.settings.skip_selector&&target.find(this.settings.skip_selector).length!=0){target=target[direction]();}
if(target.length){this.S('img',target).trigger('click.fndtn.clearing',[current,target]).trigger('change.fndtn.clearing');}},shift:function(current,target,callback){var clearing=target.parent(),old_index=this.settings.prev_index||target.index(),direction=this.direction(clearing,current,target),dir=this.rtl?'right':'left',left=parseInt(clearing.css('left'),10),width=target.outerWidth(),skip_shift;var dir_obj={};if(target.index()!==old_index&&!/skip/.test(direction)){if(/left/.test(direction)){this.lock();dir_obj[dir]=left+width;clearing.animate(dir_obj,300,this.unlock());}else if(/right/.test(direction)){this.lock();dir_obj[dir]=left-width;clearing.animate(dir_obj,300,this.unlock());}}else if(/skip/.test(direction)){skip_shift=target.index()-this.settings.up_count;this.lock();if(skip_shift>0){dir_obj[dir]=-(skip_shift*width);clearing.animate(dir_obj,300,this.unlock());}else{dir_obj[dir]=0;clearing.animate(dir_obj,300,this.unlock());}}
callback();},direction:function($el,current,target){var lis=this.S('li',$el),li_width=lis.outerWidth()+(lis.outerWidth()/4),up_count=Math.floor(this.S('.clearing-container').outerWidth()/li_width)-1,target_index=lis.index(target),response;this.settings.up_count=up_count;if(this.adjacent(this.settings.prev_index,target_index)){if((target_index>up_count)&&target_index>this.settings.prev_index){response='right';}else if((target_index>up_count-1)&&target_index<=this.settings.prev_index){response='left';}else{response=false;}}else{response='skip';}
this.settings.prev_index=target_index;return response;},adjacent:function(current_index,target_index){for(var i=target_index+1;i>=target_index-1;i--){if(i===current_index){return true;}}
return false;},lock:function(){this.settings.locked=true;},unlock:function(){this.settings.locked=false;},locked:function(){return this.settings.locked;},off:function(){this.S(this.scope).off('.fndtn.clearing');this.S(window).off('.fndtn.clearing');},reflow:function(){this.init();}};}(jQuery,window,window.document));
/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(g," ")),h.json?JSON.parse(a):a}catch(b){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(void 0!==g&&!a.isFunction(g)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setTime(+k+864e5*j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;o>n;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0===a.cookie(b)?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}});;(function($,window,document,undefined){'use strict';var Modernizr=Modernizr||false;Foundation.libs.joyride={name:'joyride',version:'5.5.2',defaults:{expose:false,modal:true,keyboard:true,tip_location:'bottom',nub_position:'auto',scroll_speed:1500,scroll_animation:'linear',timer:0,start_timer_on_click:true,start_offset:0,next_button:true,prev_button:true,tip_animation:'fade',pause_after:[],exposed:[],tip_animation_fade_speed:300,cookie_monster:false,cookie_name:'joyride',cookie_domain:false,cookie_expires:365,tip_container:'body',abort_on_close:true,tip_location_patterns:{top:['bottom'],bottom:[],left:['right','top','bottom'],right:['left','top','bottom']},post_ride_callback:function(){},post_step_callback:function(){},pre_step_callback:function(){},pre_ride_callback:function(){},post_expose_callback:function(){},template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="small button joyride-next-tip"></a>',prev_button:'<a href="#" class="small button joyride-prev-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',expose_cover:'<div class="joyride-expose-cover"></div>'},expose_add_class:''},init:function(scope,method,options){Foundation.inherit(this,'throttle random_str');this.settings=this.settings||$.extend({},this.defaults,(options||method));this.bindings(method,options)},go_next:function(){if(this.settings.$li.next().length<1){this.end();}else if(this.settings.timer>0){clearTimeout(this.settings.automate);this.hide();this.show();this.startTimer();}else{this.hide();this.show();}},go_prev:function(){if(this.settings.$li.prev().length<1){}else if(this.settings.timer>0){clearTimeout(this.settings.automate);this.hide();this.show(null,true);this.startTimer();}else{this.hide();this.show(null,true);}},events:function(){var self=this;$(this.scope).off('.joyride').on('click.fndtn.joyride','.joyride-next-tip, .joyride-modal-bg',function(e){e.preventDefault();this.go_next()}.bind(this)).on('click.fndtn.joyride','.joyride-prev-tip',function(e){e.preventDefault();this.go_prev();}.bind(this)).on('click.fndtn.joyride','.joyride-close-tip',function(e){e.preventDefault();this.end(this.settings.abort_on_close);}.bind(this)).on('keyup.fndtn.joyride',function(e){if(!this.settings.keyboard||!this.settings.riding){return;}
switch(e.which){case 39:e.preventDefault();this.go_next();break;case 37:e.preventDefault();this.go_prev();break;case 27:e.preventDefault();this.end(this.settings.abort_on_close);}}.bind(this));$(window).off('.joyride').on('resize.fndtn.joyride',self.throttle(function(){if($('['+self.attr_name()+']').length>0&&self.settings.$next_tip&&self.settings.riding){if(self.settings.exposed.length>0){var $els=$(self.settings.exposed);$els.each(function(){var $this=$(this);self.un_expose($this);self.expose($this);});}
if(self.is_phone()){self.pos_phone();}else{self.pos_default(false);}}},100));},start:function(){var self=this,$this=$('['+this.attr_name()+']',this.scope),integer_settings=['timer','scrollSpeed','startOffset','tipAnimationFadeSpeed','cookieExpires'],int_settings_count=integer_settings.length;if(!$this.length>0){return;}
if(!this.settings.init){this.events();}
this.settings=$this.data(this.attr_name(true)+'-init');this.settings.$content_el=$this;this.settings.$body=$(this.settings.tip_container);this.settings.body_offset=$(this.settings.tip_container).position();this.settings.$tip_content=this.settings.$content_el.find('> li');this.settings.paused=false;this.settings.attempts=0;this.settings.riding=true;if(typeof $.cookie!=='function'){this.settings.cookie_monster=false;}
if(!this.settings.cookie_monster||this.settings.cookie_monster&&!$.cookie(this.settings.cookie_name)){this.settings.$tip_content.each(function(index){var $this=$(this);this.settings=$.extend({},self.defaults,self.data_options($this));var i=int_settings_count;while(i--){self.settings[integer_settings[i]]=parseInt(self.settings[integer_settings[i]],10);}
self.create({$li:$this,index:index});});if(!this.settings.start_timer_on_click&&this.settings.timer>0){this.show('init');this.startTimer();}else{this.show('init');}}},resume:function(){this.set_li();this.show();},tip_template:function(opts){var $blank,content;opts.tip_class=opts.tip_class||'';$blank=$(this.settings.template.tip).addClass(opts.tip_class);content=$.trim($(opts.li).html())+
this.prev_button_text(opts.prev_button_text,opts.index)+
this.button_text(opts.button_text)+
this.settings.template.link+
this.timer_instance(opts.index);$blank.append($(this.settings.template.wrapper));$blank.first().attr(this.add_namespace('data-index'),opts.index);$('.joyride-content-wrapper',$blank).append(content);return $blank[0];},timer_instance:function(index){var txt;if((index===0&&this.settings.start_timer_on_click&&this.settings.timer>0)||this.settings.timer===0){txt='';}else{txt=$(this.settings.template.timer)[0].outerHTML;}
return txt;},button_text:function(txt){if(this.settings.tip_settings.next_button){txt=$.trim(txt)||'Next';txt=$(this.settings.template.button).append(txt)[0].outerHTML;}else{txt='';}
return txt;},prev_button_text:function(txt,idx){if(this.settings.tip_settings.prev_button){txt=$.trim(txt)||'Previous';if(idx==0){txt=$(this.settings.template.prev_button).append(txt).addClass('disabled')[0].outerHTML;}else{txt=$(this.settings.template.prev_button).append(txt)[0].outerHTML;}}else{txt='';}
return txt;},create:function(opts){this.settings.tip_settings=$.extend({},this.settings,this.data_options(opts.$li));var buttonText=opts.$li.attr(this.add_namespace('data-button'))||opts.$li.attr(this.add_namespace('data-text')),prevButtonText=opts.$li.attr(this.add_namespace('data-button-prev'))||opts.$li.attr(this.add_namespace('data-prev-text')),tipClass=opts.$li.attr('class'),$tip_content=$(this.tip_template({tip_class:tipClass,index:opts.index,button_text:buttonText,prev_button_text:prevButtonText,li:opts.$li}));$(this.settings.tip_container).append($tip_content);},show:function(init,is_prev){var $timer=null;if(this.settings.$li===undefined||($.inArray(this.settings.$li.index(),this.settings.pause_after)===-1)){if(this.settings.paused){this.settings.paused=false;}else{this.set_li(init,is_prev);}
this.settings.attempts=0;if(this.settings.$li.length&&this.settings.$target.length>0){if(init){this.settings.pre_ride_callback(this.settings.$li.index(),this.settings.$next_tip);if(this.settings.modal){this.show_modal();}}
this.settings.pre_step_callback(this.settings.$li.index(),this.settings.$next_tip);if(this.settings.modal&&this.settings.expose){this.expose();}
this.settings.tip_settings=$.extend({},this.settings,this.data_options(this.settings.$li));this.settings.timer=parseInt(this.settings.timer,10);this.settings.tip_settings.tip_location_pattern=this.settings.tip_location_patterns[this.settings.tip_settings.tip_location];if(!/body/i.test(this.settings.$target.selector)){var joyridemodalbg=$('.joyride-modal-bg');if(/pop/i.test(this.settings.tipAnimation)){joyridemodalbg.hide();}else{joyridemodalbg.fadeOut(this.settings.tipAnimationFadeSpeed);}
this.scroll_to();}
if(this.is_phone()){this.pos_phone(true);}else{this.pos_default(true);}
$timer=this.settings.$next_tip.find('.joyride-timer-indicator');if(/pop/i.test(this.settings.tip_animation)){$timer.width(0);if(this.settings.timer>0){this.settings.$next_tip.show();setTimeout(function(){$timer.animate({width:$timer.parent().width()},this.settings.timer,'linear');}.bind(this),this.settings.tip_animation_fade_speed);}else{this.settings.$next_tip.show();}}else if(/fade/i.test(this.settings.tip_animation)){$timer.width(0);if(this.settings.timer>0){this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed).show();setTimeout(function(){$timer.animate({width:$timer.parent().width()},this.settings.timer,'linear');}.bind(this),this.settings.tip_animation_fade_speed);}else{this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed);}}
this.settings.$current_tip=this.settings.$next_tip;}else if(this.settings.$li&&this.settings.$target.length<1){this.show(init,is_prev);}else{this.end();}}else{this.settings.paused=true;}},is_phone:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches;},hide:function(){if(this.settings.modal&&this.settings.expose){this.un_expose();}
if(!this.settings.modal){$('.joyride-modal-bg').hide();}
this.settings.$current_tip.css('visibility','hidden');setTimeout($.proxy(function(){this.hide();this.css('visibility','visible');},this.settings.$current_tip),0);this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip);},set_li:function(init,is_prev){if(init){this.settings.$li=this.settings.$tip_content.eq(this.settings.start_offset);this.set_next_tip();this.settings.$current_tip=this.settings.$next_tip;}else{if(is_prev){this.settings.$li=this.settings.$li.prev();}else{this.settings.$li=this.settings.$li.next();}
this.set_next_tip();}
this.set_target();},set_next_tip:function(){this.settings.$next_tip=$('.joyride-tip-guide').eq(this.settings.$li.index());this.settings.$next_tip.data('closed','');},set_target:function(){var cl=this.settings.$li.attr(this.add_namespace('data-class')),id=this.settings.$li.attr(this.add_namespace('data-id')),$sel=function(){if(id){return $(document.getElementById(id));}else if(cl){return $('.'+cl).first();}else{return $('body');}};this.settings.$target=$sel();},scroll_to:function(){var window_half,tipOffset;window_half=$(window).height()/2;tipOffset=Math.ceil(this.settings.$target.offset().top-window_half+this.settings.$next_tip.outerHeight());if(tipOffset!=0){$('html, body').stop().animate({scrollTop:tipOffset},this.settings.scroll_speed,'swing');}},paused:function(){return($.inArray((this.settings.$li.index()+1),this.settings.pause_after)===-1);},restart:function(){this.hide();this.settings.$li=undefined;this.show('init');},pos_default:function(init){var $nub=this.settings.$next_tip.find('.joyride-nub'),nub_width=Math.ceil($nub.outerWidth()/2),nub_height=Math.ceil($nub.outerHeight()/2),toggle=init||false;if(toggle){this.settings.$next_tip.css('visibility','hidden');this.settings.$next_tip.show();}
if(!/body/i.test(this.settings.$target.selector)){var topAdjustment=this.settings.tip_settings.tipAdjustmentY?parseInt(this.settings.tip_settings.tipAdjustmentY):0,leftAdjustment=this.settings.tip_settings.tipAdjustmentX?parseInt(this.settings.tip_settings.tipAdjustmentX):0;if(this.bottom()){if(this.rtl){this.settings.$next_tip.css({top:(this.settings.$target.offset().top+nub_height+this.settings.$target.outerHeight()+topAdjustment),left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()+leftAdjustment});}else{this.settings.$next_tip.css({top:(this.settings.$target.offset().top+nub_height+this.settings.$target.outerHeight()+topAdjustment),left:this.settings.$target.offset().left+leftAdjustment});}
this.nub_position($nub,this.settings.tip_settings.nub_position,'top');}else if(this.top()){if(this.rtl){this.settings.$next_tip.css({top:(this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-nub_height+topAdjustment),left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()});}else{this.settings.$next_tip.css({top:(this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-nub_height+topAdjustment),left:this.settings.$target.offset().left+leftAdjustment});}
this.nub_position($nub,this.settings.tip_settings.nub_position,'bottom');}else if(this.right()){this.settings.$next_tip.css({top:this.settings.$target.offset().top+topAdjustment,left:(this.settings.$target.outerWidth()+this.settings.$target.offset().left+nub_width+leftAdjustment)});this.nub_position($nub,this.settings.tip_settings.nub_position,'left');}else if(this.left()){this.settings.$next_tip.css({top:this.settings.$target.offset().top+topAdjustment,left:(this.settings.$target.offset().left-this.settings.$next_tip.outerWidth()-nub_width+leftAdjustment)});this.nub_position($nub,this.settings.tip_settings.nub_position,'right');}
if(!this.visible(this.corners(this.settings.$next_tip))&&this.settings.attempts<this.settings.tip_settings.tip_location_pattern.length){$nub.removeClass('bottom').removeClass('top').removeClass('right').removeClass('left');this.settings.tip_settings.tip_location=this.settings.tip_settings.tip_location_pattern[this.settings.attempts];this.settings.attempts++;this.pos_default();}}else if(this.settings.$li.length){this.pos_modal($nub);}
if(toggle){this.settings.$next_tip.hide();this.settings.$next_tip.css('visibility','visible');}},pos_phone:function(init){var tip_height=this.settings.$next_tip.outerHeight(),tip_offset=this.settings.$next_tip.offset(),target_height=this.settings.$target.outerHeight(),$nub=$('.joyride-nub',this.settings.$next_tip),nub_height=Math.ceil($nub.outerHeight()/2),toggle=init||false;$nub.removeClass('bottom').removeClass('top').removeClass('right').removeClass('left');if(toggle){this.settings.$next_tip.css('visibility','hidden');this.settings.$next_tip.show();}
if(!/body/i.test(this.settings.$target.selector)){if(this.top()){this.settings.$next_tip.offset({top:this.settings.$target.offset().top-tip_height-nub_height});$nub.addClass('bottom');}else{this.settings.$next_tip.offset({top:this.settings.$target.offset().top+target_height+nub_height});$nub.addClass('top');}}else if(this.settings.$li.length){this.pos_modal($nub);}
if(toggle){this.settings.$next_tip.hide();this.settings.$next_tip.css('visibility','visible');}},pos_modal:function($nub){this.center();$nub.hide();this.show_modal();},show_modal:function(){if(!this.settings.$next_tip.data('closed')){var joyridemodalbg=$('.joyride-modal-bg');if(joyridemodalbg.length<1){var joyridemodalbg=$(this.settings.template.modal);joyridemodalbg.appendTo('body');}
if(/pop/i.test(this.settings.tip_animation)){joyridemodalbg.show();}else{joyridemodalbg.fadeIn(this.settings.tip_animation_fade_speed);}}},expose:function(){var expose,exposeCover,el,origCSS,origClasses,randId='expose-'+this.random_str(6);if(arguments.length>0&&arguments[0]instanceof $){el=arguments[0];}else if(this.settings.$target&&!/body/i.test(this.settings.$target.selector)){el=this.settings.$target;}else{return false;}
if(el.length<1){if(window.console){console.error('element not valid',el);}
return false;}
expose=$(this.settings.template.expose);this.settings.$body.append(expose);expose.css({top:el.offset().top,left:el.offset().left,width:el.outerWidth(true),height:el.outerHeight(true)});exposeCover=$(this.settings.template.expose_cover);origCSS={zIndex:el.css('z-index'),position:el.css('position')};origClasses=el.attr('class')==null?'':el.attr('class');el.css('z-index',parseInt(expose.css('z-index'))+1);if(origCSS.position=='static'){el.css('position','relative');}
el.data('expose-css',origCSS);el.data('orig-class',origClasses);el.attr('class',origClasses+' '+this.settings.expose_add_class);exposeCover.css({top:el.offset().top,left:el.offset().left,width:el.outerWidth(true),height:el.outerHeight(true)});if(this.settings.modal){this.show_modal();}
this.settings.$body.append(exposeCover);expose.addClass(randId);exposeCover.addClass(randId);el.data('expose',randId);this.settings.post_expose_callback(this.settings.$li.index(),this.settings.$next_tip,el);this.add_exposed(el);},un_expose:function(){var exposeId,el,expose,origCSS,origClasses,clearAll=false;if(arguments.length>0&&arguments[0]instanceof $){el=arguments[0];}else if(this.settings.$target&&!/body/i.test(this.settings.$target.selector)){el=this.settings.$target;}else{return false;}
if(el.length<1){if(window.console){console.error('element not valid',el);}
return false;}
exposeId=el.data('expose');expose=$('.'+exposeId);if(arguments.length>1){clearAll=arguments[1];}
if(clearAll===true){$('.joyride-expose-wrapper,.joyride-expose-cover').remove();}else{expose.remove();}
origCSS=el.data('expose-css');if(origCSS.zIndex=='auto'){el.css('z-index','');}else{el.css('z-index',origCSS.zIndex);}
if(origCSS.position!=el.css('position')){if(origCSS.position=='static'){el.css('position','');}else{el.css('position',origCSS.position);}}
origClasses=el.data('orig-class');el.attr('class',origClasses);el.removeData('orig-classes');el.removeData('expose');el.removeData('expose-z-index');this.remove_exposed(el);},add_exposed:function(el){this.settings.exposed=this.settings.exposed||[];if(el instanceof $||typeof el==='object'){this.settings.exposed.push(el[0]);}else if(typeof el=='string'){this.settings.exposed.push(el);}},remove_exposed:function(el){var search,i;if(el instanceof $){search=el[0]}else if(typeof el=='string'){search=el;}
this.settings.exposed=this.settings.exposed||[];i=this.settings.exposed.length;while(i--){if(this.settings.exposed[i]==search){this.settings.exposed.splice(i,1);return;}}},center:function(){var $w=$(window);this.settings.$next_tip.css({top:((($w.height()-this.settings.$next_tip.outerHeight())/2)+$w.scrollTop()),left:((($w.width()-this.settings.$next_tip.outerWidth())/2)+$w.scrollLeft())});return true;},bottom:function(){return /bottom/i.test(this.settings.tip_settings.tip_location);},top:function(){return /top/i.test(this.settings.tip_settings.tip_location);},right:function(){return /right/i.test(this.settings.tip_settings.tip_location);},left:function(){return /left/i.test(this.settings.tip_settings.tip_location);},corners:function(el){var w=$(window),window_half=w.height()/2,tipOffset=Math.ceil(this.settings.$target.offset().top-window_half+this.settings.$next_tip.outerHeight()),right=w.width()+w.scrollLeft(),offsetBottom=w.height()+tipOffset,bottom=w.height()+w.scrollTop(),top=w.scrollTop();if(tipOffset<top){if(tipOffset<0){top=0;}else{top=tipOffset;}}
if(offsetBottom>bottom){bottom=offsetBottom;}
return[el.offset().top<top,right<el.offset().left+el.outerWidth(),bottom<el.offset().top+el.outerHeight(),w.scrollLeft()>el.offset().left];},visible:function(hidden_corners){var i=hidden_corners.length;while(i--){if(hidden_corners[i]){return false;}}
return true;},nub_position:function(nub,pos,def){if(pos==='auto'){nub.addClass(def);}else{nub.addClass(pos);}},startTimer:function(){if(this.settings.$li.length){this.settings.automate=setTimeout(function(){this.hide();this.show();this.startTimer();}.bind(this),this.settings.timer);}else{clearTimeout(this.settings.automate);}},end:function(abort){if(this.settings.cookie_monster){$.cookie(this.settings.cookie_name,'ridden',{expires:this.settings.cookie_expires,domain:this.settings.cookie_domain});}
if(this.settings.timer>0){clearTimeout(this.settings.automate);}
if(this.settings.modal&&this.settings.expose){this.un_expose();}
$(this.scope).off('keyup.joyride')
this.settings.$next_tip.data('closed',true);this.settings.riding=false;$('.joyride-modal-bg').hide();this.settings.$current_tip.hide();if(typeof abort==='undefined'||abort===false){this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip);this.settings.post_ride_callback(this.settings.$li.index(),this.settings.$current_tip);}
$('.joyride-tip-guide').remove();},off:function(){$(this.scope).off('.joyride');$(window).off('.joyride');$('.joyride-close-tip, .joyride-next-tip, .joyride-modal-bg').off('.joyride');$('.joyride-tip-guide, .joyride-modal-bg').remove();clearTimeout(this.settings.automate);this.settings={};},reflow:function(){}};}(jQuery,window,window.document));;(function($,window,document,undefined){'use strict';Foundation.libs['magellan-expedition']={name:'magellan-expedition',version:'5.5.2',settings:{active_class:'active',threshold:0,destination_threshold:20,throttle_delay:30,fixed_top:0,offset_by_height:true,duration:700,easing:'swing'},init:function(scope,method,options){Foundation.inherit(this,'throttle');this.bindings(method,options);},events:function(){var self=this,S=self.S,settings=self.settings;self.set_expedition_position();S(self.scope).off('.magellan').on('click.fndtn.magellan','['+self.add_namespace('data-magellan-arrival')+'] a[href*=#]',function(e){var sameHost=((this.hostname===location.hostname)||!this.hostname),samePath=self.filterPathname(location.pathname)===self.filterPathname(this.pathname),testHash=this.hash.replace(/(:|\.|\/)/g,'\\$1'),anchor=this;if(sameHost&&samePath&&testHash){e.preventDefault();var expedition=$(this).closest('['+self.attr_name()+']'),settings=expedition.data('magellan-expedition-init'),hash=this.hash.split('#').join(''),target=$('a[name="'+hash+'"]');if(target.length===0){target=$('#'+hash);}
var scroll_top=target.offset().top-settings.destination_threshold+1;if(settings.offset_by_height){scroll_top=scroll_top-expedition.outerHeight();}
$('html, body').stop().animate({'scrollTop':scroll_top},settings.duration,settings.easing,function(){if(history.pushState){history.pushState(null,null,anchor.pathname+'#'+hash);}
else{location.hash=anchor.pathname+'#'+hash;}});}}).on('scroll.fndtn.magellan',self.throttle(this.check_for_arrivals.bind(this),settings.throttle_delay));},check_for_arrivals:function(){var self=this;self.update_arrivals();self.update_expedition_positions();},set_expedition_position:function(){var self=this;$('['+this.attr_name()+'=fixed]',self.scope).each(function(idx,el){var expedition=$(this),settings=expedition.data('magellan-expedition-init'),styles=expedition.attr('styles'),top_offset,fixed_top;expedition.attr('style','');top_offset=expedition.offset().top+settings.threshold;fixed_top=parseInt(expedition.data('magellan-fixed-top'));if(!isNaN(fixed_top)){self.settings.fixed_top=fixed_top;}
expedition.data(self.data_attr('magellan-top-offset'),top_offset);expedition.attr('style',styles);});},update_expedition_positions:function(){var self=this,window_top_offset=$(window).scrollTop();$('['+this.attr_name()+'=fixed]',self.scope).each(function(){var expedition=$(this),settings=expedition.data('magellan-expedition-init'),styles=expedition.attr('style'),top_offset=expedition.data('magellan-top-offset');if(window_top_offset+self.settings.fixed_top>=top_offset){var placeholder=expedition.prev('['+self.add_namespace('data-magellan-expedition-clone')+']');if(placeholder.length===0){placeholder=expedition.clone();placeholder.removeAttr(self.attr_name());placeholder.attr(self.add_namespace('data-magellan-expedition-clone'),'');expedition.before(placeholder);}
expedition.css({position:'fixed',top:settings.fixed_top}).addClass('fixed');}else{expedition.prev('['+self.add_namespace('data-magellan-expedition-clone')+']').remove();expedition.attr('style',styles).css('position','').css('top','').removeClass('fixed');}});},update_arrivals:function(){var self=this,window_top_offset=$(window).scrollTop();$('['+this.attr_name()+']',self.scope).each(function(){var expedition=$(this),settings=expedition.data(self.attr_name(true)+'-init'),offsets=self.offsets(expedition,window_top_offset),arrivals=expedition.find('['+self.add_namespace('data-magellan-arrival')+']'),active_item=false;offsets.each(function(idx,item){if(item.viewport_offset>=item.top_offset){var arrivals=expedition.find('['+self.add_namespace('data-magellan-arrival')+']');arrivals.not(item.arrival).removeClass(settings.active_class);item.arrival.addClass(settings.active_class);active_item=true;return true;}});if(!active_item){arrivals.removeClass(settings.active_class);}});},offsets:function(expedition,window_offset){var self=this,settings=expedition.data(self.attr_name(true)+'-init'),viewport_offset=window_offset;return expedition.find('['+self.add_namespace('data-magellan-arrival')+']').map(function(idx,el){var name=$(this).data(self.data_attr('magellan-arrival')),dest=$('['+self.add_namespace('data-magellan-destination')+'='+name+']');if(dest.length>0){var top_offset=dest.offset().top-settings.destination_threshold;if(settings.offset_by_height){top_offset=top_offset-expedition.outerHeight();}
top_offset=Math.floor(top_offset);return{destination:dest,arrival:$(this),top_offset:top_offset,viewport_offset:viewport_offset}}}).sort(function(a,b){if(a.top_offset<b.top_offset){return-1;}
if(a.top_offset>b.top_offset){return 1;}
return 0;});},data_attr:function(str){if(this.namespace.length>0){return this.namespace+'-'+str;}
return str;},off:function(){this.S(this.scope).off('.magellan');this.S(window).off('.magellan');},filterPathname:function(pathname){pathname=pathname||'';return pathname.replace(/^\//,'').replace(/(?:index|default).[a-zA-Z]{3,4}$/,'').replace(/\/$/,'');},reflow:function(){var self=this;$('['+self.add_namespace('data-magellan-expedition-clone')+']',self.scope).remove();}};}(jQuery,window,window.document));;(function($,window,document,undefined){'use strict';Foundation.libs.offcanvas={name:'offcanvas',version:'5.5.2',settings:{open_method:'move',close_on_click:false},init:function(scope,method,options){this.bindings(method,options);},events:function(){var self=this,S=self.S,move_class='',right_postfix='',left_postfix='';if(this.settings.open_method==='move'){move_class='move-';right_postfix='right';left_postfix='left';}else if(this.settings.open_method==='overlap_single'){move_class='offcanvas-overlap-';right_postfix='right';left_postfix='left';}else if(this.settings.open_method==='overlap'){move_class='offcanvas-overlap';}
S(this.scope).off('.offcanvas').on('click.fndtn.offcanvas','.left-off-canvas-toggle',function(e){self.click_toggle_class(e,move_class+right_postfix);if(self.settings.open_method!=='overlap'){S('.left-submenu').removeClass(move_class+right_postfix);}
$('.left-off-canvas-toggle').attr('aria-expanded','true');}).on('click.fndtn.offcanvas','.left-off-canvas-menu a',function(e){var settings=self.get_settings(e);var parent=S(this).parent();if(settings.close_on_click&&!parent.hasClass('has-submenu')&&!parent.hasClass('back')){self.hide.call(self,move_class+right_postfix,self.get_wrapper(e));parent.parent().removeClass(move_class+right_postfix);}else if(S(this).parent().hasClass('has-submenu')){e.preventDefault();S(this).siblings('.left-submenu').toggleClass(move_class+right_postfix);}else if(parent.hasClass('back')){e.preventDefault();parent.parent().removeClass(move_class+right_postfix);}
$('.left-off-canvas-toggle').attr('aria-expanded','true');}).on('click.fndtn.offcanvas','.right-off-canvas-toggle',function(e){self.click_toggle_class(e,move_class+left_postfix);if(self.settings.open_method!=='overlap'){S('.right-submenu').removeClass(move_class+left_postfix);}
$('.right-off-canvas-toggle').attr('aria-expanded','true');}).on('click.fndtn.offcanvas','.right-off-canvas-menu a',function(e){var settings=self.get_settings(e);var parent=S(this).parent();if(settings.close_on_click&&!parent.hasClass('has-submenu')&&!parent.hasClass('back')){self.hide.call(self,move_class+left_postfix,self.get_wrapper(e));parent.parent().removeClass(move_class+left_postfix);}else if(S(this).parent().hasClass('has-submenu')){e.preventDefault();S(this).siblings('.right-submenu').toggleClass(move_class+left_postfix);}else if(parent.hasClass('back')){e.preventDefault();parent.parent().removeClass(move_class+left_postfix);}
$('.right-off-canvas-toggle').attr('aria-expanded','true');}).on('click.fndtn.offcanvas','.exit-off-canvas',function(e){self.click_remove_class(e,move_class+left_postfix);S('.right-submenu').removeClass(move_class+left_postfix);if(right_postfix){self.click_remove_class(e,move_class+right_postfix);S('.left-submenu').removeClass(move_class+left_postfix);}
$('.right-off-canvas-toggle').attr('aria-expanded','true');}).on('click.fndtn.offcanvas','.exit-off-canvas',function(e){self.click_remove_class(e,move_class+left_postfix);$('.left-off-canvas-toggle').attr('aria-expanded','false');if(right_postfix){self.click_remove_class(e,move_class+right_postfix);$('.right-off-canvas-toggle').attr('aria-expanded','false');}});},toggle:function(class_name,$off_canvas){$off_canvas=$off_canvas||this.get_wrapper();if($off_canvas.is('.'+class_name)){this.hide(class_name,$off_canvas);}else{this.show(class_name,$off_canvas);}},show:function(class_name,$off_canvas){$off_canvas=$off_canvas||this.get_wrapper();$off_canvas.trigger('open.fndtn.offcanvas');$off_canvas.addClass(class_name);},hide:function(class_name,$off_canvas){$off_canvas=$off_canvas||this.get_wrapper();$off_canvas.trigger('close.fndtn.offcanvas');$off_canvas.removeClass(class_name);},click_toggle_class:function(e,class_name){e.preventDefault();var $off_canvas=this.get_wrapper(e);this.toggle(class_name,$off_canvas);},click_remove_class:function(e,class_name){e.preventDefault();var $off_canvas=this.get_wrapper(e);this.hide(class_name,$off_canvas);},get_settings:function(e){var offcanvas=this.S(e.target).closest('['+this.attr_name()+']');return offcanvas.data(this.attr_name(true)+'-init')||this.settings;},get_wrapper:function(e){var $off_canvas=this.S(e?e.target:this.scope).closest('.off-canvas-wrap');if($off_canvas.length===0){$off_canvas=this.S('.off-canvas-wrap');}
return $off_canvas;},reflow:function(){}};}(jQuery,window,window.document));;(function($,window,document,undefined){'use strict';Foundation.libs.reveal={name:'reveal',version:'5.5.2',locked:false,settings:{animation:'fadeAndPop',animation_speed:250,close_on_background_click:true,close_on_esc:true,dismiss_modal_class:'close-reveal-modal',multiple_opened:false,bg_class:'reveal-modal-bg',root_element:'body',open:function(){},opened:function(){},close:function(){},closed:function(){},on_ajax_error:$.noop,bg:$('.reveal-modal-bg'),css:{open:{'opacity':0,'visibility':'visible','display':'block'},close:{'opacity':1,'visibility':'hidden','display':'none'}}},init:function(scope,method,options){$.extend(true,this.settings,method,options);this.bindings(method,options);},events:function(scope){var self=this,S=self.S;S(this.scope).off('.reveal').on('click.fndtn.reveal','['+this.add_namespace('data-reveal-id')+']:not([disabled])',function(e){e.preventDefault();if(!self.locked){var element=S(this),ajax=element.data(self.data_attr('reveal-ajax')),replaceContentSel=element.data(self.data_attr('reveal-replace-content'));self.locked=true;if(typeof ajax==='undefined'){self.open.call(self,element);}else{var url=ajax===true?element.attr('href'):ajax;self.open.call(self,element,{url:url},{replaceContentSel:replaceContentSel});}}});S(document).on('click.fndtn.reveal',this.close_targets(),function(e){e.preventDefault();if(!self.locked){var settings=S('['+self.attr_name()+'].open').data(self.attr_name(true)+'-init')||self.settings,bg_clicked=S(e.target)[0]===S('.'+settings.bg_class)[0];if(bg_clicked){if(settings.close_on_background_click){e.stopPropagation();}else{return;}}
self.locked=true;self.close.call(self,bg_clicked?S('['+self.attr_name()+'].open:not(.toback)'):S(this).closest('['+self.attr_name()+']'));}});if(S('['+self.attr_name()+']',this.scope).length>0){S(this.scope).on('open.fndtn.reveal',this.settings.open).on('opened.fndtn.reveal',this.settings.opened).on('opened.fndtn.reveal',this.open_video).on('close.fndtn.reveal',this.settings.close).on('closed.fndtn.reveal',this.settings.closed).on('closed.fndtn.reveal',this.close_video);}else{S(this.scope).on('open.fndtn.reveal','['+self.attr_name()+']',this.settings.open).on('opened.fndtn.reveal','['+self.attr_name()+']',this.settings.opened).on('opened.fndtn.reveal','['+self.attr_name()+']',this.open_video).on('close.fndtn.reveal','['+self.attr_name()+']',this.settings.close).on('closed.fndtn.reveal','['+self.attr_name()+']',this.settings.closed).on('closed.fndtn.reveal','['+self.attr_name()+']',this.close_video);}
return true;},key_up_on:function(scope){var self=this;self.S('body').off('keyup.fndtn.reveal').on('keyup.fndtn.reveal',function(event){var open_modal=self.S('['+self.attr_name()+'].open'),settings=open_modal.data(self.attr_name(true)+'-init')||self.settings;if(settings&&event.which===27&&settings.close_on_esc&&!self.locked){self.close.call(self,open_modal);}});return true;},key_up_off:function(scope){this.S('body').off('keyup.fndtn.reveal');return true;},open:function(target,ajax_settings){var self=this,modal;if(target){if(typeof target.selector!=='undefined'){modal=self.S('#'+target.data(self.data_attr('reveal-id'))).first();}else{modal=self.S(this.scope);ajax_settings=target;}}else{modal=self.S(this.scope);}
var settings=modal.data(self.attr_name(true)+'-init');settings=settings||this.settings;if(modal.hasClass('open')&&target.attr('data-reveal-id')==modal.attr('id')){return self.close(modal);}
if(!modal.hasClass('open')){var open_modal=self.S('['+self.attr_name()+'].open');if(typeof modal.data('css-top')==='undefined'){modal.data('css-top',parseInt(modal.css('top'),10)).data('offset',this.cache_offset(modal));}
modal.attr('tabindex','0').attr('aria-hidden','false');this.key_up_on(modal);modal.on('open.fndtn.reveal',function(e){if(e.namespace!=='fndtn.reveal')return;});modal.on('open.fndtn.reveal').trigger('open.fndtn.reveal');if(open_modal.length<1){this.toggle_bg(modal,true);}
if(typeof ajax_settings==='string'){ajax_settings={url:ajax_settings};}
if(typeof ajax_settings==='undefined'||!ajax_settings.url){if(open_modal.length>0){if(settings.multiple_opened){self.to_back(open_modal);}else{self.hide(open_modal,settings.css.close);}}
this.show(modal,settings.css.open);}else{var old_success=typeof ajax_settings.success!=='undefined'?ajax_settings.success:null;$.extend(ajax_settings,{success:function(data,textStatus,jqXHR){if($.isFunction(old_success)){var result=old_success(data,textStatus,jqXHR);if(typeof result=='string'){data=result;}}
if(typeof options!=='undefined'&&typeof options.replaceContentSel!=='undefined'){modal.find(options.replaceContentSel).html(data);}else{modal.html(data);}
self.S(modal).foundation('section','reflow');self.S(modal).children().foundation();if(open_modal.length>0){if(settings.multiple_opened){self.to_back(open_modal);}else{self.hide(open_modal,settings.css.close);}}
self.show(modal,settings.css.open);}});if(settings.on_ajax_error!==$.noop){$.extend(ajax_settings,{error:settings.on_ajax_error});}
$.ajax(ajax_settings);}}
self.S(window).trigger('resize');},close:function(modal){var modal=modal&&modal.length?modal:this.S(this.scope),open_modals=this.S('['+this.attr_name()+'].open'),settings=modal.data(this.attr_name(true)+'-init')||this.settings,self=this;if(open_modals.length>0){modal.removeAttr('tabindex','0').attr('aria-hidden','true');this.locked=true;this.key_up_off(modal);modal.trigger('close.fndtn.reveal');if((settings.multiple_opened&&open_modals.length===1)||!settings.multiple_opened||modal.length>1){self.toggle_bg(modal,false);self.to_front(modal);}
if(settings.multiple_opened){self.hide(modal,settings.css.close,settings);self.to_front($($.makeArray(open_modals).reverse()[1]));}else{self.hide(open_modals,settings.css.close,settings);}}},close_targets:function(){var base='.'+this.settings.dismiss_modal_class;if(this.settings.close_on_background_click){return base+', .'+this.settings.bg_class;}
return base;},toggle_bg:function(modal,state){if(this.S('.'+this.settings.bg_class).length===0){this.settings.bg=$('<div />',{'class':this.settings.bg_class}).appendTo('body').hide();}
var visible=this.settings.bg.filter(':visible').length>0;if(state!=visible){if(state==undefined?visible:!state){this.hide(this.settings.bg);}else{this.show(this.settings.bg);}}},show:function(el,css){if(css){var settings=el.data(this.attr_name(true)+'-init')||this.settings,root_element=settings.root_element,context=this;if(el.parent(root_element).length===0){var placeholder=el.wrap('<div style="display: none;" />').parent();el.on('closed.fndtn.reveal.wrapped',function(){el.detach().appendTo(placeholder);el.unwrap().unbind('closed.fndtn.reveal.wrapped');});el.detach().appendTo(root_element);}
var animData=getAnimationData(settings.animation);if(!animData.animate){this.locked=false;}
if(animData.pop){css.top=$(window).scrollTop()-el.data('offset')+'px';var end_css={top:$(window).scrollTop()+el.data('css-top')+'px',opacity:1};return setTimeout(function(){return el.css(css).animate(end_css,settings.animation_speed,'linear',function(){context.locked=false;el.trigger('opened.fndtn.reveal');}).addClass('open');},settings.animation_speed/2);}
if(animData.fade){css.top=$(window).scrollTop()+el.data('css-top')+'px';var end_css={opacity:1};return setTimeout(function(){return el.css(css).animate(end_css,settings.animation_speed,'linear',function(){context.locked=false;el.trigger('opened.fndtn.reveal');}).addClass('open');},settings.animation_speed/2);}
return el.css(css).show().css({opacity:1}).addClass('open').trigger('opened.fndtn.reveal');}
var settings=this.settings;if(getAnimationData(settings.animation).fade){return el.fadeIn(settings.animation_speed/2);}
this.locked=false;return el.show();},to_back:function(el){el.addClass('toback');},to_front:function(el){el.removeClass('toback');},hide:function(el,css){if(css){var settings=el.data(this.attr_name(true)+'-init'),context=this;settings=settings||this.settings;var animData=getAnimationData(settings.animation);if(!animData.animate){this.locked=false;}
if(animData.pop){var end_css={top:-$(window).scrollTop()-el.data('offset')+'px',opacity:0};return setTimeout(function(){return el.animate(end_css,settings.animation_speed,'linear',function(){context.locked=false;el.css(css).trigger('closed.fndtn.reveal');}).removeClass('open');},settings.animation_speed/2);}
if(animData.fade){var end_css={opacity:0};return setTimeout(function(){return el.animate(end_css,settings.animation_speed,'linear',function(){context.locked=false;el.css(css).trigger('closed.fndtn.reveal');}).removeClass('open');},settings.animation_speed/2);}
return el.hide().css(css).removeClass('open').trigger('closed.fndtn.reveal');}
var settings=this.settings;if(getAnimationData(settings.animation).fade){return el.fadeOut(settings.animation_speed/2);}
return el.hide();},close_video:function(e){var video=$('.flex-video',e.target),iframe=$('iframe',video);if(iframe.length>0){iframe.attr('data-src',iframe[0].src);iframe.attr('src',iframe.attr('src'));video.hide();}},open_video:function(e){var video=$('.flex-video',e.target),iframe=video.find('iframe');if(iframe.length>0){var data_src=iframe.attr('data-src');if(typeof data_src==='string'){iframe[0].src=iframe.attr('data-src');}else{var src=iframe[0].src;iframe[0].src=undefined;iframe[0].src=src;}
video.show();}},data_attr:function(str){if(this.namespace.length>0){return this.namespace+'-'+str;}
return str;},cache_offset:function(modal){var offset=modal.show().height()+parseInt(modal.css('top'),10)+modal.scrollY;modal.hide();return offset;},off:function(){$(this.scope).off('.fndtn.reveal');},reflow:function(){}};function getAnimationData(str){var fade=/fade/i.test(str);var pop=/pop/i.test(str);return{animate:fade||pop,pop:pop,fade:fade};}}(jQuery,window,window.document));;(function($,window,document,undefined){'use strict';Foundation.libs.slider={name:'slider',version:'5.5.2',settings:{start:0,end:100,step:1,precision:null,initial:null,display_selector:'',vertical:false,trigger_input_change:false,on_change:function(){}},cache:{},init:function(scope,method,options){Foundation.inherit(this,'throttle');this.bindings(method,options);this.reflow();},events:function(){var self=this;$(this.scope).off('.slider').on('mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider','['+self.attr_name()+']:not(.disabled, [disabled]) .range-slider-handle',function(e){if(!self.cache.active){e.preventDefault();self.set_active_slider($(e.target));}}).on('mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider',function(e){if(!!self.cache.active){e.preventDefault();if($.data(self.cache.active[0],'settings').vertical){var scroll_offset=0;if(!e.pageY){scroll_offset=window.scrollY;}
self.calculate_position(self.cache.active,self.get_cursor_position(e,'y')+scroll_offset);}else{self.calculate_position(self.cache.active,self.get_cursor_position(e,'x'));}}}).on('mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider',function(e){self.remove_active_slider();}).on('change.fndtn.slider',function(e){self.settings.on_change();});self.S(window).on('resize.fndtn.slider',self.throttle(function(e){self.reflow();},300));this.S('['+this.attr_name()+']').each(function(){var slider=$(this),handle=slider.children('.range-slider-handle')[0],settings=self.initialize_settings(handle);if(settings.display_selector!=''){$(settings.display_selector).each(function(){if(this.hasOwnProperty('value')){$(this).change(function(){slider.foundation("slider","set_value",$(this).val());});}});}});},get_cursor_position:function(e,xy){var pageXY='page'+xy.toUpperCase(),clientXY='client'+xy.toUpperCase(),position;if(typeof e[pageXY]!=='undefined'){position=e[pageXY];}else if(typeof e.originalEvent[clientXY]!=='undefined'){position=e.originalEvent[clientXY];}else if(e.originalEvent.touches&&e.originalEvent.touches[0]&&typeof e.originalEvent.touches[0][clientXY]!=='undefined'){position=e.originalEvent.touches[0][clientXY];}else if(e.currentPoint&&typeof e.currentPoint[xy]!=='undefined'){position=e.currentPoint[xy];}
return position;},set_active_slider:function($handle){this.cache.active=$handle;},remove_active_slider:function(){this.cache.active=null;},calculate_position:function($handle,cursor_x){var self=this,settings=$.data($handle[0],'settings'),handle_l=$.data($handle[0],'handle_l'),handle_o=$.data($handle[0],'handle_o'),bar_l=$.data($handle[0],'bar_l'),bar_o=$.data($handle[0],'bar_o');requestAnimationFrame(function(){var pct;if(Foundation.rtl&&!settings.vertical){pct=self.limit_to(((bar_o+bar_l-cursor_x)/bar_l),0,1);}else{pct=self.limit_to(((cursor_x-bar_o)/bar_l),0,1);}
pct=settings.vertical?1-pct:pct;var norm=self.normalized_value(pct,settings.start,settings.end,settings.step,settings.precision);self.set_ui($handle,norm);});},set_ui:function($handle,value){var settings=$.data($handle[0],'settings'),handle_l=$.data($handle[0],'handle_l'),bar_l=$.data($handle[0],'bar_l'),norm_pct=this.normalized_percentage(value,settings.start,settings.end),handle_offset=norm_pct*(bar_l-handle_l)-1,progress_bar_length=norm_pct*100,$handle_parent=$handle.parent(),$hidden_inputs=$handle.parent().children('input[type=hidden]');if(Foundation.rtl&&!settings.vertical){handle_offset=-handle_offset;}
handle_offset=settings.vertical?-handle_offset+bar_l-handle_l+1:handle_offset;this.set_translate($handle,handle_offset,settings.vertical);if(settings.vertical){$handle.siblings('.range-slider-active-segment').css('height',progress_bar_length+'%');}else{$handle.siblings('.range-slider-active-segment').css('width',progress_bar_length+'%');}
$handle_parent.attr(this.attr_name(),value).trigger('change.fndtn.slider');$hidden_inputs.val(value);if(settings.trigger_input_change){$hidden_inputs.trigger('change.fndtn.slider');}
if(!$handle[0].hasAttribute('aria-valuemin')){$handle.attr({'aria-valuemin':settings.start,'aria-valuemax':settings.end});}
$handle.attr('aria-valuenow',value);if(settings.display_selector!=''){$(settings.display_selector).each(function(){if(this.hasAttribute('value')){$(this).val(value);}else{$(this).text(value);}});}},normalized_percentage:function(val,start,end){return Math.min(1,(val-start)/(end-start));},normalized_value:function(val,start,end,step,precision){var range=end-start,point=val*range,mod=(point-(point%step))/step,rem=point%step,round=(rem>=step*0.5?step:0);return((mod*step+round)+start).toFixed(precision);},set_translate:function(ele,offset,vertical){if(vertical){$(ele).css('-webkit-transform','translateY('+offset+'px)').css('-moz-transform','translateY('+offset+'px)').css('-ms-transform','translateY('+offset+'px)').css('-o-transform','translateY('+offset+'px)').css('transform','translateY('+offset+'px)');}else{$(ele).css('-webkit-transform','translateX('+offset+'px)').css('-moz-transform','translateX('+offset+'px)').css('-ms-transform','translateX('+offset+'px)').css('-o-transform','translateX('+offset+'px)').css('transform','translateX('+offset+'px)');}},limit_to:function(val,min,max){return Math.min(Math.max(val,min),max);},initialize_settings:function(handle){var settings=$.extend({},this.settings,this.data_options($(handle).parent())),decimal_places_match_result;if(settings.precision===null){decimal_places_match_result=(''+settings.step).match(/\.([\d]*)/);settings.precision=decimal_places_match_result&&decimal_places_match_result[1]?decimal_places_match_result[1].length:0;}
if(settings.vertical){$.data(handle,'bar_o',$(handle).parent().offset().top);$.data(handle,'bar_l',$(handle).parent().outerHeight());$.data(handle,'handle_o',$(handle).offset().top);$.data(handle,'handle_l',$(handle).outerHeight());}else{$.data(handle,'bar_o',$(handle).parent().offset().left);$.data(handle,'bar_l',$(handle).parent().outerWidth());$.data(handle,'handle_o',$(handle).offset().left);$.data(handle,'handle_l',$(handle).outerWidth());}
$.data(handle,'bar',$(handle).parent());return $.data(handle,'settings',settings);},set_initial_position:function($ele){var settings=$.data($ele.children('.range-slider-handle')[0],'settings'),initial=((typeof settings.initial=='number'&&!isNaN(settings.initial))?settings.initial:Math.floor((settings.end-settings.start)*0.5/settings.step)*settings.step+settings.start),$handle=$ele.children('.range-slider-handle');this.set_ui($handle,initial);},set_value:function(value){var self=this;$('['+self.attr_name()+']',this.scope).each(function(){$(this).attr(self.attr_name(),value);});if(!!$(this.scope).attr(self.attr_name())){$(this.scope).attr(self.attr_name(),value);}
self.reflow();},reflow:function(){var self=this;self.S('['+this.attr_name()+']').each(function(){var handle=$(this).children('.range-slider-handle')[0],val=$(this).attr(self.attr_name());self.initialize_settings(handle);if(val){self.set_ui($(handle),parseFloat(val));}else{self.set_initial_position($(this));}});}};}(jQuery,window,window.document));;(function($,window,document,undefined){'use strict';Foundation.libs.tab={name:'tab',version:'5.5.2',settings:{active_class:'active',callback:function(){},deep_linking:false,scroll_to_content:true,is_hover:false},default_tab_hashes:[],init:function(scope,method,options){var self=this,S=this.S;S('['+this.attr_name()+'] > .active > a',this.scope).each(function(){self.default_tab_hashes.push(this.hash);});self.entry_location=window.location.href;this.bindings(method,options);this.handle_location_hash_change();},events:function(){var self=this,S=this.S;var usual_tab_behavior=function(e,target){var settings=S(target).closest('['+self.attr_name()+']').data(self.attr_name(true)+'-init');if(!settings.is_hover||Modernizr.touch){e.preventDefault();e.stopPropagation();self.toggle_active_tab(S(target).parent());}};S(this.scope).off('.tab').on('keydown.fndtn.tab','['+this.attr_name()+'] > * > a',function(e){var el=this;var keyCode=e.keyCode||e.which;if(keyCode==9){e.preventDefault();usual_tab_behavior(e,el);}}).on('click.fndtn.tab','['+this.attr_name()+'] > * > a',function(e){var el=this;usual_tab_behavior(e,el);}).on('mouseenter.fndtn.tab','['+this.attr_name()+'] > * > a',function(e){var settings=S(this).closest('['+self.attr_name()+']').data(self.attr_name(true)+'-init');if(settings.is_hover){self.toggle_active_tab(S(this).parent());}});S(window).on('hashchange.fndtn.tab',function(e){e.preventDefault();self.handle_location_hash_change();});},handle_location_hash_change:function(){var self=this,S=this.S;S('['+this.attr_name()+']',this.scope).each(function(){var settings=S(this).data(self.attr_name(true)+'-init');if(settings.deep_linking){var hash;if(settings.scroll_to_content){hash=self.scope.location.hash;}else{hash=self.scope.location.hash.replace('fndtn-','');}
if(hash!=''){var hash_element=S(hash);if(hash_element.hasClass('content')&&hash_element.parent().hasClass('tabs-content')){self.toggle_active_tab($('['+self.attr_name()+'] > * > a[href='+hash+']').parent());}else{var hash_tab_container_id=hash_element.closest('.content').attr('id');if(hash_tab_container_id!=undefined){self.toggle_active_tab($('['+self.attr_name()+'] > * > a[href=#'+hash_tab_container_id+']').parent(),hash);}}}else{for(var ind=0;ind<self.default_tab_hashes.length;ind++){self.toggle_active_tab($('['+self.attr_name()+'] > * > a[href='+self.default_tab_hashes[ind]+']').parent());}}}});},toggle_active_tab:function(tab,location_hash){var self=this,S=self.S,tabs=tab.closest('['+this.attr_name()+']'),tab_link=tab.find('a'),anchor=tab.children('a').first(),target_hash='#'+anchor.attr('href').split('#')[1],target=S(target_hash),siblings=tab.siblings(),settings=tabs.data(this.attr_name(true)+'-init'),interpret_keyup_action=function(e){var $original=$(this);var $prev=$(this).parents('li').prev().children('[role="tab"]');var $next=$(this).parents('li').next().children('[role="tab"]');var $target;switch(e.keyCode){case 37:$target=$prev;break;case 39:$target=$next;break;default:$target=false
break;}
if($target.length){$original.attr({'tabindex':'-1','aria-selected':null});$target.attr({'tabindex':'0','aria-selected':true}).focus();}
$('[role="tabpanel"]').attr('aria-hidden','true');$('#'+$(document.activeElement).attr('href').substring(1)).attr('aria-hidden',null);},go_to_hash=function(hash){var is_entry_location=window.location.href===self.entry_location,default_hash=settings.scroll_to_content?self.default_tab_hashes[0]:is_entry_location?window.location.hash:'fndtn-'+self.default_tab_hashes[0].replace('#','')
if(!(is_entry_location&&hash===default_hash)){window.location.hash=hash;}};if(anchor.data('tab-content')){target_hash='#'+anchor.data('tab-content').split('#')[1];target=S(target_hash);}
if(settings.deep_linking){if(settings.scroll_to_content){go_to_hash(location_hash||target_hash);if(location_hash==undefined||location_hash==target_hash){tab.parent()[0].scrollIntoView();}else{S(target_hash)[0].scrollIntoView();}}else{if(location_hash!=undefined){go_to_hash('fndtn-'+location_hash.replace('#',''));}else{go_to_hash('fndtn-'+target_hash.replace('#',''));}}}
tab.addClass(settings.active_class).triggerHandler('opened');tab_link.attr({'aria-selected':'true',tabindex:0});siblings.removeClass(settings.active_class)
siblings.find('a').attr({'aria-selected':'false',tabindex:-1});target.siblings().removeClass(settings.active_class).attr({'aria-hidden':'true',tabindex:-1});target.addClass(settings.active_class).attr('aria-hidden','false').removeAttr('tabindex');settings.callback(tab);target.triggerHandler('toggled',[target]);tabs.triggerHandler('toggled',[tab]);tab_link.off('keydown').on('keydown',interpret_keyup_action);},data_attr:function(str){if(this.namespace.length>0){return this.namespace+'-'+str;}
return str;},off:function(){},reflow:function(){}};}(jQuery,window,window.document));;(function($,window,document,undefined){'use strict';Foundation.libs.tooltip={name:'tooltip',version:'5.5.2',settings:{additional_inheritable_classes:[],tooltip_class:'.tooltip',append_to:'body',touch_close_text:'Tap To Close',disable_for_touch:false,hover_delay:200,show_on:'all',tip_template:function(selector,content){return'<span data-selector="'+selector+'" id="'+selector+'" class="'
+Foundation.libs.tooltip.settings.tooltip_class.substring(1)
+'" role="tooltip">'+content+'<span class="nub"></span></span>';}},cache:{},init:function(scope,method,options){Foundation.inherit(this,'random_str');this.bindings(method,options);},should_show:function(target,tip){var settings=$.extend({},this.settings,this.data_options(target));if(settings.show_on==='all'){return true;}else if(this.small()&&settings.show_on==='small'){return true;}else if(this.medium()&&settings.show_on==='medium'){return true;}else if(this.large()&&settings.show_on==='large'){return true;}
return false;},medium:function(){return matchMedia(Foundation.media_queries['medium']).matches;},large:function(){return matchMedia(Foundation.media_queries['large']).matches;},events:function(instance){var self=this,S=self.S;self.create(this.S(instance));function _startShow(elt,$this,immediate){if(elt.timer){return;}
if(immediate){elt.timer=null;self.showTip($this);}else{elt.timer=setTimeout(function(){elt.timer=null;self.showTip($this);}.bind(elt),self.settings.hover_delay);}}
function _startHide(elt,$this){if(elt.timer){clearTimeout(elt.timer);elt.timer=null;}
self.hide($this);}
$(this.scope).off('.tooltip').on('mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip','['+this.attr_name()+']',function(e){var $this=S(this),settings=$.extend({},self.settings,self.data_options($this)),is_touch=false;if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type)&&S(e.target).is('a')){return false;}
if(/mouse/i.test(e.type)&&self.ie_touch(e)){return false;}
if($this.hasClass('open')){if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type)){e.preventDefault();}
self.hide($this);}else{if(settings.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type)){return;}else if(!settings.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type)){e.preventDefault();S(settings.tooltip_class+'.open').hide();is_touch=true;if($('.open['+self.attr_name()+']').length>0){var prevOpen=S($('.open['+self.attr_name()+']')[0]);self.hide(prevOpen);}}
if(/enter|over/i.test(e.type)){_startShow(this,$this);}else if(e.type==='mouseout'||e.type==='mouseleave'){_startHide(this,$this);}else{_startShow(this,$this,true);}}}).on('mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip','['+this.attr_name()+'].open',function(e){if(/mouse/i.test(e.type)&&self.ie_touch(e)){return false;}
if($(this).data('tooltip-open-event-type')=='touch'&&e.type=='mouseleave'){return;}else if($(this).data('tooltip-open-event-type')=='mouse'&&/MSPointerDown|touchstart/i.test(e.type)){self.convert_to_touch($(this));}else{_startHide(this,$(this));}}).on('DOMNodeRemoved DOMAttrModified','['+this.attr_name()+']:not(a)',function(e){_startHide(this,S(this));});},ie_touch:function(e){return false;},showTip:function($target){var $tip=this.getTip($target);if(this.should_show($target,$tip)){return this.show($target);}
return;},getTip:function($target){var selector=this.selector($target),settings=$.extend({},this.settings,this.data_options($target)),tip=null;if(selector){tip=this.S('span[data-selector="'+selector+'"]'+settings.tooltip_class);}
return(typeof tip==='object')?tip:false;},selector:function($target){var dataSelector=$target.attr(this.attr_name())||$target.attr('data-selector');if(typeof dataSelector!='string'){dataSelector=this.random_str(6);$target.attr('data-selector',dataSelector).attr('aria-describedby',dataSelector);}
return dataSelector;},create:function($target){var self=this,settings=$.extend({},this.settings,this.data_options($target)),tip_template=this.settings.tip_template;if(typeof settings.tip_template==='string'&&window.hasOwnProperty(settings.tip_template)){tip_template=window[settings.tip_template];}
var $tip=$(tip_template(this.selector($target),$('<div></div>').html($target.attr('title')).html())),classes=this.inheritable_classes($target);$tip.addClass(classes).appendTo(settings.append_to);if(Modernizr.touch){$tip.append('<span class="tap-to-close">'+settings.touch_close_text+'</span>');$tip.on('touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip',function(e){self.hide($target);});}
$target.removeAttr('title').attr('title','');},reposition:function(target,tip,classes){var width,nub,nubHeight,nubWidth,column,objPos;tip.css('visibility','hidden').show();width=target.data('width');nub=tip.children('.nub');nubHeight=nub.outerHeight();nubWidth=nub.outerHeight();if(this.small()){tip.css({'width':'100%'});}else{tip.css({'width':(width)?width:'auto'});}
objPos=function(obj,top,right,bottom,left,width){return obj.css({'top':(top)?top:'auto','bottom':(bottom)?bottom:'auto','left':(left)?left:'auto','right':(right)?right:'auto'}).end();};objPos(tip,(target.offset().top+target.outerHeight()+10),'auto','auto',target.offset().left);if(this.small()){objPos(tip,(target.offset().top+target.outerHeight()+10),'auto','auto',12.5,$(this.scope).width());tip.addClass('tip-override');objPos(nub,-nubHeight,'auto','auto',target.offset().left);}else{var left=target.offset().left;if(Foundation.rtl){nub.addClass('rtl');left=target.offset().left+target.outerWidth()-tip.outerWidth();}
objPos(tip,(target.offset().top+target.outerHeight()+10),'auto','auto',left);if(nub.attr('style')){nub.removeAttr('style');}
tip.removeClass('tip-override');if(classes&&classes.indexOf('tip-top')>-1){if(Foundation.rtl){nub.addClass('rtl');}
objPos(tip,(target.offset().top-tip.outerHeight()),'auto','auto',left).removeClass('tip-override');}else if(classes&&classes.indexOf('tip-left')>-1){objPos(tip,(target.offset().top+(target.outerHeight()/2)-(tip.outerHeight()/2)),'auto','auto',(target.offset().left-tip.outerWidth()-nubHeight)).removeClass('tip-override');nub.removeClass('rtl');}else if(classes&&classes.indexOf('tip-right')>-1){objPos(tip,(target.offset().top+(target.outerHeight()/2)-(tip.outerHeight()/2)),'auto','auto',(target.offset().left+target.outerWidth()+nubHeight)).removeClass('tip-override');nub.removeClass('rtl');}}
tip.css('visibility','visible').hide();},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches;},inheritable_classes:function($target){var settings=$.extend({},this.settings,this.data_options($target)),inheritables=['tip-top','tip-left','tip-bottom','tip-right','radius','round'].concat(settings.additional_inheritable_classes),classes=$target.attr('class'),filtered=classes?$.map(classes.split(' '),function(el,i){if($.inArray(el,inheritables)!==-1){return el;}}).join(' '):'';return $.trim(filtered);},convert_to_touch:function($target){var self=this,$tip=self.getTip($target),settings=$.extend({},self.settings,self.data_options($target));if($tip.find('.tap-to-close').length===0){$tip.append('<span class="tap-to-close">'+settings.touch_close_text+'</span>');$tip.on('click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose',function(e){self.hide($target);});}
$target.data('tooltip-open-event-type','touch');},show:function($target){var $tip=this.getTip($target);if($target.data('tooltip-open-event-type')=='touch'){this.convert_to_touch($target);}
this.reposition($target,$tip,$target.attr('class'));$target.addClass('open');$tip.fadeIn(150);},hide:function($target){var $tip=this.getTip($target);$tip.fadeOut(150,function(){$tip.find('.tap-to-close').remove();$tip.off('click.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose');$target.removeClass('open');});},off:function(){var self=this;this.S(this.scope).off('.fndtn.tooltip');this.S(this.settings.tooltip_class).each(function(i){$('['+self.attr_name()+']').eq(i).attr('title',$(this).text());}).remove();},reflow:function(){}};}(jQuery,window,window.document));;(function($,window,document,undefined){'use strict';var back_text=$('#val_lang_back').text();if(!back_text){back_text='Back';}
Foundation.libs.topbar={name:'topbar',version:'5.5.2',settings:{index:0,start_offset:0,sticky_class:'sticky',custom_back_text:true,back_text:back_text,mobile_show_parent_link:false,is_hover:true,scrolltop:true,sticky_on:'all',dropdown_autoclose:true},init:function(section,method,options){Foundation.inherit(this,'add_custom_rule register_media throttle');var self=this;self.register_media('topbar','foundation-mq-topbar');this.bindings(method,options);self.S('['+this.attr_name()+']',this.scope).each(function(){var topbar=$(this),settings=topbar.data(self.attr_name(true)+'-init'),section=self.S('section, .top-bar-section',this);topbar.data('index',0);var topbarContainer=topbar.parent();if(topbarContainer.hasClass('fixed')||self.is_sticky(topbar,topbarContainer,settings)){self.settings.sticky_class=settings.sticky_class;self.settings.sticky_topbar=topbar;topbar.data('height',topbarContainer.outerHeight());topbar.data('stickyoffset',topbarContainer.offset().top);}else{topbar.data('height',topbar.outerHeight());}
if(!settings.assembled){self.assemble(topbar);}
if(settings.is_hover){self.S('.has-dropdown',topbar).addClass('not-click');}else{self.S('.has-dropdown',topbar).removeClass('not-click');}
self.add_custom_rule('.f-topbar-fixed { padding-top: '+topbar.data('height')+'px }');if(topbarContainer.hasClass('fixed')){self.S('body').addClass('f-topbar-fixed');}});},is_sticky:function(topbar,topbarContainer,settings){var sticky=topbarContainer.hasClass(settings.sticky_class);var smallMatch=matchMedia(Foundation.media_queries.small).matches;var medMatch=matchMedia(Foundation.media_queries.medium).matches;var lrgMatch=matchMedia(Foundation.media_queries.large).matches;if(sticky&&settings.sticky_on==='all'){return true;}
if(sticky&&this.small()&&settings.sticky_on.indexOf('small')!==-1){if(smallMatch&&!medMatch&&!lrgMatch){return true;}}
if(sticky&&this.medium()&&settings.sticky_on.indexOf('medium')!==-1){if(smallMatch&&medMatch&&!lrgMatch){return true;}}
if(sticky&&this.large()&&settings.sticky_on.indexOf('large')!==-1){if(smallMatch&&medMatch&&lrgMatch){return true;}}
return false;},toggle:function(toggleEl){var self=this,topbar;if(toggleEl){topbar=self.S(toggleEl).closest('['+this.attr_name()+']');}else{topbar=self.S('['+this.attr_name()+']');}
var settings=topbar.data(this.attr_name(true)+'-init');var section=self.S('section, .top-bar-section',topbar);if(self.breakpoint()){if(!self.rtl){section.css({left:'0%'});$('>.name',section).css({left:'100%'});}else{section.css({right:'0%'});$('>.name',section).css({right:'100%'});}
self.S('li.moved',section).removeClass('moved');topbar.data('index',0);topbar.toggleClass('expanded').css('height','');}
if(settings.scrolltop){if(!topbar.hasClass('expanded')){if(topbar.hasClass('fixed')){topbar.parent().addClass('fixed');topbar.removeClass('fixed');self.S('body').addClass('f-topbar-fixed');}}else if(topbar.parent().hasClass('fixed')){if(settings.scrolltop){topbar.parent().removeClass('fixed');topbar.addClass('fixed');self.S('body').removeClass('f-topbar-fixed');window.scrollTo(0,0);}else{topbar.parent().removeClass('expanded');}}}else{if(self.is_sticky(topbar,topbar.parent(),settings)){topbar.parent().addClass('fixed');}
if(topbar.parent().hasClass('fixed')){if(!topbar.hasClass('expanded')){topbar.removeClass('fixed');topbar.parent().removeClass('expanded');self.update_sticky_positioning();}else{topbar.addClass('fixed');topbar.parent().addClass('expanded');self.S('body').addClass('f-topbar-fixed');}}}},timer:null,events:function(bar){var self=this,S=this.S;S(this.scope).off('.topbar').on('click.fndtn.topbar','['+this.attr_name()+'] .toggle-topbar',function(e){e.preventDefault();self.toggle(this);}).on('click.fndtn.topbar contextmenu.fndtn.topbar','.top-bar .top-bar-section li a[href^="#"],['+this.attr_name()+'] .top-bar-section li a[href^="#"]',function(e){var li=$(this).closest('li'),topbar=li.closest('['+self.attr_name()+']'),settings=topbar.data(self.attr_name(true)+'-init');if(settings.dropdown_autoclose&&settings.is_hover){var hoverLi=$(this).closest('.hover');hoverLi.removeClass('hover');}
if(self.breakpoint()&&!li.hasClass('back')&&!li.hasClass('has-dropdown')){self.toggle();}}).on('click.fndtn.topbar','['+this.attr_name()+'] li.has-dropdown',function(e){var li=S(this),target=S(e.target),topbar=li.closest('['+self.attr_name()+']'),settings=topbar.data(self.attr_name(true)+'-init');if(target.data('revealId')){self.toggle();return;}
if(self.breakpoint()){return;}
if(settings.is_hover&&!Modernizr.touch){return;}
e.stopImmediatePropagation();if(li.hasClass('hover')){li.removeClass('hover').find('li').removeClass('hover');li.parents('li.hover').removeClass('hover');}else{li.addClass('hover');$(li).siblings().removeClass('hover');if(target[0].nodeName==='A'&&target.parent().hasClass('has-dropdown')){e.preventDefault();}}}).on('click.fndtn.topbar','['+this.attr_name()+'] .has-dropdown>a',function(e){if(self.breakpoint()){e.preventDefault();var $this=S(this),topbar=$this.closest('['+self.attr_name()+']'),section=topbar.find('section, .top-bar-section'),dropdownHeight=$this.next('.dropdown').outerHeight(),$selectedLi=$this.closest('li');topbar.data('index',topbar.data('index')+1);$selectedLi.addClass('moved');if(!self.rtl){section.css({left:-(100*topbar.data('index'))+'%'});section.find('>.name').css({left:100*topbar.data('index')+'%'});}else{section.css({right:-(100*topbar.data('index'))+'%'});section.find('>.name').css({right:100*topbar.data('index')+'%'});}
topbar.css('height',$this.siblings('ul').outerHeight(true)+topbar.data('height'));}});S(window).off('.topbar').on('resize.fndtn.topbar',self.throttle(function(){self.resize.call(self);},50)).trigger('resize.fndtn.topbar').load(function(){S(this).trigger('resize.fndtn.topbar');});S('body').off('.topbar').on('click.fndtn.topbar',function(e){var parent=S(e.target).closest('li').closest('li.hover');if(parent.length>0){return;}
S('['+self.attr_name()+'] li.hover').removeClass('hover');});S(this.scope).on('click.fndtn.topbar','['+this.attr_name()+'] .has-dropdown .back',function(e){e.preventDefault();var $this=S(this),topbar=$this.closest('['+self.attr_name()+']'),section=topbar.find('section, .top-bar-section'),settings=topbar.data(self.attr_name(true)+'-init'),$movedLi=$this.closest('li.moved'),$previousLevelUl=$movedLi.parent();topbar.data('index',topbar.data('index')-1);if(!self.rtl){section.css({left:-(100*topbar.data('index'))+'%'});section.find('>.name').css({left:100*topbar.data('index')+'%'});}else{section.css({right:-(100*topbar.data('index'))+'%'});section.find('>.name').css({right:100*topbar.data('index')+'%'});}
if(topbar.data('index')===0){topbar.css('height','');}else{topbar.css('height',$previousLevelUl.outerHeight(true)+topbar.data('height'));}
setTimeout(function(){$movedLi.removeClass('moved');},300);});S(this.scope).find('.dropdown a').focus(function(){$(this).parents('.has-dropdown').addClass('hover');}).blur(function(){$(this).parents('.has-dropdown').removeClass('hover');});},resize:function(){var self=this;self.S('['+this.attr_name()+']').each(function(){var topbar=self.S(this),settings=topbar.data(self.attr_name(true)+'-init');var stickyContainer=topbar.parent('.'+self.settings.sticky_class);var stickyOffset;if(!self.breakpoint()){var doToggle=topbar.hasClass('expanded');topbar.css('height','').removeClass('expanded').find('li').removeClass('hover');if(doToggle){self.toggle(topbar);}}
if(self.is_sticky(topbar,stickyContainer,settings)){if(stickyContainer.hasClass('fixed')){stickyContainer.removeClass('fixed');stickyOffset=stickyContainer.offset().top;if(self.S(document.body).hasClass('f-topbar-fixed')){stickyOffset-=topbar.data('height');}
topbar.data('stickyoffset',stickyOffset);stickyContainer.addClass('fixed');}else{stickyOffset=stickyContainer.offset().top;topbar.data('stickyoffset',stickyOffset);}}});},breakpoint:function(){return!matchMedia(Foundation.media_queries['topbar']).matches;},small:function(){return matchMedia(Foundation.media_queries['small']).matches;},medium:function(){return matchMedia(Foundation.media_queries['medium']).matches;},large:function(){return matchMedia(Foundation.media_queries['large']).matches;},assemble:function(topbar){var self=this,settings=topbar.data(this.attr_name(true)+'-init'),section=self.S('section, .top-bar-section',topbar);section.detach();self.S('.has-dropdown>a',section).each(function(){var $link=self.S(this),$dropdown=$link.siblings('.dropdown'),url=$link.attr('href'),$titleLi;if(!$dropdown.find('.title.back').length){if(settings.mobile_show_parent_link==true&&url){$titleLi=$('<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li><li class="parent-link hide-for-medium-up"><a class="parent-link js-generated" href="'+url+'">'+$link.html()+'</a></li>');}else{$titleLi=$('<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5>');}
if(settings.custom_back_text==true){$('h5>a',$titleLi).html(settings.back_text);}else{$('h5>a',$titleLi).html('&laquo; '+$link.html());}
$dropdown.prepend($titleLi);}});section.appendTo(topbar);this.sticky();this.assembled(topbar);},assembled:function(topbar){topbar.data(this.attr_name(true),$.extend({},topbar.data(this.attr_name(true)),{assembled:true}));},height:function(ul){var total=0,self=this;$('> li',ul).each(function(){total+=self.S(this).outerHeight(true);});return total;},sticky:function(){var self=this;this.S(window).on('scroll',function(){self.update_sticky_positioning();});},update_sticky_positioning:function(){var klass='.'+this.settings.sticky_class,$window=this.S(window),self=this;if(self.settings.sticky_topbar&&self.is_sticky(this.settings.sticky_topbar,this.settings.sticky_topbar.parent(),this.settings)){var distance=this.settings.sticky_topbar.data('stickyoffset')+this.settings.start_offset;if(!self.S(klass).hasClass('expanded')){if($window.scrollTop()>(distance)){if(!self.S(klass).hasClass('fixed')){self.S(klass).addClass('fixed');self.S('body').addClass('f-topbar-fixed');}}else if($window.scrollTop()<=distance){if(self.S(klass).hasClass('fixed')){self.S(klass).removeClass('fixed');self.S('body').removeClass('f-topbar-fixed');}}}}},off:function(){this.S(this.scope).off('.fndtn.topbar');this.S(window).off('.fndtn.topbar');},reflow:function(){}};}(jQuery,window,window.document));;var validation_ini={};jQuery(document).ready(function(){if($('a.open-clearing img#img-preview').length){var ip=$('a.open-clearing img#img-preview');var ip_height=ip.height();var ip_width=ip.width();var min_height=ip_width*0.7;if(ip_height<min_height){ip_height=min_height;}
$('a.open-clearing img').css({'max-height':ip_height+'px'});$('#open-clearing-wrapper').css({'min-height':ip_height+'px','max-height':ip_height+'px'});}
if($("#scrollContent").length>0){var scrolling=false;var scrollArea=document.querySelector('#scrollContent');if(scrollArea.offsetHeight<scrollArea.scrollHeight){$(".scroller").show();}
$("#scrollUp").bind("mouseover",function(event){scrolling=true;scrollContent("up");}).bind("mouseout",function(event){scrolling=false;});$("#scrollDown").bind("mouseover",function(event){scrolling=true;$("#scrollUp .icon").show();scrollContent("down");}).bind("mouseout",function(event){scrolling=false;});function scrollContent(direction){var amount=(direction==="up"?"-=1px":"+=1px");$("#scrollContent").animate({scrollTop:amount},1,function(){if(scrolling){scrollContent(direction);}});}}
var window_loc_hash=window.location.hash;if($('.gateway_wrapper .colorbox').length){var colorbox=$('.colorbox');var href=colorbox.attr('href');var title=colorbox.attr('title');colorbox.attr('href','#').attr('data-reveal-id','colorbox');$('.colorbox').after($('<div>').attr('id','colorbox').addClass('reveal-modal').addClass('tiny').attr('data-reveal','').attr('aria-labelledby',title).attr('aria-hidden','true').attr('role','dialog').html('<h3>'+title+'</h3><img src="'+href+'"><a class="close-reveal-modal">&#215;</a>'));$(".gateway_wrapper .colorbox").click(function(){$('#colorbox').foundation('reveal','open');});}
$(".eu_cookie_button").click(function(e){var accept=false;if($(this).attr('name')=='accept_cookies_submit'){accept=true;}
if($(this).attr('data-alert-text')){alert($(this).attr('data-alert-text'));}
$('#eu_cookie_dialogue').slideUp();$.cookie('accept_cookies',accept,{expires:365});$.ajax({url:'?_g=ajax_cookie_consent&accept='+(accept?'1':'0'),cache:false});return false;});$(".top-bar label").click(function(){var link=$(this).attr('rel');if(typeof link!==typeof undefined&&link!==false){document.location.href=link;}});$(".autosubmit select, .autosubmit input[type=radio]").not('.nosubmit').change(function(){$(this).parents(".autosubmit").submit();});$('.icon-submit').each(function(){$(this).parents('form').submit();});$(".category-nav li").each(function(index){if(!$(this).has("ul").length){$(this).removeClass('has-dropdown');}});$(".review_hide").click(function(){$('#review_read').show();$('#review_write').slideUp();return false;});$(".review_show").click(function(){$('#review_read').hide();$('#review_write').slideDown();return false;});$(".show-small-search").click(function(){$('#small-search').slideToggle();return;});$(".hide_skin_selector").click(function(e){e.preventDefault();$('.skin_selector').fadeOut();return;});$(".image-gallery").hover(function(){var src=$(this).attr("data-image-swap");$('#img-preview').attr("src",src);});$('.open-clearing').on('click',function(e){e.preventDefault();$('[data-clearing] li img').eq($(this).data('thumb-index')).trigger('click');});$('input[type=radio].rating').rating({required:true});$('body').on('click','#basket-summary',function(){mini_basket_action();});$('a.quan').click(function(){var rel=$(this).attr('rel');var sign;if($(this).hasClass('add')){sign='+';}else if($(this).hasClass('subtract')){sign='-';}else{alert('No \'add\' or \'subtract\' class defined.');}
return update_quantity(rel,sign);});$('#checkout_proceed').click(function(){$('<input>').attr({type:'hidden',name:'proceed',value:'1'}).appendTo('form#checkout_form');});$('select#country-list, select.country-list').each(function(){if(typeof(county_list)=='object'){var counties=county_list[$(this).val()];var target=($(this).attr('rel')&&$(this).attr('id')!='country-list')?'#'+$(this).attr('rel'):'#state-list';var zone_status=$('option:selected',this).attr('data-status');var form_id=$(this).closest("form").attr('id');validation_ini[target]=stateRequirements(zone_status,form_id,target,false);if(typeof(counties)=='object'){var setting=$(target).val();var select=document.createElement('select');$(target).replaceWith($(select).attr({'name':$(target).attr('name'),'id':$(target).attr('id'),'class':$(target).attr('class')}));if($(this).attr('title')){var option=document.createElement('option');$('select'+target).append($(option).text($(this).attr('title')));}
for(i in counties){var option=document.createElement('option');if(setting.toLowerCase()==counties[i].name.toLowerCase()||setting==counties[i].id){$('select'+target).append($(option).val(counties[i].id).text(counties[i].name).attr('selected','selected'));}else{if(counties[i].id>0){$('select'+target).append($(option).val(counties[i].id).text(counties[i].name));}else{$('select'+target).append($(option).val('').text(counties[i].name));}}}}else{if($(this).hasClass('no-custom-zone'))$(target).attr({'disabled':'disabled'}).val($(this).attr('title'));}}}).change(function(){if(typeof(county_list)=='object'){var list=county_list[$(this).val()];var target=($(this).attr('rel')&&$(this).attr('id')!='country-list')?'#'+$(this).attr('rel'):'#state-list';var zone_status=$('option:selected',this).attr('data-status');var form_id=$(this).closest("form").attr('id');validation_ini[target]=stateRequirements(zone_status,form_id,target,true);if(typeof(list)=='object'&&typeof(county_list[$(this).val()])!='undefined'&&county_list[$(this).val()].length>=1){var setting=$(target).val();var select=document.createElement('select');$(target).replaceWith($(select).attr({'name':$(target).attr('name'),'id':$(target).attr('id'),'class':$(target).attr('class')}));if($(this).attr('title')){var option=document.createElement('option');$('select'+target).append($(option).text($(this).attr('title')));}
for(var i=0;i<list.length;i++){var option=document.createElement('option');if(list[i].id>0){$('select'+target).append($(option).val(list[i].id).text(list[i].name));}else{$('select'+target).append($(option).val('').text(list[i].name));}}
if(setting>0){$('select'+target+' > option[value='+setting+']').attr('selected','selected');}}else{var input=document.createElement('input');var placeholder=$('label[for="'+$(this).attr('rel')+'"]').text()+' '+$('#validate_required').text();var replacement=$(input).attr({'type':'text','placeholder':placeholder,'id':$(target).attr('id'),'name':$(target).attr('name'),'class':$(target).attr('class'),'required':$(target).attr('required')});if($(this).hasClass('no-custom-zone'))$(replacement).attr('disabled','disabled').val($(this).attr('title'));$(target).replaceWith($(replacement));}}});$('.show_address_form').click(function(){show_address_form();});if($('div.alert').length){show_address_form();}
if($('#delivery_is_billing:checkbox').length){if($('#delivery_is_billing:checkbox').prop('checked')==true){$('#address_delivery').hide();}else{$('#address_delivery').show();}}
$('#delivery_is_billing:checkbox').change(function(){if($(this).is(':checked')){$('#address_delivery').hide();}else{$('#address_delivery').show();}});if($('input#show-reg:checkbox').is(':checked')==false)$('#account-reg').hide();$('input#show-reg:checkbox').change(function(){if($(this).is(':checked')){$('#account-reg').show();$('input#reg_password').addClass('required');$('input#reg_passconf').addClass('required');}else{$('#account-reg').hide();$('input#reg_password').removeClass('required');$('input#reg_passconf').removeClass('required');}});$('.grid_view').click(function(event){grid_view(200,event);});$('.list_view').click(function(event){list_view(200,event);});set_product_view(0);$('.url_select').bind('change',function(){var url=$(this).val();if(url){window.location=url;}
return false;});$("#ccScroll").on("click",".ccScroll-next",function(event){event.preventDefault();$(this).hide();$("#loading").show();window.location.hash=$(this).attr("data-next-page");var loc=$(window).scrollTop();var cat=parseInt($(this).attr("data-cat"));var page=parseInt($(this).attr("data-next-page"));var product_list=$('.product_list');var next_link=$('a.ccScroll-next');if($.cookie('ccScroll')){var ccScrollHistory=$.parseJSON($.cookie("ccScroll"));ccScrollHistory[cat]=page;}else{ccScrollHistory={};ccScrollHistory[cat]=page;}
if(loc>0){ccScrollHistory['loc']=loc;}
var date=new Date();date.setTime(date.getTime()+(10*60*1000));$.cookie("ccScroll",JSON.stringify(ccScrollHistory),{expires:date});$.ajax({async:false,url:$(this).attr('href'),cache:true,complete:function(returned){var page=returned.responseText;var list=$('.product_list li',page);var next=$('a.ccScroll-next',page);setTimeout(function(){product_list.append(list);set_product_view(0)
$(next_link).replaceWith(next);init_add_to_basket();$("#loading").hide();},1500);}});});if($('#ccScrollCat').length>0){var cat_pages=parseInt($('#ccScrollCat').text());if($.cookie('ccScroll')){var ccScrollHistory=$.parseJSON($.cookie("ccScroll"));if(cat_pages in ccScrollHistory){for(i=1;i<ccScrollHistory[cat_pages];i++){$('.ccScroll-next:last').trigger("click");}
$('html, body').animate({scrollTop:ccScrollHistory['loc']},'slow');}}}
var duration=500;$(window).scroll(function(){if($(this).scrollTop()>400){$('.back-to-top').fadeIn(duration);}else{$('.back-to-top').fadeOut(duration);}});$('.back-to-top').click(function(event){event.preventDefault();$('html, body').animate({scrollTop:0},duration);return false;});$('#show-small-search').click(function(){$("#small-search").slideDown();});if($("#checkout_form")[0]){if(window_loc_hash=='#login'){checkout_form_toggle(false);}else if(window_loc_hash=='#register'){checkout_form_toggle(true);}
$('#checkout_login').click(function(){checkout_form_toggle(false);});$('#checkout_register').click(function(){checkout_form_toggle(true);});}
if($('#ptp').length>0&&$('[name^=productOptions]').length>0){price_inc_options();$("[name^=productOptions]").change(function(){price_inc_options();});}
$("#newsletter_email").focus(function(){$("#newsletter_recaptcha").slideDown();});if(Foundation.utils.is_small_only()){grid_view(0);$('#content_checkout_medium_up').remove();$("[checked]").prop("checked",true);}
if(Foundation.utils.is_medium_up()){$('#content_checkout_small').remove();$("[checked]").prop("checked",true);}});function init_add_to_basket(){$("form.add_to_basket").each(function(index,el){$(el).validate({submitHandler:function(form){add_to_basket(form);}});});}
function price_inc_options(){var action=$('form.add_to_basket').attr('action');var absolute=false;var total=0;var ptp=parseFloat($('#ptp').attr("data-price"));var fbp=parseFloat($('#fbp').attr("data-price"));var ptp_original=ptp;var fbp_original=fbp;var parts=action.split("?");if(parts.length>1){action+="&";}else{action+="?";}
action+='_g=ajax_price_format&price[0]=';$("[name^=productOptions]").each(function(){if($(this).is('input:radio')&&$(this).is(':checked')){if($(this).hasClass('absolute')){total=ptp=0;absolute=true;}
total+=parseFloat($(this).attr("data-price"));}else if($(this).is('select')&&$(this).val()){if($("option:selected",this).hasClass('absolute')){total=ptp=0;absolute=true;}
total+=parseFloat($(this).find("option:selected").attr("data-price"));}else if(($(this).is('textarea')||$(this).is('input:text'))&&$(this).val()!==''){if($(this).hasClass('absolute')){total=ptp=0;absolute=true;}
total+=parseFloat($(this).attr("data-price"));}});ptp=(absolute?total:ptp+total);if($('#fbp').length>0){fbp=(absolute?total:fbp+total);$.ajax({url:action+ptp+'&price[1]='+fbp,cache:true,complete:function(returned){var prices=$.parseJSON(returned.responseText);$('#ptp').html(prices[0]);$('#fbp').html(prices[1]);if(absolute&&prices[0]<=prices[1]){$('#fbp').hide();$('#ptp').removeClass('sale_price');}else{$('#fbp').show();$('#ptp').addClass('sale_price');}}});}else{$.ajax({url:action+ptp,cache:true,complete:function(returned){var prices=$.parseJSON(returned.responseText);$('#ptp').html(prices[0]);}});}}
function add_to_basket(form){var add=$(form).serialize();var action=$(form).attr('action').replace(/\?.*/,'');var on_canvas_basket_content='';var parts=action.split("?");if(parts.length>1){action+="&";}else{action+="?";}
$.ajax({url:action+'_g=ajaxadd',type:'POST',cache:false,data:add,complete:function(returned){if(returned.responseText.match("Redir:")){var redir=returned.responseText.split('Redir:');window.location=redir[1];}else{$('#mini-basket').replaceWith(returned.responseText);on_canvas_basket_content=$('#mini-basket .box-basket-content').html();$(".right-off-canvas-menu .box-basket-content").html(on_canvas_basket_content);$(".alert-box").slideUp();mini_basket_action();}}});return false;}
function checkout_form_toggle(register){if(register){$("#checkout_login_form").hide();$("#checkout_register_form").slideDown();$("#reg_password").prop('disabled',false);$("#login-username").prop('disabled',true);$("#login-password").prop('disabled',true);$('#checkout_form').removeAttr("action").attr("action",'#register');}else{$("#checkout_login_form").slideDown();$("#checkout_register_form").hide();$("#reg_password").prop('disabled',true);$("#login-username").prop('disabled',false);$("#login-password").prop('disabled',false);$('#checkout_form').removeAttr("action").attr("action",'#login');}}
function set_product_view(delay){if($.cookie('product_view')=='grid'){grid_view(delay,null);}}
function show_address_form(){$('#register_false_address').hide();$('#checkout_register_form').show();}
function mini_basket_action(){$('#basket-detail, #small-basket-detail').fadeIn('fast',function(){$(this).delay(4000).fadeOut('slow');if($('#basket-detail').height()>$(window).height()){window.location.href='?_a=basket';}});}
function grid_view(duration,event){if(event!=null){event.preventDefault();}
$.when($('.product_list').fadeOut(duration,function(){if(Foundation.utils.is_medium_up()){$('.product_list').addClass('medium-block-grid-3');}
$('.grid_view').parent('dd').addClass('active');$('.list_view').parent('dd').removeClass('active');$('.product_list_view').addClass('hide');$('.product_grid_view').removeClass('hide');$('.product_grid_view .quantity').prop('disabled',false);$('.product_list_view .quantity').prop('disabled',true);$('.product_list_view .quantity').val('1');$('.product_list').fadeIn(duration,function(){$.cookie('product_view','grid',{expires:730});});})).done(function(){$(document).foundation('equalizer','reflow');});return false;}
function list_view(duration,event){if(event!=null){event.preventDefault();}
$.when($('.product_list').fadeOut(duration,function(){$('.product_list').removeClass('medium-block-grid-3');$('.list_view').parent('dd').addClass('active');$('.grid_view').parent('dd').removeClass('active');$('.product_grid_view').addClass('hide');$('.product_list_view').removeClass('hide');$('.product_grid_view .quantity').prop('disabled',true);$('.product_list_view .quantity').prop('disabled',false);$('.product_grid_view .quantity').val('1');$('.product_list').fadeIn(duration,function(){$.cookie('product_view','list',{expires:730});});})).done(function(){$(document).foundation('equalizer','reflow');});return false;}
function update_quantity(rel,sign){var target=$('input[name="quan['+rel+']"]');var quick_update=$('#quick_update_'+rel);var original_val=$('#original_val_'+rel).text();var old_val=$(target).val();var new_val=0;if(sign=='+'){if(old_val<999){var new_val=+old_val+ +1;}else{return false;}}else if(sign=='-'){if(old_val<1){return false;}
var new_val=(old_val-1);}
$(target).val(new_val);$('span.disp_quan_'+rel).text(new_val);if(original_val==new_val){quick_update.slideUp();}else{quick_update.slideDown();}
if(!$("#checkout_login_form")[0]){$('#checkout_form').removeAttr("action").attr("action",'#basket_item_'+rel);}
return false;}
var stateRequirements=function(zone_status,form_id,target,change){var val=false;var disabled=false;switch(zone_status){case'1':val=true;$(target+"_wrapper").show();break;case'2':$(target+"_wrapper").show();break;case'3':disabled=true;$(target+"_wrapper").hide();break;}
$(target).prop('disabled',disabled);if(change){$(target).rules("add",{required:val});$(form_id).validate();}
return val;};;jQuery(document).ready(function(){$.validator.setDefaults({errorElement:'small',errorPlacement:function(error,element){if(element.is(":radio")||element.is(":checkbox")){var errorLocation=element.attr('rel');if($('#'+errorLocation).length){error.insertAfter('#'+errorLocation);}else{element.removeClass("error");alert(error.text());}}else{error.insertAfter(element);}}});$.validator.addMethod("phone",function(phone,element){phone=phone.replace(/\s+/g,"");return this.optional(element)||phone.match(/^[0-9-+()]+$/);},$('#validate_phone').text());$.extend(jQuery.validator.messages,{required:$('#validate_field_required').text()});init_add_to_basket();$("#recover_password").validate({rules:{'email':{required:true,email:true}},messages:{'email':{required:$('#validate_email').text(),review:$('#validate_email').text()}}});$("#review_form").validate({rules:{'review[name]':{required:true},'review[review]':{required:true},'review[title]':{required:true},'review[email]':{required:true,email:true}},messages:{'review[email]':{required:$('#validate_email').text(),review:$('#validate_email').text()}}});$("#contact_form").validate({rules:{'contact[subject]':{required:true},'contact[dept]':{required:true},'contact[enquiry]':{required:true},'contact[name]':{required:true},'contact[email]':{required:true,email:true}},messages:{'contact[email]':{required:$('#validate_email').text(),email:$('#validate_email').text()}}});$("#gc_form").validate({rules:{'gc[email]':{required:true,email:true}},messages:{'gc[email]':{required:$('#validate_email').text(),email:$('#validate_email').text()}}});$("#newsletter_form, #newsletter_form_box").validate({onkeyup:false,rules:{subscribe:{required:true,email:true,remote:{url:"?_g=ajax_email&source=newsletter",type:"post",data:{username:function(){return $("#newsletter_email").val();},token:function(){return $("input[name=token]").val();}},dataFilter:function(data){var json=JSON.parse(data);if(json.result){$("#subscribe_button").val($('#validate_subscribe').text());$("#force_unsubscribe").val('0');}else{alert($('#validate_already_subscribed').text());$("#subscribe_button").val($('#validate_unsubscribe').text());$("#force_unsubscribe").val('1');}
return true;}}},},messages:{subscribe:{required:$('#validate_email').text(),email:$('#validate_email').text(),remote:$('#validate_already_subscribed').text()},},submitHandler:function(form){form.submit();}});$("#newsletter_form_unsubscribe").validate({onkeyup:false,rules:{unsubscribe:{required:true,email:true},},messages:{unsubscribe:{required:$('#validate_email').text(),email:$('#validate_email').text()},}});$("#checkout_form").validate({rules:{username:{required:true,email:true},'user[first_name]':{required:true},'user[last_name]':{required:true},'user[email]':{required:true,email:true,remote:{url:"?_g=ajax_email",type:"post",data:{username:function(){return $("#user_email").val();},token:function(){return $("input[name=token]").val();}},dataFilter:function(data){var json=JSON.parse(data);return json.result;}}},'user[phone]':{required:true,phone:true},'user[mobile]':{phone:true},'billing[line1]':{required:true},'billing[town]':{required:true},'billing[country]':{required:true},'billing[state]':{required:validation_ini['#state-list']},'billing[postcode]':{required:true},'delivery[line1]':{required:true},'delivery[town]':{required:true},'delivery[country]':{required:true},'delivery[state]':{required:validation_ini['#delivery_state']},'delivery[postcode]':{required:true},password:{required:true},passconf:{equalTo:"#reg_password"},terms_agree:{required:true},gateway:{required:true}},messages:{username:{required:$('#validate_email').text(),email:$('#validate_email').text()},'user[email]':{required:$('#validate_email').text(),email:$('#validate_email').text(),remote:$('#validate_email_in_use').text()},'user[phone]':{required:$('#validate_phone').text(),phone:$('#validate_phone').text()},'user[mobile]':{phone:$('#validate_mobile').text()},password:{required:$('#validate_password').text()},passconf:{required:$('#validate_password_mismatch').text(),equalTo:$('#validate_password_mismatch').text()},terms_agree:{required:$('#validate_terms_agree').text()},gateway:{required:$('#validate_gateway_required').text()}},submitHandler:function(form){form.submit();}});$("#checkout_form").on("click",'#checkout_register',function(){$("#reg_password").rules("add",{minlength:6,messages:{minlength:$('#validate_password_length').text()}});});$("#checkout_form").on("click",'#checkout_login',function(){$("#reg_password").rules("remove","minlength");});$("#addressbook_form").validate({rules:{first_name:{required:true},last_name:{required:true},line1:{required:true},town:{required:true},country:{required:true},state:{required:validation_ini['#state-list']},postcode:{required:true}}});$("#lookup_order").validate({rules:{cart_order_id:{required:true},email:{required:true,email:true}},messages:{email:{required:$('#validate_email').text(),email:$('#validate_email').text()},}});$(".search_form").validate({rules:{'search[keywords]':{required:true}},messages:{'search[keywords]':{required:$('.validate_search').first().text()}}});$("#advanced_search_form").validate({rules:{'search[keywords]':{required:true}},messages:{'search[keywords]':{required:$('.validate_search').first().text()}}});$("#login_form").validate({rules:{username:{required:true,email:true},password:{required:true}},messages:{username:{required:$('#validate_email').text(),email:$('#validate_email').text()},password:{required:$('#empty_password').text()}}});$("#password_recovery").validate({rules:{email:{required:true,email:true},validate:{required:true},'password[password]':{required:true,minlength:6},'password[passconf]':{equalTo:"#password"}},messages:{email:{required:$('#validate_email').text(),email:$('#validate_email').text()},'password[password]':{required:$('#validate_password').text(),minlength:$('#validate_password_length').text()},'password[passconf]':{required:$('#validate_password_mismatch').text(),equalTo:$('#validate_password_mismatch').text()}}});$("#registration_form").validate({rules:{first_name:{required:true},last_name:{required:true},email:{required:true,email:true,remote:{url:"?_g=ajax_email",type:"post",data:{username:function(){return $("#email").val();},token:function(){return $("input[name=token]").val();}},dataFilter:function(data){var json=JSON.parse(data);return json.result;}}},phone:{required:true,phone:true},mobile:{required:false,phone:true},password:{required:true,minlength:6},passconf:{equalTo:"#password"},terms_agree:{required:true}},messages:{first_name:{required:$('#validate_firstname').text()},last_name:{required:$('#validate_lastname').text()},email:{required:$('#validate_email').text(),email:$('#validate_email').text(),remote:$('#validate_email_in_use').text()},phone:{required:$('#validate_phone').text(),phone:$('#validate_phone').text()},mobile:{phone:$('#validate_mobile').text()},password:{required:$('#validate_password').text(),minlength:$('#validate_password_length').text()},passconf:{required:$('#validate_password_mismatch').text(),equalTo:$('#validate_password_mismatch').text()},terms_agree:{required:$('#validate_terms_agree').text()}},submitHandler:function(form){form.submit();}});$("#profile_form").validate({rules:{first_name:{required:true},last_name:{required:true},email:{required:true,email:true},phone:{required:true,phone:true},mobile:{required:false,phone:true},passnew:{minlength:6,},passconf:{equalTo:"#passnew",}},messages:{first_name:{required:$('#validate_firstname').text()},last_name:{required:$('#validate_lastname').text()},email:{required:$('#validate_email').text(),email:$('#validate_email').text()},phone:{required:$('#validate_phone').text(),phone:$('#validate_phone').text()},mobile:{phone:$('#validate_mobile').text()},passnew:{minlength:$('#validate_password_length').text()},passconf:{equalTo:$('#validate_password_mismatch').text()}}});$('input:reset').click(function(){$(this).parents('form:first').validate().resetForm();});});